import{r as j,a as wc,b as ru,R as $,c as nu,d as iu,e as fe,g as au}from"./vendor-CFo_r9hK.js";import{l as ou,E as lu,u as cu,a as du,C as Ma}from"./stripe-DUVnjbzk.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=s(i);fetch(i.href,a)}})();var jc={exports:{}},Fr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uu=j,hu=Symbol.for("react.element"),fu=Symbol.for("react.fragment"),mu=Object.prototype.hasOwnProperty,xu=uu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pu={key:!0,ref:!0,__self:!0,__source:!0};function Cc(e,t,s){var r,i={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)mu.call(t,r)&&!pu.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:hu,type:e,key:a,ref:o,props:i,_owner:xu.current}}Fr.Fragment=fu;Fr.jsx=Cc;Fr.jsxs=Cc;jc.exports=Fr;var n=jc.exports,si={},La=wc;si.createRoot=La.createRoot,si.hydrateRoot=La.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Is(){return Is=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Is.apply(this,arguments)}var Dt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Dt||(Dt={}));const Ia="popstate";function gu(e){e===void 0&&(e={});function t(r,i){let{pathname:a,search:o,hash:c}=r.location;return ri("",{pathname:a,search:o,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function s(r,i){return typeof i=="string"?i:Sc(i)}return yu(t,s,null,e)}function Re(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nc(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function vu(){return Math.random().toString(36).substr(2,8)}function Va(e,t){return{usr:e.state,key:e.key,idx:t}}function ri(e,t,s,r){return s===void 0&&(s=null),Is({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?xs(t):t,{state:s,key:t&&t.key||r||vu()})}function Sc(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function xs(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function yu(e,t,s,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,c=Dt.Pop,h=null,l=d();l==null&&(l=0,o.replaceState(Is({},o.state,{idx:l}),""));function d(){return(o.state||{idx:null}).idx}function u(){c=Dt.Pop;let p=d(),g=p==null?null:p-l;l=p,h&&h({action:c,location:b.location,delta:g})}function f(p,g){c=Dt.Push;let v=ri(b.location,p,g);l=d()+1;let y=Va(v,l),w=b.createHref(v);try{o.pushState(y,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(w)}a&&h&&h({action:c,location:b.location,delta:1})}function m(p,g){c=Dt.Replace;let v=ri(b.location,p,g);l=d();let y=Va(v,l),w=b.createHref(v);o.replaceState(y,"",w),a&&h&&h({action:c,location:b.location,delta:0})}function x(p){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof p=="string"?p:Sc(p);return v=v.replace(/ $/,"%20"),Re(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let b={get action(){return c},get location(){return e(i,o)},listen(p){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Ia,u),h=p,()=>{i.removeEventListener(Ia,u),h=null}},createHref(p){return t(i,p)},createURL:x,encodeLocation(p){let g=x(p);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:m,go(p){return o.go(p)}};return b}var Oa;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Oa||(Oa={}));function bu(e,t,s){return s===void 0&&(s="/"),wu(e,t,s)}function wu(e,t,s,r){let i=typeof t=="string"?xs(t):t,a=kc(i.pathname||"/",s);if(a==null)return null;let o=Ec(e);ju(o);let c=null;for(let h=0;c==null&&h<o.length;++h){let l=_u(a);c=Tu(o[h],l)}return c}function Ec(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let i=(a,o,c)=>{let h={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};h.relativePath.startsWith("/")&&(Re(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let l=Ht([r,h.relativePath]),d=s.concat(h);a.children&&a.children.length>0&&(Re(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),Ec(a.children,t,d,l)),!(a.path==null&&!a.index)&&t.push({path:l,score:Du(l,a.index),routesMeta:d})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))i(a,o);else for(let h of Ac(a.path))i(a,o,h)}),t}function Ac(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,i=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=Ac(r.join("/")),c=[];return c.push(...o.map(h=>h===""?a:[a,h].join("/"))),i&&c.push(...o),c.map(h=>e.startsWith("/")&&h===""?"/":h)}function ju(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Bu(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const Cu=/^:[\w-]+$/,Nu=3,Su=2,Eu=1,Au=10,ku=-2,qa=e=>e==="*";function Du(e,t){let s=e.split("/"),r=s.length;return s.some(qa)&&(r+=ku),t&&(r+=Su),s.filter(i=>!qa(i)).reduce((i,a)=>i+(Cu.test(a)?Nu:a===""?Eu:Au),r)}function Bu(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function Tu(e,t,s){let{routesMeta:r}=e,i={},a="/",o=[];for(let c=0;c<r.length;++c){let h=r[c],l=c===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",u=Pu({path:h.relativePath,caseSensitive:h.caseSensitive,end:l},d),f=h.route;if(!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Ht([a,u.pathname]),pathnameBase:Ou(Ht([a,u.pathnameBase])),route:f}),u.pathnameBase!=="/"&&(a=Ht([a,u.pathnameBase]))}return o}function Pu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=Fu(e.path,e.caseSensitive,e.end),i=t.match(s);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((l,d,u)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let b=c[u]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const x=c[u];return m&&!x?l[f]=void 0:l[f]=(x||"").replace(/%2F/g,"/"),l},{}),pathname:a,pathnameBase:o,pattern:e}}function Fu(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),Nc(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function _u(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nc(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function kc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function Ru(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:i=""}=typeof e=="string"?xs(e):e;return{pathname:s?s.startsWith("/")?s:Mu(s,t):t,search:qu(r),hash:zu(i)}}function Mu(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?s.length>1&&s.pop():i!=="."&&s.push(i)}),s.length>1?s.join("/"):"/"}function Qr(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Lu(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Iu(e,t){let s=Lu(e);return t?s.map((r,i)=>i===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function Vu(e,t,s,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=xs(e):(i=Is({},e),Re(!i.pathname||!i.pathname.includes("?"),Qr("?","pathname","search",i)),Re(!i.pathname||!i.pathname.includes("#"),Qr("#","pathname","hash",i)),Re(!i.search||!i.search.includes("#"),Qr("#","search","hash",i)));let a=e===""||i.pathname==="",o=a?"/":i.pathname,c;if(o==null)c=s;else{let u=t.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),u-=1;i.pathname=f.join("/")}c=u>=0?t[u]:"/"}let h=Ru(i,c),l=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(l||d)&&(h.pathname+="/"),h}const Ht=e=>e.join("/").replace(/\/\/+/g,"/"),Ou=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),qu=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,zu=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function $u(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Dc=["post","put","patch","delete"];new Set(Dc);const Uu=["get",...Dc];new Set(Uu);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vs(){return Vs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Vs.apply(this,arguments)}const Ii=j.createContext(null),Wu=j.createContext(null),_r=j.createContext(null),Rr=j.createContext(null),Xt=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Bc=j.createContext(null);function Mr(){return j.useContext(Rr)!=null}function Vi(){return Mr()||Re(!1),j.useContext(Rr).location}function Tc(e){j.useContext(_r).static||j.useLayoutEffect(e)}function ct(){let{isDataRoute:e}=j.useContext(Xt);return e?ih():Hu()}function Hu(){Mr()||Re(!1);let e=j.useContext(Ii),{basename:t,future:s,navigator:r}=j.useContext(_r),{matches:i}=j.useContext(Xt),{pathname:a}=Vi(),o=JSON.stringify(Iu(i,s.v7_relativeSplatPath)),c=j.useRef(!1);return Tc(()=>{c.current=!0}),j.useCallback(function(l,d){if(d===void 0&&(d={}),!c.current)return;if(typeof l=="number"){r.go(l);return}let u=Vu(l,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Ht([t,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[t,r,o,a,e])}function Ku(){let{matches:e}=j.useContext(Xt),t=e[e.length-1];return t?t.params:{}}function Yu(e,t){return Gu(e,t)}function Gu(e,t,s,r){Mr()||Re(!1);let{navigator:i}=j.useContext(_r),{matches:a}=j.useContext(Xt),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let h=o?o.pathnameBase:"/";o&&o.route;let l=Vi(),d;if(t){var u;let p=typeof t=="string"?xs(t):t;h==="/"||(u=p.pathname)!=null&&u.startsWith(h)||Re(!1),d=p}else d=l;let f=d.pathname||"/",m=f;if(h!=="/"){let p=h.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(p.length).join("/")}let x=bu(e,{pathname:m}),b=eh(x&&x.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:Ht([h,i.encodeLocation?i.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?h:Ht([h,i.encodeLocation?i.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,s,r);return t&&b?j.createElement(Rr.Provider,{value:{location:Vs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Dt.Pop}},b):b}function Xu(){let e=nh(),t=$u(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},t),s?j.createElement("pre",{style:i},s):null,null)}const Qu=j.createElement(Xu,null);class Zu extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?j.createElement(Xt.Provider,{value:this.props.routeContext},j.createElement(Bc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ju(e){let{routeContext:t,match:s,children:r}=e,i=j.useContext(Ii);return i&&i.static&&i.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=s.route.id),j.createElement(Xt.Provider,{value:t},r)}function eh(e,t,s,r){var i;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,c=(i=s)==null?void 0:i.errors;if(c!=null){let d=o.findIndex(u=>u.route.id&&(c==null?void 0:c[u.route.id])!==void 0);d>=0||Re(!1),o=o.slice(0,Math.min(o.length,d+1))}let h=!1,l=-1;if(s&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let u=o[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=d),u.route.id){let{loaderData:f,errors:m}=s,x=u.route.loader&&f[u.route.id]===void 0&&(!m||m[u.route.id]===void 0);if(u.route.lazy||x){h=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((d,u,f)=>{let m,x=!1,b=null,p=null;s&&(m=c&&u.route.id?c[u.route.id]:void 0,b=u.route.errorElement||Qu,h&&(l<0&&f===0?(ah("route-fallback"),x=!0,p=null):l===f&&(x=!0,p=u.route.hydrateFallbackElement||null)));let g=t.concat(o.slice(0,f+1)),v=()=>{let y;return m?y=b:x?y=p:u.route.Component?y=j.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=d,j.createElement(Ju,{match:u,routeContext:{outlet:d,matches:g,isDataRoute:s!=null},children:y})};return s&&(u.route.ErrorBoundary||u.route.errorElement||f===0)?j.createElement(Zu,{location:s.location,revalidation:s.revalidation,component:b,error:m,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var Pc=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Pc||{}),Fc=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Fc||{});function th(e){let t=j.useContext(Ii);return t||Re(!1),t}function sh(e){let t=j.useContext(Wu);return t||Re(!1),t}function rh(e){let t=j.useContext(Xt);return t||Re(!1),t}function _c(e){let t=rh(),s=t.matches[t.matches.length-1];return s.route.id||Re(!1),s.route.id}function nh(){var e;let t=j.useContext(Bc),s=sh(),r=_c();return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function ih(){let{router:e}=th(Pc.UseNavigateStable),t=_c(Fc.UseNavigateStable),s=j.useRef(!1);return Tc(()=>{s.current=!0}),j.useCallback(function(i,a){a===void 0&&(a={}),s.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Vs({fromRouteId:t},a)))},[e,t])}const za={};function ah(e,t,s){za[e]||(za[e]=!0)}function oh(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ye(e){Re(!1)}function lh(e){let{basename:t="/",children:s=null,location:r,navigationType:i=Dt.Pop,navigator:a,static:o=!1,future:c}=e;Mr()&&Re(!1);let h=t.replace(/^\/*/,"/"),l=j.useMemo(()=>({basename:h,navigator:a,static:o,future:Vs({v7_relativeSplatPath:!1},c)}),[h,c,a,o]);typeof r=="string"&&(r=xs(r));let{pathname:d="/",search:u="",hash:f="",state:m=null,key:x="default"}=r,b=j.useMemo(()=>{let p=kc(d,h);return p==null?null:{location:{pathname:p,search:u,hash:f,state:m,key:x},navigationType:i}},[h,d,u,f,m,x,i]);return b==null?null:j.createElement(_r.Provider,{value:l},j.createElement(Rr.Provider,{children:s,value:b}))}function ch(e){let{children:t,location:s}=e;return Yu(ni(t),s)}new Promise(()=>{});function ni(e,t){t===void 0&&(t=[]);let s=[];return j.Children.forEach(e,(r,i)=>{if(!j.isValidElement(r))return;let a=[...t,i];if(r.type===j.Fragment){s.push.apply(s,ni(r.props.children,a));return}r.type!==Ye&&Re(!1),!r.props.index||!r.props.children||Re(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ni(r.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ii(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let r=e[s];return t.concat(Array.isArray(r)?r.map(i=>[s,i]):[[s,r]])},[]))}function dh(e,t){let s=ii(e);return t&&t.forEach((r,i)=>{s.has(i)||t.getAll(i).forEach(a=>{s.append(i,a)})}),s}const uh="6";try{window.__reactRouterVersion=uh}catch{}const hh="startTransition",$a=ru[hh];function fh(e){let{basename:t,children:s,future:r,window:i}=e,a=j.useRef();a.current==null&&(a.current=gu({window:i,v5Compat:!0}));let o=a.current,[c,h]=j.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},d=j.useCallback(u=>{l&&$a?$a(()=>h(u)):h(u)},[h,l]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.useEffect(()=>oh(r),[r]),j.createElement(lh,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:o,future:r})}var Ua;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ua||(Ua={}));var Wa;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Wa||(Wa={}));function Rc(e){let t=j.useRef(ii(e)),s=j.useRef(!1),r=Vi(),i=j.useMemo(()=>dh(r.search,s.current?null:t.current),[r.search]),a=ct(),o=j.useCallback((c,h)=>{const l=ii(typeof c=="function"?c(i):c);s.current=!0,a("?"+l,h)},[a,i]);return[i,o]}function mh(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const xh=e=>{switch(e){case"success":return vh;case"info":return bh;case"warning":return yh;case"error":return wh;default:return null}},ph=Array(12).fill(0),gh=({visible:e,className:t})=>$.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},$.createElement("div",{className:"sonner-spinner"},ph.map((s,r)=>$.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),vh=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),yh=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),bh=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),wh=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},$.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),jh=$.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},$.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),$.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Ch=()=>{const[e,t]=$.useState(document.hidden);return $.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e};let ai=1;class Nh{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:r,...i}=t,a=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:ai++,o=this.toasts.find(h=>h.id===a),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(h=>h.id===a?(this.publish({...h,...t,id:a,title:r}),{...h,...t,id:a,dismissible:c,title:r}):h):this.addToast({title:r,...i,dismissible:c,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(r=>r({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let r;s.loading!==void 0&&(r=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const i=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,o;const c=i.then(async l=>{if(o=["resolve",l],$.isValidElement(l))a=!1,this.create({id:r,type:"default",message:l});else if(Eh(l)&&!l.ok){a=!1;const u=typeof s.error=="function"?await s.error(`HTTP error! status: ${l.status}`):s.error,f=typeof s.description=="function"?await s.description(`HTTP error! status: ${l.status}`):s.description,x=typeof u=="object"&&!$.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:f,...x})}else if(l instanceof Error){a=!1;const u=typeof s.error=="function"?await s.error(l):s.error,f=typeof s.description=="function"?await s.description(l):s.description,x=typeof u=="object"&&!$.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:f,...x})}else if(s.success!==void 0){a=!1;const u=typeof s.success=="function"?await s.success(l):s.success,f=typeof s.description=="function"?await s.description(l):s.description,x=typeof u=="object"&&!$.isValidElement(u)?u:{message:u};this.create({id:r,type:"success",description:f,...x})}}).catch(async l=>{if(o=["reject",l],s.error!==void 0){a=!1;const d=typeof s.error=="function"?await s.error(l):s.error,u=typeof s.description=="function"?await s.description(l):s.description,m=typeof d=="object"&&!$.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:u,...m})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),s.finally==null||s.finally.call(s)}),h=()=>new Promise((l,d)=>c.then(()=>o[0]==="reject"?d(o[1]):l(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:h}:Object.assign(r,{unwrap:h})},this.custom=(t,s)=>{const r=(s==null?void 0:s.id)||ai++;return this.create({jsx:t(r),id:r,...s}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Xe=new Nh,Sh=(e,t)=>{const s=(t==null?void 0:t.id)||ai++;return Xe.addToast({title:e,...t,id:s}),s},Eh=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Ah=Sh,kh=()=>Xe.toasts,Dh=()=>Xe.getActiveToasts(),Ge=Object.assign(Ah,{success:Xe.success,info:Xe.info,warning:Xe.warning,error:Xe.error,custom:Xe.custom,message:Xe.message,promise:Xe.promise,dismiss:Xe.dismiss,loading:Xe.loading},{getHistory:kh,getToasts:Dh});mh("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function dr(e){return e.label!==void 0}const Bh=3,Th="24px",Ph="16px",Ha=4e3,Fh=356,_h=14,Rh=45,Mh=200;function gt(...e){return e.filter(Boolean).join(" ")}function Lh(e){const[t,s]=e.split("-"),r=[];return t&&r.push(t),s&&r.push(s),r}const Ih=e=>{var t,s,r,i,a,o,c,h,l;const{invert:d,toast:u,unstyled:f,interacting:m,setHeights:x,visibleToasts:b,heights:p,index:g,toasts:v,expanded:y,removeToast:w,defaultRichColors:C,closeButton:S,style:E,cancelButtonStyle:k,actionButtonStyle:B,className:N="",descriptionClassName:A="",duration:F,position:P,gap:U,expandByDefault:O,classNames:q,icons:G,closeButtonAriaLabel:Q="Close toast"}=e,[L,X]=$.useState(null),[T,M]=$.useState(null),[_,R]=$.useState(!1),[ae,H]=$.useState(!1),[xe,ee]=$.useState(!1),[Ae,I]=$.useState(!1),[K,te]=$.useState(!1),[oe,Z]=$.useState(0),[je,V]=$.useState(0),se=$.useRef(u.duration||F||Ha),de=$.useRef(null),me=$.useRef(null),be=g===0,Y=g+1<=b,W=u.type,re=u.dismissible!==!1,_e=u.className||"",et=u.descriptionClassName||"",Ne=$.useMemo(()=>p.findIndex(ce=>ce.toastId===u.id)||0,[p,u.id]),Pe=$.useMemo(()=>{var ce;return(ce=u.closeButton)!=null?ce:S},[u.closeButton,S]),Ue=$.useMemo(()=>u.duration||F||Ha,[u.duration,F]),dt=$.useRef(0),Ie=$.useRef(0),tt=$.useRef(0),We=$.useRef(null),[bs,Lt]=P.split("-"),It=$.useMemo(()=>p.reduce((ce,ke,Be)=>Be>=Ne?ce:ce+ke.height,0),[p,Ne]),Jt=Ch(),ws=u.invert||d,Et=W==="loading";Ie.current=$.useMemo(()=>Ne*U+It,[Ne,It]),$.useEffect(()=>{se.current=Ue},[Ue]),$.useEffect(()=>{R(!0)},[]),$.useEffect(()=>{const ce=me.current;if(ce){const ke=ce.getBoundingClientRect().height;return V(ke),x(Be=>[{toastId:u.id,height:ke,position:u.position},...Be]),()=>x(Be=>Be.filter(ye=>ye.toastId!==u.id))}},[x,u.id]),$.useLayoutEffect(()=>{if(!_)return;const ce=me.current,ke=ce.style.height;ce.style.height="auto";const Be=ce.getBoundingClientRect().height;ce.style.height=ke,V(Be),x(ye=>ye.find(D=>D.toastId===u.id)?ye.map(D=>D.toastId===u.id?{...D,height:Be}:D):[{toastId:u.id,height:Be,position:u.position},...ye])},[_,u.title,u.description,x,u.id,u.jsx,u.action,u.cancel]);const He=$.useCallback(()=>{H(!0),Z(Ie.current),x(ce=>ce.filter(ke=>ke.toastId!==u.id)),setTimeout(()=>{w(u)},Mh)},[u,w,x,Ie]);$.useEffect(()=>{if(u.promise&&W==="loading"||u.duration===1/0||u.type==="loading")return;let ce;return y||m||Jt?(()=>{if(tt.current<dt.current){const ye=new Date().getTime()-dt.current;se.current=se.current-ye}tt.current=new Date().getTime()})():(()=>{se.current!==1/0&&(dt.current=new Date().getTime(),ce=setTimeout(()=>{u.onAutoClose==null||u.onAutoClose.call(u,u),He()},se.current))})(),()=>clearTimeout(ce)},[y,m,u,W,Jt,He]),$.useEffect(()=>{u.delete&&(He(),u.onDismiss==null||u.onDismiss.call(u,u))},[He,u.delete]);function es(){var ce;if(G!=null&&G.loading){var ke;return $.createElement("div",{className:gt(q==null?void 0:q.loader,u==null||(ke=u.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":W==="loading"},G.loading)}return $.createElement(gh,{className:gt(q==null?void 0:q.loader,u==null||(ce=u.classNames)==null?void 0:ce.loader),visible:W==="loading"})}const js=u.icon||(G==null?void 0:G[W])||xh(W);var Vt,ts;return $.createElement("li",{tabIndex:0,ref:me,className:gt(N,_e,q==null?void 0:q.toast,u==null||(t=u.classNames)==null?void 0:t.toast,q==null?void 0:q.default,q==null?void 0:q[W],u==null||(s=u.classNames)==null?void 0:s[W]),"data-sonner-toast":"","data-rich-colors":(Vt=u.richColors)!=null?Vt:C,"data-styled":!(u.jsx||u.unstyled||f),"data-mounted":_,"data-promise":!!u.promise,"data-swiped":K,"data-removed":ae,"data-visible":Y,"data-y-position":bs,"data-x-position":Lt,"data-index":g,"data-front":be,"data-swiping":xe,"data-dismissible":re,"data-type":W,"data-invert":ws,"data-swipe-out":Ae,"data-swipe-direction":T,"data-expanded":!!(y||O&&_),style:{"--index":g,"--toasts-before":g,"--z-index":v.length-g,"--offset":`${ae?oe:Ie.current}px`,"--initial-height":O?"auto":`${je}px`,...E,...u.style},onDragEnd:()=>{ee(!1),X(null),We.current=null},onPointerDown:ce=>{ce.button!==2&&(Et||!re||(de.current=new Date,Z(Ie.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(ee(!0),We.current={x:ce.clientX,y:ce.clientY})))},onPointerUp:()=>{var ce,ke,Be;if(Ae||!re)return;We.current=null;const ye=Number(((ce=me.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),xt=Number(((ke=me.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),D=new Date().getTime()-((Be=de.current)==null?void 0:Be.getTime()),ie=L==="x"?ye:xt,he=Math.abs(ie)/D;if(Math.abs(ie)>=Rh||he>.11){Z(Ie.current),u.onDismiss==null||u.onDismiss.call(u,u),M(L==="x"?ye>0?"right":"left":xt>0?"down":"up"),He(),I(!0);return}else{var ne,J;(ne=me.current)==null||ne.style.setProperty("--swipe-amount-x","0px"),(J=me.current)==null||J.style.setProperty("--swipe-amount-y","0px")}te(!1),ee(!1),X(null)},onPointerMove:ce=>{var ke,Be,ye;if(!We.current||!re||((ke=window.getSelection())==null?void 0:ke.toString().length)>0)return;const D=ce.clientY-We.current.y,ie=ce.clientX-We.current.x;var he;const ne=(he=e.swipeDirections)!=null?he:Lh(P);!L&&(Math.abs(ie)>1||Math.abs(D)>1)&&X(Math.abs(ie)>Math.abs(D)?"x":"y");let J={x:0,y:0};const Ve=Me=>1/(1.5+Math.abs(Me)/20);if(L==="y"){if(ne.includes("top")||ne.includes("bottom"))if(ne.includes("top")&&D<0||ne.includes("bottom")&&D>0)J.y=D;else{const Me=D*Ve(D);J.y=Math.abs(Me)<Math.abs(D)?Me:D}}else if(L==="x"&&(ne.includes("left")||ne.includes("right")))if(ne.includes("left")&&ie<0||ne.includes("right")&&ie>0)J.x=ie;else{const Me=ie*Ve(ie);J.x=Math.abs(Me)<Math.abs(ie)?Me:ie}(Math.abs(J.x)>0||Math.abs(J.y)>0)&&te(!0),(Be=me.current)==null||Be.style.setProperty("--swipe-amount-x",`${J.x}px`),(ye=me.current)==null||ye.style.setProperty("--swipe-amount-y",`${J.y}px`)}},Pe&&!u.jsx&&W!=="loading"?$.createElement("button",{"aria-label":Q,"data-disabled":Et,"data-close-button":!0,onClick:Et||!re?()=>{}:()=>{He(),u.onDismiss==null||u.onDismiss.call(u,u)},className:gt(q==null?void 0:q.closeButton,u==null||(r=u.classNames)==null?void 0:r.closeButton)},(ts=G==null?void 0:G.close)!=null?ts:jh):null,(W||u.icon||u.promise)&&u.icon!==null&&((G==null?void 0:G[W])!==null||u.icon)?$.createElement("div",{"data-icon":"",className:gt(q==null?void 0:q.icon,u==null||(i=u.classNames)==null?void 0:i.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||es():null,u.type!=="loading"?js:null):null,$.createElement("div",{"data-content":"",className:gt(q==null?void 0:q.content,u==null||(a=u.classNames)==null?void 0:a.content)},$.createElement("div",{"data-title":"",className:gt(q==null?void 0:q.title,u==null||(o=u.classNames)==null?void 0:o.title)},u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title),u.description?$.createElement("div",{"data-description":"",className:gt(A,et,q==null?void 0:q.description,u==null||(c=u.classNames)==null?void 0:c.description)},typeof u.description=="function"?u.description():u.description):null),$.isValidElement(u.cancel)?u.cancel:u.cancel&&dr(u.cancel)?$.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||k,onClick:ce=>{dr(u.cancel)&&re&&(u.cancel.onClick==null||u.cancel.onClick.call(u.cancel,ce),He())},className:gt(q==null?void 0:q.cancelButton,u==null||(h=u.classNames)==null?void 0:h.cancelButton)},u.cancel.label):null,$.isValidElement(u.action)?u.action:u.action&&dr(u.action)?$.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||B,onClick:ce=>{dr(u.action)&&(u.action.onClick==null||u.action.onClick.call(u.action,ce),!ce.defaultPrevented&&He())},className:gt(q==null?void 0:q.actionButton,u==null||(l=u.classNames)==null?void 0:l.actionButton)},u.action.label):null)};function Ka(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Vh(e,t){const s={};return[e,t].forEach((r,i)=>{const a=i===1,o=a?"--mobile-offset":"--offset",c=a?Ph:Th;function h(l){["top","right","bottom","left"].forEach(d=>{s[`${o}-${d}`]=typeof l=="number"?`${l}px`:l})}typeof r=="number"||typeof r=="string"?h(r):typeof r=="object"?["top","right","bottom","left"].forEach(l=>{r[l]===void 0?s[`${o}-${l}`]=c:s[`${o}-${l}`]=typeof r[l]=="number"?`${r[l]}px`:r[l]}):h(c)}),s}const Oh=$.forwardRef(function(t,s){const{invert:r,position:i="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:c,className:h,offset:l,mobileOffset:d,theme:u="light",richColors:f,duration:m,style:x,visibleToasts:b=Bh,toastOptions:p,dir:g=Ka(),gap:v=_h,icons:y,containerAriaLabel:w="Notifications"}=t,[C,S]=$.useState([]),E=$.useMemo(()=>Array.from(new Set([i].concat(C.filter(T=>T.position).map(T=>T.position)))),[C,i]),[k,B]=$.useState([]),[N,A]=$.useState(!1),[F,P]=$.useState(!1),[U,O]=$.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),q=$.useRef(null),G=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),Q=$.useRef(null),L=$.useRef(!1),X=$.useCallback(T=>{S(M=>{var _;return(_=M.find(R=>R.id===T.id))!=null&&_.delete||Xe.dismiss(T.id),M.filter(({id:R})=>R!==T.id)})},[]);return $.useEffect(()=>Xe.subscribe(T=>{if(T.dismiss){requestAnimationFrame(()=>{S(M=>M.map(_=>_.id===T.id?{..._,delete:!0}:_))});return}setTimeout(()=>{nu.flushSync(()=>{S(M=>{const _=M.findIndex(R=>R.id===T.id);return _!==-1?[...M.slice(0,_),{...M[_],...T},...M.slice(_+1)]:[T,...M]})})})}),[C]),$.useEffect(()=>{if(u!=="system"){O(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?O("dark"):O("light")),typeof window>"u")return;const T=window.matchMedia("(prefers-color-scheme: dark)");try{T.addEventListener("change",({matches:M})=>{O(M?"dark":"light")})}catch{T.addListener(({matches:_})=>{try{O(_?"dark":"light")}catch(R){console.error(R)}})}},[u]),$.useEffect(()=>{C.length<=1&&A(!1)},[C]),$.useEffect(()=>{const T=M=>{var _;if(a.every(H=>M[H]||M.code===H)){var ae;A(!0),(ae=q.current)==null||ae.focus()}M.code==="Escape"&&(document.activeElement===q.current||(_=q.current)!=null&&_.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[a]),$.useEffect(()=>{if(q.current)return()=>{Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null,L.current=!1)}},[q.current]),$.createElement("section",{ref:s,"aria-label":`${w} ${G}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},E.map((T,M)=>{var _;const[R,ae]=T.split("-");return C.length?$.createElement("ol",{key:T,dir:g==="auto"?Ka():g,tabIndex:-1,ref:q,className:h,"data-sonner-toaster":!0,"data-sonner-theme":U,"data-y-position":R,"data-x-position":ae,style:{"--front-toast-height":`${((_=k[0])==null?void 0:_.height)||0}px`,"--width":`${Fh}px`,"--gap":`${v}px`,...x,...Vh(l,d)},onBlur:H=>{L.current&&!H.currentTarget.contains(H.relatedTarget)&&(L.current=!1,Q.current&&(Q.current.focus({preventScroll:!0}),Q.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||L.current||(L.current=!0,Q.current=H.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{F||A(!1)},onDragEnd:()=>A(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},C.filter(H=>!H.position&&M===0||H.position===T).map((H,xe)=>{var ee,Ae;return $.createElement(Ih,{key:H.id,icons:y,index:xe,toast:H,defaultRichColors:f,duration:(ee=p==null?void 0:p.duration)!=null?ee:m,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:b,closeButton:(Ae=p==null?void 0:p.closeButton)!=null?Ae:c,interacting:F,position:T,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,closeButtonAriaLabel:p==null?void 0:p.closeButtonAriaLabel,removeToast:X,toasts:C.filter(I=>I.position==H.position),heights:k.filter(I=>I.position==H.position),setHeights:B,expandByDefault:o,gap:v,expanded:N,swipeDirections:t.swipeDirections})})):null}))}),Zr={},$t=()=>{const e=Zr==null?void 0:Zr.VITE_API_URL;return e?(console.log("Using API URL from environment:",e),e):window.location.hostname.includes("test.tipply.live")?(console.log("Detected deployed environment, using AWS API Gateway URL"),"https://uhxejjh8s1.execute-api.us-east-1.amazonaws.com/dev"):(console.log("Using default API URL for local development"),"http://localhost:5000")},qe=$t();class qh{async request(t,s={},r=!1){const i=`${qe}${t}`,a=localStorage.getItem("token"),o=r?localStorage.getItem("xapikeyNoAccessToken"):null,c={headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`},...o&&{"x-api-key":o},...s.headers},...s};try{console.log(`Making API request to: ${i}`),console.log("Request config:",{method:c.method,headers:c.headers}),console.log(`Current hostname: ${window.location.hostname}`),console.log(`API_BASE_URL: ${qe}`);const h=await fetch(i,c);if(h.status===401){const d=localStorage.getItem("refreshToken");if(d)try{const u=await fetch(`${qe}/api/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:d})});if(u.ok){const f=await u.json();localStorage.setItem("token",f.accessToken),f.refreshToken&&localStorage.setItem("refreshToken",f.refreshToken);const m={...c,headers:{...c.headers,Authorization:`Bearer ${f.accessToken}`}},x=await fetch(i,m);if(!x.ok){const p=await x.json().catch(()=>({}));throw new Error(p.error||`HTTP ${x.status}: ${x.statusText}`)}return{data:await x.json()}}}catch(u){return console.error("Token refresh failed:",u),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/login",{error:"Authentication expired. Please log in again."}}}if(!h.ok){const d=await h.json().catch(()=>({}));throw new Error(d.error||`HTTP ${h.status}: ${h.statusText}`)}return{data:await h.json()}}catch(h){return console.error("API request failed:",h),console.error("Request URL was:",i),console.error("Request config was:",c),{error:h instanceof Error?h.message:"Unknown error occurred"}}}async getProfile(){return this.request("/api/profiles/me")}async updateProfile(t){return this.request("/api/profiles/me",{method:"PUT",body:JSON.stringify(t)})}async getDashboardStats(){return this.request("/api/profiles/dashboard")}async addDevice(t){return this.request("/api/devices/add",{method:"POST",body:JSON.stringify(t)})}async getDevices(){return this.request("/api/devices/my-devices")}async getDeletedDevices(){return this.request("/api/devices/my-deleted-devices")}async softDeleteDevice(t){return this.request(`/api/devices/${t}/soft-delete`,{method:"POST"})}async restoreDevice(t){return this.request(`/api/devices/${t}/restore`,{method:"POST"})}async getDevice(t){return this.request(`/api/devices/${t}`)}async downloadQRCode(t){const s=localStorage.getItem("token"),r=`${qe}/api/devices/${t}/qr`;try{const i=await fetch(r,{headers:{Authorization:`Bearer ${s}`}});if(!i.ok)throw new Error(`HTTP ${i.status}: ${i.statusText}`);return await i.blob()}catch(i){return console.error("Failed to download QR code:",i),null}}async createConnectAccount(t){return this.request("/api/stripe/connect-account",{method:"POST",body:JSON.stringify(t)},!0)}async getConnectAccountStatus(t){return this.request(`/api/stripe/connect-account/${t}/status`)}async login(t){return this.request("/api/auth/login",{method:"POST",body:JSON.stringify(t)})}async register(t){return this.request("/api/auth/register",{method:"POST",body:JSON.stringify(t)},!0)}async setPassword(t,s){return s?this.request("/api/auth/set-password-onboarding",{method:"POST",body:JSON.stringify({password:t,email:s})},!0):this.request("/api/auth/set-password",{method:"POST",body:JSON.stringify({password:t})})}async createProfileOnboarding(t){return this.request("/api/auth/create-profile-onboarding",{method:"POST",body:JSON.stringify(t)},!0)}async changePassword(t,s){return this.request("/api/auth/change-password",{method:"POST",body:JSON.stringify({currentPassword:t,newPassword:s})})}async registerDeviceOnboarding(t){return this.request("/api/devices/register",{method:"POST",body:JSON.stringify(t)},!0)}async deleteDeviceDebug(t){return this.request(`/api/devices/debug/${t}`,{method:"DELETE"},!0)}async checkDeviceExists(t){return this.request(`/api/devices/check-exists/${t}`,{method:"GET"},!0)}async checkDetectedDevice(t){return this.request(`/api/devices/check-detected-device/${t}`,{method:"GET"},!0)}async checkDetectedDeviceBySerialNumber(t){return this.request(`/api/devices/check-detected-device-serial/${t}`,{method:"GET"},!0)}async submitTip(t){console.log("Submitting tip with data:",t);const s=await this.request("/api/tips",{method:"POST",body:JSON.stringify(t)});return console.log("Tip submission response:",s),s}async getDashboardMetrics(t){return this.request(`/api/tips/dashboard-metrics/${t}`)}async getRecentTips(t){return this.request(`/api/tips/recent-tips/${t}`)}async getAwsIotStatus(){return this.request("/api/tips/aws-iot-status")}async updateSongRequestSetting(t,s){return this.request(`/api/devices/${t}/song-request`,{method:"PUT",body:JSON.stringify({isAllowSongRequest:s})})}async forgotPassword(t){return this.request("/api/auth/forgot-password",{method:"POST",body:JSON.stringify({email:t})},!1)}async validateResetCode(t,s){return this.request("/api/auth/validate-reset-code",{method:"POST",body:JSON.stringify({email:t,code:s})},!1)}async sendOnboardingVerification(t){return this.request("/api/auth/onboarding-verification",{method:"POST",body:JSON.stringify({email:t})},!1)}async validateOnboardingCode(t,s){return this.request("/api/auth/validate-onboarding-code",{method:"POST",body:JSON.stringify({email:t,code:s})},!1)}async resetPassword(t,s,r){return this.request("/api/auth/reset-password",{method:"POST",body:JSON.stringify({email:t,code:s,newPassword:r})},!1)}}const pe=new qh,Ya=()=>{const[e,t]=j.useState(""),[s,r]=j.useState(""),[i,a]=j.useState(!1),[o,c]=j.useState(""),[h,l]=j.useState(!1),[d,u]=j.useState(""),f=ct();$.useEffect(()=>{var y;new URLSearchParams(window.location.search).get("kyc_completed")==="true"&&(l(!0),window.history.replaceState({},document.title,window.location.pathname));const g=window.location;(y=g.state)!=null&&y.message&&(u(g.state.message),window.history.replaceState({},document.title,window.location.pathname));const v=sessionStorage.getItem("password_reset_message");v&&(u(v),sessionStorage.removeItem("password_reset_message"))},[]);const m=async b=>{var p;b.preventDefault(),a(!0),c("");try{const g=await pe.login({email:e,password:s});if(g.error){c(g.error);return}if((p=g.data)!=null&&p.accessToken){localStorage.setItem("token",g.data.accessToken),g.data.refreshToken&&localStorage.setItem("refreshToken",g.data.refreshToken);const v=sessionStorage.getItem("kyc_result");v&&(localStorage.setItem("kyc_result",v),sessionStorage.removeItem("kyc_result"),console.log("KYC result moved to localStorage for dashboard display")),f("/dashboard")}else c("Login failed. Please try again.")}catch{c("Login failed. Please try again.")}finally{a(!1)}},x=()=>{f("/onboarding")};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full",children:[h&&n.jsx("div",{className:"mb-8 bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-2xl p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-500 rounded-full flex items-center justify-center mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("h3",{className:"text-xl font-bold text-green-800 mb-2",children:" Congratulations!"}),n.jsx("p",{className:"text-green-700 mb-3",children:"You've successfully completed your KYC verification with Stripe!"}),n.jsx("p",{className:"text-green-600 text-sm",children:"Please sign in below to access your dashboard and start accepting tips."})]})}),d&&n.jsx("div",{className:"mb-8 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-2xl p-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-full flex items-center justify-center mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),n.jsx("h3",{className:"text-xl font-bold text-blue-800 mb-2",children:" Password Reset Complete!"}),n.jsx("p",{className:"text-blue-700 mb-3",children:"Your password has been successfully reset."}),n.jsx("p",{className:"text-blue-600 text-sm",children:"Please sign in below with your new password."})]})}),n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"mx-auto w-32 h-32 overflow-visible rounded-2xl mb-4",children:n.jsx("img",{src:"/images/tipply_logo.png",alt:"Tipply Logo",className:"w-full h-full object-contain",style:{transform:"scale(1.25)",objectPosition:"center"}})}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome back"}),n.jsx("p",{className:"text-gray-600",children:"Sign in to manage your tipping devices"})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email",value:e,onChange:b=>t(b.target.value)})]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your password",value:s,onChange:b=>r(b.target.value)})]})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{type:"button",onClick:()=>f("/forgot-password"),className:"text-sm text-primary-600 hover:text-primary-700 font-medium transition-colors duration-200",children:"Forgot your password?"})}),o&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-red-600 text-sm",children:o})]})}),n.jsx("button",{type:"submit",disabled:i,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold py-3 px-4 rounded-lg hover:from-primary-700 hover:to-primary-800 focus:ring-4 focus:ring-primary-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Signing in..."})]}):"Sign in"})]}),n.jsx("div",{className:"mt-8",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-200"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-4 bg-white text-gray-500",children:"New to Tipply?"})})]})}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:x,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold py-3 px-4 rounded-lg hover:from-green-700 hover:to-emerald-700 focus:ring-4 focus:ring-green-200 transition-all duration-200",children:n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("span",{children:"Get Started"}),n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsx("p",{className:"text-sm text-gray-500",children:"Secure  Fast  Reliable"})})]})})},zh=()=>{const e=ct(),[t,s]=j.useState("email"),[r,i]=j.useState(""),[a,o]=j.useState(""),[c,h]=j.useState(""),[l,d]=j.useState(""),[u,f]=j.useState(!1),[m,x]=j.useState(""),[b,p]=j.useState(""),[g,v]=j.useState(0),[y,w]=j.useState(""),C=N=>{if(!N){v(0),w("");return}let A=0;N.length>=10?A+=25:N.length>=8?A+=15:N.length>=6&&(A+=10),/[a-z]/.test(N)&&(A+=10),/[A-Z]/.test(N)&&(A+=10),/[0-9]/.test(N)&&(A+=10),/[^A-Za-z0-9]/.test(N)&&(A+=10);const F=new Set(N).size;A+=Math.min(35,F*2),v(Math.min(100,A)),A>=80?w("Very Strong"):A>=60?w("Strong"):A>=40?w("Medium"):A>=20?w("Weak"):w("Very Weak")},S=async N=>{var A;N.preventDefault(),f(!0),x(""),p("");try{const F=await pe.forgotPassword(r);(A=F.data)!=null&&A.message?(p("Verification code sent! Please check your email."),s("code")):x(F.error||"Failed to send verification code")}catch{x("An error occurred. Please try again.")}finally{f(!1)}},E=async N=>{var A,F;N.preventDefault(),f(!0),x("");try{const P=await pe.validateResetCode(r,a);(A=P.data)!=null&&A.message?s("password"):x(((F=P.data)==null?void 0:F.error)||"Invalid verification code")}catch{x("An error occurred. Please try again.")}finally{f(!1)}},k=async N=>{var A,F,P,U;if(N.preventDefault(),c!==l){x("Passwords do not match");return}if(c.length<10){x("Password must be at least 10 characters long");return}f(!0),x("");try{const O=await pe.resetPassword(r,a,c);(A=O.data)!=null&&A.message?(p("Password reset successfully! Redirecting to login..."),sessionStorage.setItem("password_reset_message","Password reset successfully! You can now log in with your new password."),setTimeout(()=>{e("/login",{state:{message:"Password reset successfully! You can now log in with your new password."}})},2e3)):(x(((F=O.data)==null?void 0:F.error)||"Failed to reset password"),(P=O.data)!=null&&P.validationErrors&&x(O.data.validationErrors.join(", "))),((U=O.data)==null?void 0:U.strengthScore)!==void 0&&(v(O.data.strengthScore),w(O.data.strengthLevel||""))}catch{x("An error occurred. Please try again.")}finally{f(!1)}},B=N=>N>=80?"text-green-600":N>=60?"text-yellow-600":N>=40?"text-orange-600":"text-red-600";return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md w-full",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"mx-auto w-32 h-32 overflow-visible rounded-2xl mb-4",children:n.jsx("img",{src:"/images/tipply_logo.png",alt:"Tipply Logo",className:"w-full h-full object-contain",style:{transform:"scale(1.25)",objectPosition:"center"}})}),n.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reset Your Password"}),n.jsxs("p",{className:"text-gray-600",children:[t==="email"&&"Enter your email to receive a verification code",t==="code"&&"Enter the verification code sent to your email",t==="password"&&"Create your new password"]})]}),n.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[m&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{className:"text-red-600 text-sm",children:m})]})}),b&&n.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-green-600 text-sm",children:b})]})}),t==="email"&&n.jsxs("form",{onSubmit:S,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 0 01-4.5 1.207"})})}),n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:N=>i(N.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email"})]})]}),n.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold py-3 px-4 rounded-lg hover:from-primary-700 hover:to-primary-800 focus:ring-4 focus:ring-primary-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:u?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Sending..."})]}):"Send Verification Code"})]}),t==="code"&&n.jsxs("form",{onSubmit:E,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"code",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Verification Code"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsx("input",{id:"code",name:"code",type:"text",autoComplete:"off",required:!0,value:a,onChange:N=>o(N.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 text-center text-lg tracking-widest",placeholder:"000000",maxLength:6})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Enter the 6-digit code sent to your email"})]}),n.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold py-3 px-4 rounded-lg hover:from-primary-700 hover:to-primary-800 focus:ring-4 focus:ring-primary-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:u?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Validating..."})]}):"Verify Code"})]}),t==="password"&&n.jsxs("form",{onSubmit:k,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n.jsx("input",{id:"newPassword",name:"newPassword",type:"password",autoComplete:"new-password",required:!0,value:c,onChange:N=>{h(N.target.value),C(N.target.value)},className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Enter new password"})]}),c&&n.jsxs("div",{className:"mt-2",children:[n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{className:"text-gray-500",children:"Password Strength:"}),n.jsx("span",{className:`font-medium ${B(g)}`,children:y})]}),n.jsx("div",{className:"mt-1 w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${B(g).replace("text-","bg-")}`,style:{width:`${g}%`}})})]}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Must be at least 10 characters long"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirm New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),n.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:l,onChange:N=>d(N.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Confirm new password"})]})]}),n.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold py-3 px-4 rounded-lg hover:from-primary-700 hover:to-primary-800 focus:ring-4 focus:ring-primary-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:u?n.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Resetting..."})]}):"Reset Password"})]}),n.jsxs("div",{className:"mt-6 space-y-3",children:[t==="code"&&n.jsx("button",{type:"button",onClick:()=>s("email"),className:"w-full text-primary-600 hover:text-primary-700 font-medium transition-colors duration-200 text-sm",children:" Back to Email"}),t==="password"&&n.jsx("button",{type:"button",onClick:()=>s("code"),className:"w-full text-primary-600 hover:text-primary-700 font-medium transition-colors duration-200 text-sm",children:" Back to Code"}),n.jsx("button",{type:"button",onClick:()=>e("/login"),className:"w-full text-gray-600 hover:text-gray-700 font-medium transition-colors duration-200 text-sm",children:" Back to Login"})]})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsx("p",{className:"text-sm text-gray-500",children:"Secure  Fast  Reliable"})})]})})},$h=({profileId:e})=>{const[t,s]=j.useState("search"),[r,i]=j.useState(""),[a,o]=j.useState([]),[c,h]=j.useState([]),[l,d]=j.useState(""),[u,f]=j.useState(0),[m,x]=j.useState(1),[b,p]=j.useState(0),[g,v]=j.useState(1),[y,w]=j.useState(0),[C,S]=j.useState(!1),[E,k]=j.useState(!1),[B,N]=j.useState(null),[A,F]=j.useState(null),[P,U]=j.useState(new Set),[O,q]=j.useState(new Set),[G,Q]=j.useState(!1),[L,X]=j.useState(!1),[T,M]=j.useState(null),_=20,R=async()=>{try{const V=localStorage.getItem("token"),se=await fetch(`${qe}/api/songcatalog/my-songs/${e}?page=1&limit=1`,{headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(se.ok){const de=parseInt(se.headers.get("X-Total-Count")||"0");w(de),f(de)}}catch(V){console.error("Error refreshing catalog count:",V)}},ae=async(V=1,se="")=>{k(!0);try{const de=localStorage.getItem("token"),me=new URLSearchParams({page:V.toString(),limit:_.toString(),...se&&{search:se}}),be=await fetch(`${qe}/api/songcatalog/my-songs/${e}?${me}`,{headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"}});if(be.ok){const Y=await be.json();h(Y);const W=parseInt(be.headers.get("X-Total-Count")||"0");w(W),f(W)}else K("error","Failed to load your song catalog")}catch(de){console.error("Error loading catalog:",de),K("error","Failed to load your song catalog")}finally{k(!1)}},H=async(V,se=1)=>{if(V.trim()){S(!0),se===1&&(o([]),p(0),U(new Set));try{const de=localStorage.getItem("token"),me=await fetch(`${qe}/api/songcatalog/search`,{method:"POST",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json"},body:JSON.stringify({query:V.trim(),profileId:e,page:se,limit:_})});if(me.ok){const be=await me.json();o(be.songs),p(be.totalCount),x(be.page)}else K("error","Failed to search songs")}catch(de){console.error("Error searching songs:",de),K("error","Failed to search songs")}finally{S(!1)}}},xe=async V=>{N(`${V.songTitle}-${V.artist}`);try{const se=localStorage.getItem("token"),de=await fetch(`${qe}/api/songcatalog/add`,{method:"POST",headers:{Authorization:`Bearer ${se}`,"Content-Type":"application/json"},body:JSON.stringify({profileId:e,songTitle:V.songTitle,artist:V.artist,album:V.album,genre:V.genre})});if(de.ok)K("success",`Added "${V.songTitle}" to your catalog`),o(me=>me.map(be=>be.songTitle===V.songTitle&&be.artist===V.artist?{...be,isInCatalog:!0}:be)),t==="catalog"?ae(g,l):R();else{const me=await de.json();K("error",me.error||"Failed to add song")}}catch(se){console.error("Error adding song:",se),K("error","Failed to add song")}finally{N(null)}},ee=async V=>{F(V);try{const se=localStorage.getItem("token");(await fetch(`${qe}/api/songcatalog/${V}?profileId=${e}`,{method:"DELETE",headers:{Authorization:`Bearer ${se}`}})).ok?(K("success","Song removed from catalog"),ae(g,l)):K("error","Failed to remove song")}catch(se){console.error("Error removing song:",se),K("error","Failed to remove song")}finally{F(null)}},Ae=async()=>{const V=a.filter(se=>P.has(`${se.songTitle}-${se.artist}`)&&!se.isInCatalog);if(V.length===0){K("info","No songs selected for adding");return}Q(!0);try{const se=localStorage.getItem("token"),de=await fetch(`${qe}/api/songcatalog/bulk-add`,{method:"POST",headers:{Authorization:`Bearer ${se}`,"Content-Type":"application/json"},body:JSON.stringify({profileId:e,songs:V.map(me=>({profileId:e,songTitle:me.songTitle,artist:me.artist,album:me.album,genre:me.genre}))})});if(de.ok){const me=await de.json();K("success",`Added ${me.successCount} songs to your catalog`),me.failureCount>0&&console.log("Failed to add:",me.failures),U(new Set),H(r,m),R()}else K("error","Failed to add songs")}catch(se){console.error("Error bulk adding songs:",se),K("error","Failed to add songs")}finally{Q(!1)}},I=async()=>{const V=Array.from(O);if(V.length===0){K("info","No songs selected for removal");return}X(!0);try{const se=localStorage.getItem("token"),de=await fetch(`${qe}/api/songcatalog/bulk-remove`,{method:"POST",headers:{Authorization:`Bearer ${se}`,"Content-Type":"application/json"},body:JSON.stringify({profileId:e,songIds:V})});if(de.ok){const me=await de.json();K("success",`Removed ${me.successCount} songs from your catalog`),q(new Set),ae(g,l)}else K("error","Failed to remove songs")}catch(se){console.error("Error bulk removing songs:",se),K("error","Failed to remove songs")}finally{X(!1)}},K=(V,se)=>{M({type:V,message:se}),setTimeout(()=>M(null),5e3)},te=V=>{V.preventDefault(),r.trim()&&(x(1),H(r,1))},oe=V=>{V.preventDefault(),v(1),ae(1,l)};j.useEffect(()=>{t==="catalog"?ae():R()},[t,e]),j.useEffect(()=>{e&&R()},[e]);const Z=V=>{U(se=>{const de=new Set(se);return de.has(V)?de.delete(V):de.add(V),de})},je=V=>{q(se=>{const de=new Set(se);return de.has(V)?de.delete(V):de.add(V),de})};return n.jsxs("div",{className:"space-y-6",children:[T&&n.jsx("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${T.type==="success"?"bg-green-100 text-green-800 border border-green-200":T.type==="error"?"bg-red-100 text-red-800 border border-red-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("span",{children:T.message}),n.jsx("button",{onClick:()=>M(null),className:"ml-4 text-gray-400 hover:text-gray-600",children:""})]})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Song Request Management"}),n.jsx("p",{className:"text-gray-600",children:"Search for songs to add to your catalog or manage your existing song list."})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsxs("nav",{className:"flex space-x-8 px-6",children:[n.jsx("button",{onClick:()=>s("search"),className:`py-4 px-1 border-b-2 font-medium text-sm ${t==="search"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Search Songs"}),n.jsxs("button",{onClick:()=>s("catalog"),className:`py-4 px-1 border-b-2 font-medium text-sm ${t==="catalog"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:["My Catalog (",u,")"]})]})}),n.jsxs("div",{className:"p-6",children:[t==="search"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("form",{onSubmit:te,className:"flex space-x-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx("input",{type:"text",value:r,onChange:V=>i(V.target.value),placeholder:"Search for songs, artists, or albums...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),n.jsx("button",{type:"submit",disabled:C||!r.trim(),className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:C?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Searching..."})]}):n.jsxs(n.Fragment,{children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx("span",{children:"Search"})]})})]}),P.size>0&&n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-blue-800 font-medium",children:[P.size," song(s) selected"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>U(new Set),className:"px-3 py-1 text-blue-600 hover:text-blue-800 text-sm",children:"Clear Selection"}),n.jsx("button",{onClick:Ae,disabled:G,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 text-sm",children:G?"Adding...":"Add Selected"})]})]})}),a.length>0&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Search Results (",b," total)"]})}),n.jsx("div",{className:"grid gap-4",children:a.map(V=>{const se=`${V.songTitle}-${V.artist}`;return n.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:P.has(se),onChange:()=>Z(se),disabled:V.isInCatalog,className:"w-4 h-4 text-primary-600 border-gray-300 rounded focus:ring-primary-500"}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("h4",{className:"font-medium text-gray-900",children:V.songTitle}),V.isInCatalog&&n.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"In Catalog"})]}),n.jsxs("p",{className:"text-gray-600",children:["by ",V.artist]}),V.album&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Album: ",V.album]}),V.genre&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Genre: ",V.genre]})]})]}),n.jsx("div",{children:V.isInCatalog?n.jsx("span",{className:"text-green-600 text-sm",children:" Added"}):n.jsx("button",{onClick:()=>xe(V),disabled:B===se,className:"px-3 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 text-sm",children:B===se?"Adding...":"Add"})})]})},se)})}),b>_&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(m-1)*_+1," to ",Math.min(m*_,b)," of ",b," results"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{const V=m-1;x(V),H(r,V)},disabled:m<=1||C,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 text-sm",children:"Previous"}),n.jsx("button",{onClick:()=>{const V=m+1;x(V),H(r,V)},disabled:m*_>=b||C,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 text-sm",children:"Next"})]})]})]}),r&&a.length===0&&!C&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No songs found"}),n.jsx("p",{className:"text-gray-500",children:"Try searching with different keywords or artist names."})]})]}),t==="catalog"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("form",{onSubmit:oe,className:"flex space-x-4",children:[n.jsx("div",{className:"flex-1",children:n.jsx("input",{type:"text",value:l,onChange:V=>d(V.target.value),placeholder:"Search your catalog...",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})}),n.jsx("button",{type:"submit",disabled:E,className:"px-6 py-3 bg-gray-600 text-white rounded-lg hover:bg-gray-700 disabled:opacity-50",children:"Filter"})]}),O.size>0&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("span",{className:"text-red-800 font-medium",children:[O.size," song(s) selected"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>q(new Set),className:"px-3 py-1 text-red-600 hover:text-red-800 text-sm",children:"Clear Selection"}),n.jsx("button",{onClick:I,disabled:L,className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:L?"Removing...":"Remove Selected"})]})]})}),c.length>0?n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid gap-4",children:c.map(V=>n.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("input",{type:"checkbox",checked:O.has(V.id),onChange:()=>je(V.id),className:"w-4 h-4 text-red-600 border-gray-300 rounded focus:ring-red-500"}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-medium text-gray-900",children:V.songTitle}),n.jsxs("p",{className:"text-gray-600",children:["by ",V.artist]}),V.album&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Album: ",V.album]}),V.genre&&n.jsxs("p",{className:"text-sm text-gray-500",children:["Genre: ",V.genre]}),n.jsxs("p",{className:"text-xs text-gray-400",children:["Added: ",new Date(V.createdAt).toLocaleDateString()]})]})]}),n.jsx("button",{onClick:()=>ee(V.id),disabled:A===V.id,className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50 text-sm",children:A===V.id?"Removing...":"Remove"})]})},V.id))}),y>_&&n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",(g-1)*_+1," to ",Math.min(g*_,y)," of ",y," songs"]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>{const V=g-1;v(V),ae(V,l)},disabled:g<=1||E,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 text-sm",children:"Previous"}),n.jsx("button",{onClick:()=>{const V=g+1;v(V),ae(V,l)},disabled:g*_>=y||E,className:"px-3 py-1 border border-gray-300 rounded hover:bg-gray-50 disabled:opacity-50 text-sm",children:"Next"})]})]})]}):n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No songs in your catalog"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Start building your song catalog by searching and adding songs."}),n.jsx("button",{onClick:()=>s("search"),className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Search Songs"})]})]})]})]})]})},Oi=j.createContext({});function qi(e){const t=j.useRef(null);return t.current===null&&(t.current=e()),t.current}const zi=typeof window<"u",Mc=zi?j.useLayoutEffect:j.useEffect,Lr=j.createContext(null);function $i(e,t){e.indexOf(t)===-1&&e.push(t)}function Ui(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const Nt=(e,t,s)=>s>t?t:s<e?e:s;let Wi=()=>{};const St={},Lc=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Ic(e){return typeof e=="object"&&e!==null}const Vc=e=>/^0[^.\s]+$/u.test(e);function Hi(e){let t;return()=>(t===void 0&&(t=e()),t)}const lt=e=>e,Uh=(e,t)=>s=>t(e(s)),sr=(...e)=>e.reduce(Uh),Os=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r};class Ki{constructor(){this.subscriptions=[]}add(t){return $i(this.subscriptions,t),()=>Ui(this.subscriptions,t)}notify(t,s,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,s,r);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const yt=e=>e*1e3,bt=e=>e/1e3;function Oc(e,t){return t?e*(1e3/t):0}const qc=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Wh=1e-7,Hh=12;function Kh(e,t,s,r,i){let a,o,c=0;do o=t+(s-t)/2,a=qc(o,r,i)-e,a>0?s=o:t=o;while(Math.abs(a)>Wh&&++c<Hh);return o}function rr(e,t,s,r){if(e===t&&s===r)return lt;const i=a=>Kh(a,0,1,e,s);return a=>a===0||a===1?a:qc(i(a),t,r)}const zc=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,$c=e=>t=>1-e(1-t),Uc=rr(.33,1.53,.69,.99),Yi=$c(Uc),Wc=zc(Yi),Hc=e=>(e*=2)<1?.5*Yi(e):.5*(2-Math.pow(2,-10*(e-1))),Gi=e=>1-Math.sin(Math.acos(e)),Kc=$c(Gi),Yc=zc(Gi),Yh=rr(.42,0,1,1),Gh=rr(0,0,.58,1),Gc=rr(.42,0,.58,1),Xh=e=>Array.isArray(e)&&typeof e[0]!="number",Xc=e=>Array.isArray(e)&&typeof e[0]=="number",Qh={linear:lt,easeIn:Yh,easeInOut:Gc,easeOut:Gh,circIn:Gi,circInOut:Yc,circOut:Kc,backIn:Yi,backInOut:Wc,backOut:Uc,anticipate:Hc},Zh=e=>typeof e=="string",Ga=e=>{if(Xc(e)){Wi(e.length===4);const[t,s,r,i]=e;return rr(t,s,r,i)}else if(Zh(e))return Qh[e];return e},ur=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Jh(e,t){let s=new Set,r=new Set,i=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function h(d){o.has(d)&&(l.schedule(d),e()),d(c)}const l={schedule:(d,u=!1,f=!1)=>{const x=f&&i?s:r;return u&&o.add(d),x.has(d)||x.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(c=d,i){a=!0;return}i=!0,[s,r]=[r,s],s.forEach(h),s.clear(),i=!1,a&&(a=!1,l.process(d))}};return l}const ef=40;function Qc(e,t){let s=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=ur.reduce((y,w)=>(y[w]=Jh(a),y),{}),{setup:c,read:h,resolveKeyframes:l,preUpdate:d,update:u,preRender:f,render:m,postRender:x}=o,b=()=>{const y=St.useManualTiming?i.timestamp:performance.now();s=!1,St.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,ef),1)),i.timestamp=y,i.isProcessing=!0,c.process(i),h.process(i),l.process(i),d.process(i),u.process(i),f.process(i),m.process(i),x.process(i),i.isProcessing=!1,s&&t&&(r=!1,e(b))},p=()=>{s=!0,r=!0,i.isProcessing||e(b)};return{schedule:ur.reduce((y,w)=>{const C=o[w];return y[w]=(S,E=!1,k=!1)=>(s||p(),C.schedule(S,E,k)),y},{}),cancel:y=>{for(let w=0;w<ur.length;w++)o[ur[w]].cancel(y)},state:i,steps:o}}const{schedule:Ce,cancel:Ft,state:Oe,steps:Jr}=Qc(typeof requestAnimationFrame<"u"?requestAnimationFrame:lt,!0);let pr;function tf(){pr=void 0}const Je={now:()=>(pr===void 0&&Je.set(Oe.isProcessing||St.useManualTiming?Oe.timestamp:performance.now()),pr),set:e=>{pr=e,queueMicrotask(tf)}},Zc=e=>t=>typeof t=="string"&&t.startsWith(e),Xi=Zc("--"),sf=Zc("var(--"),Qi=e=>sf(e)?rf.test(e.split("/*")[0].trim()):!1,rf=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ps={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},qs={...ps,transform:e=>Nt(0,1,e)},hr={...ps,default:1},Ds=e=>Math.round(e*1e5)/1e5,Zi=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nf(e){return e==null}const af=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Ji=(e,t)=>s=>!!(typeof s=="string"&&af.test(s)&&s.startsWith(e)||t&&!nf(s)&&Object.prototype.hasOwnProperty.call(s,t)),Jc=(e,t,s)=>r=>{if(typeof r!="string")return r;const[i,a,o,c]=r.match(Zi);return{[e]:parseFloat(i),[t]:parseFloat(a),[s]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},of=e=>Nt(0,255,e),en={...ps,transform:e=>Math.round(of(e))},Ut={test:Ji("rgb","red"),parse:Jc("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+en.transform(e)+", "+en.transform(t)+", "+en.transform(s)+", "+Ds(qs.transform(r))+")"};function lf(e){let t="",s="",r="",i="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,s+=s,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const oi={test:Ji("#"),parse:lf,transform:Ut.transform},nr=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),kt=nr("deg"),wt=nr("%"),le=nr("px"),cf=nr("vh"),df=nr("vw"),Xa={...wt,parse:e=>wt.parse(e)/100,transform:e=>wt.transform(e*100)},is={test:Ji("hsl","hue"),parse:Jc("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+wt.transform(Ds(t))+", "+wt.transform(Ds(s))+", "+Ds(qs.transform(r))+")"},Fe={test:e=>Ut.test(e)||oi.test(e)||is.test(e),parse:e=>Ut.test(e)?Ut.parse(e):is.test(e)?is.parse(e):oi.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Ut.transform(e):is.transform(e),getAnimatableNone:e=>{const t=Fe.parse(e);return t.alpha=0,Fe.transform(t)}},uf=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hf(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Zi))==null?void 0:t.length)||0)+(((s=e.match(uf))==null?void 0:s.length)||0)>0}const e0="number",t0="color",ff="var",mf="var(",Qa="${}",xf=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zs(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},i=[];let a=0;const c=t.replace(xf,h=>(Fe.test(h)?(r.color.push(a),i.push(t0),s.push(Fe.parse(h))):h.startsWith(mf)?(r.var.push(a),i.push(ff),s.push(h)):(r.number.push(a),i.push(e0),s.push(parseFloat(h))),++a,Qa)).split(Qa);return{values:s,split:c,indexes:r,types:i}}function s0(e){return zs(e).values}function r0(e){const{split:t,types:s}=zs(e),r=t.length;return i=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],i[o]!==void 0){const c=s[o];c===e0?a+=Ds(i[o]):c===t0?a+=Fe.transform(i[o]):a+=i[o]}return a}}const pf=e=>typeof e=="number"?0:Fe.test(e)?Fe.getAnimatableNone(e):e;function gf(e){const t=s0(e);return r0(e)(t.map(pf))}const _t={test:hf,parse:s0,createTransformer:r0,getAnimatableNone:gf};function tn(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function vf({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let i=0,a=0,o=0;if(!t)i=a=o=s;else{const c=s<.5?s*(1+t):s+t-s*t,h=2*s-c;i=tn(h,c,e+1/3),a=tn(h,c,e),o=tn(h,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function Cr(e,t){return s=>s>0?t:e}const Se=(e,t,s)=>e+(t-e)*s,sn=(e,t,s)=>{const r=e*e,i=s*(t*t-r)+r;return i<0?0:Math.sqrt(i)},yf=[oi,Ut,is],bf=e=>yf.find(t=>t.test(e));function Za(e){const t=bf(e);if(!t)return!1;let s=t.parse(e);return t===is&&(s=vf(s)),s}const Ja=(e,t)=>{const s=Za(e),r=Za(t);if(!s||!r)return Cr(e,t);const i={...s};return a=>(i.red=sn(s.red,r.red,a),i.green=sn(s.green,r.green,a),i.blue=sn(s.blue,r.blue,a),i.alpha=Se(s.alpha,r.alpha,a),Ut.transform(i))},li=new Set(["none","hidden"]);function wf(e,t){return li.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function jf(e,t){return s=>Se(e,t,s)}function ea(e){return typeof e=="number"?jf:typeof e=="string"?Qi(e)?Cr:Fe.test(e)?Ja:Sf:Array.isArray(e)?n0:typeof e=="object"?Fe.test(e)?Ja:Cf:Cr}function n0(e,t){const s=[...e],r=s.length,i=e.map((a,o)=>ea(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)s[o]=i[o](a);return s}}function Cf(e,t){const s={...e,...t},r={};for(const i in s)e[i]!==void 0&&t[i]!==void 0&&(r[i]=ea(e[i])(e[i],t[i]));return i=>{for(const a in r)s[a]=r[a](i);return s}}function Nf(e,t){const s=[],r={color:0,var:0,number:0};for(let i=0;i<t.values.length;i++){const a=t.types[i],o=e.indexes[a][r[a]],c=e.values[o]??0;s[i]=c,r[a]++}return s}const Sf=(e,t)=>{const s=_t.createTransformer(t),r=zs(e),i=zs(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?li.has(e)&&!i.values.length||li.has(t)&&!r.values.length?wf(e,t):sr(n0(Nf(r,i),i.values),s):Cr(e,t)};function i0(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?Se(e,t,s):ea(e)(e,t)}const Ef=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>Ce.update(t,s),stop:()=>Ft(t),now:()=>Oe.isProcessing?Oe.timestamp:Je.now()}},a0=(e,t,s=10)=>{let r="";const i=Math.max(Math.round(t/s),2);for(let a=0;a<i;a++)r+=Math.round(e(a/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},Nr=2e4;function ta(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<Nr;)t+=s,r=e.next(t);return t>=Nr?1/0:t}function Af(e,t=100,s){const r=s({...e,keyframes:[0,t]}),i=Math.min(ta(r),Nr);return{type:"keyframes",ease:a=>r.next(i*a).value/t,duration:bt(i)}}const kf=5;function o0(e,t,s){const r=Math.max(t-kf,0);return Oc(s-e(r),t-r)}const De={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rn=.001;function Df({duration:e=De.duration,bounce:t=De.bounce,velocity:s=De.velocity,mass:r=De.mass}){let i,a,o=1-t;o=Nt(De.minDamping,De.maxDamping,o),e=Nt(De.minDuration,De.maxDuration,bt(e)),o<1?(i=l=>{const d=l*o,u=d*e,f=d-s,m=ci(l,o),x=Math.exp(-u);return rn-f/m*x},a=l=>{const u=l*o*e,f=u*s+s,m=Math.pow(o,2)*Math.pow(l,2)*e,x=Math.exp(-u),b=ci(Math.pow(l,2),o);return(-i(l)+rn>0?-1:1)*((f-m)*x)/b}):(i=l=>{const d=Math.exp(-l*e),u=(l-s)*e+1;return-rn+d*u},a=l=>{const d=Math.exp(-l*e),u=(s-l)*(e*e);return d*u});const c=5/e,h=Tf(i,a,c);if(e=yt(e),isNaN(h))return{stiffness:De.stiffness,damping:De.damping,duration:e};{const l=Math.pow(h,2)*r;return{stiffness:l,damping:o*2*Math.sqrt(r*l),duration:e}}}const Bf=12;function Tf(e,t,s){let r=s;for(let i=1;i<Bf;i++)r=r-e(r)/t(r);return r}function ci(e,t){return e*Math.sqrt(1-t*t)}const Pf=["duration","bounce"],Ff=["stiffness","damping","mass"];function eo(e,t){return t.some(s=>e[s]!==void 0)}function _f(e){let t={velocity:De.velocity,stiffness:De.stiffness,damping:De.damping,mass:De.mass,isResolvedFromDuration:!1,...e};if(!eo(e,Ff)&&eo(e,Pf))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),i=r*r,a=2*Nt(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:De.mass,stiffness:i,damping:a}}else{const s=Df(e);t={...t,...s,mass:De.mass},t.isResolvedFromDuration=!0}return t}function Sr(e=De.visualDuration,t=De.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],c={done:!1,value:a},{stiffness:h,damping:l,mass:d,duration:u,velocity:f,isResolvedFromDuration:m}=_f({...s,velocity:-bt(s.velocity||0)}),x=f||0,b=l/(2*Math.sqrt(h*d)),p=o-a,g=bt(Math.sqrt(h/d)),v=Math.abs(p)<5;r||(r=v?De.restSpeed.granular:De.restSpeed.default),i||(i=v?De.restDelta.granular:De.restDelta.default);let y;if(b<1){const C=ci(g,b);y=S=>{const E=Math.exp(-b*g*S);return o-E*((x+b*g*p)/C*Math.sin(C*S)+p*Math.cos(C*S))}}else if(b===1)y=C=>o-Math.exp(-g*C)*(p+(x+g*p)*C);else{const C=g*Math.sqrt(b*b-1);y=S=>{const E=Math.exp(-b*g*S),k=Math.min(C*S,300);return o-E*((x+b*g*p)*Math.sinh(k)+C*p*Math.cosh(k))/C}}const w={calculatedDuration:m&&u||null,next:C=>{const S=y(C);if(m)c.done=C>=u;else{let E=C===0?x:0;b<1&&(E=C===0?yt(x):o0(y,C,S));const k=Math.abs(E)<=r,B=Math.abs(o-S)<=i;c.done=k&&B}return c.value=c.done?o:S,c},toString:()=>{const C=Math.min(ta(w),Nr),S=a0(E=>w.next(C*E).value,C,30);return C+"ms "+S},toTransition:()=>{}};return w}Sr.applyToOptions=e=>{const t=Af(e,100,Sr);return e.ease=t.ease,e.duration=yt(t.duration),e.type="keyframes",e};function di({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:h,restDelta:l=.5,restSpeed:d}){const u=e[0],f={done:!1,value:u},m=k=>c!==void 0&&k<c||h!==void 0&&k>h,x=k=>c===void 0?h:h===void 0||Math.abs(c-k)<Math.abs(h-k)?c:h;let b=s*t;const p=u+b,g=o===void 0?p:o(p);g!==p&&(b=g-u);const v=k=>-b*Math.exp(-k/r),y=k=>g+v(k),w=k=>{const B=v(k),N=y(k);f.done=Math.abs(B)<=l,f.value=f.done?g:N};let C,S;const E=k=>{m(f.value)&&(C=k,S=Sr({keyframes:[f.value,x(f.value)],velocity:o0(y,k,f.value),damping:i,stiffness:a,restDelta:l,restSpeed:d}))};return E(0),{calculatedDuration:null,next:k=>{let B=!1;return!S&&C===void 0&&(B=!0,w(k),E(k)),C!==void 0&&k>=C?S.next(k-C):(!B&&w(k),f)}}}function Rf(e,t,s){const r=[],i=s||St.mix||i0,a=e.length-1;for(let o=0;o<a;o++){let c=i(e[o],e[o+1]);if(t){const h=Array.isArray(t)?t[o]||lt:t;c=sr(h,c)}r.push(c)}return r}function Mf(e,t,{clamp:s=!0,ease:r,mixer:i}={}){const a=e.length;if(Wi(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=Rf(t,r,i),h=c.length,l=d=>{if(o&&d<e[0])return t[0];let u=0;if(h>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const f=Os(e[u],e[u+1],d);return c[u](f)};return s?d=>l(Nt(e[0],e[a-1],d)):l}function Lf(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const i=Os(0,t,r);e.push(Se(s,1,i))}}function If(e){const t=[0];return Lf(t,e.length-1),t}function Vf(e,t){return e.map(s=>s*t)}function Of(e,t){return e.map(()=>t||Gc).splice(0,e.length-1)}function Bs({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const i=Xh(r)?r.map(Ga):Ga(r),a={done:!1,value:t[0]},o=Vf(s&&s.length===t.length?s:If(t),e),c=Mf(o,t,{ease:Array.isArray(i)?i:Of(t,i)});return{calculatedDuration:e,next:h=>(a.value=c(h),a.done=h>=e,a)}}const qf=e=>e!==null;function sa(e,{repeat:t,repeatType:s="loop"},r,i=1){const a=e.filter(qf),c=i<0||t&&s!=="loop"&&t%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const zf={decay:di,inertia:di,tween:Bs,keyframes:Bs,spring:Sr};function l0(e){typeof e.type=="string"&&(e.type=zf[e.type])}class ra{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const $f=e=>e/100;class na extends ra{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:s}=this.options;s&&s.updatedAt!==Je.now()&&this.tick(Je.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;l0(t);const{type:s=Bs,repeat:r=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=t;let{keyframes:c}=t;const h=s||Bs;h!==Bs&&typeof c[0]!="number"&&(this.mixKeyframes=sr($f,i0(c[0],c[1])),c=[0,100]);const l=h({...t,keyframes:c});a==="mirror"&&(this.mirroredGenerator=h({...t,keyframes:[...c].reverse(),velocity:-o})),l.calculatedDuration===null&&(l.calculatedDuration=ta(l));const{calculatedDuration:d}=l;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=l}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:i,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:h}=this;if(this.startTime===null)return r.next(0);const{delay:l=0,keyframes:d,repeat:u,repeatType:f,repeatDelay:m,type:x,onUpdate:b,finalKeyframe:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-i/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const g=this.currentTime-l*(this.playbackSpeed>=0?1:-1),v=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let y=this.currentTime,w=r;if(u){const k=Math.min(this.currentTime,i)/c;let B=Math.floor(k),N=k%1;!N&&k>=1&&(N=1),N===1&&B--,B=Math.min(B,u+1),!!(B%2)&&(f==="reverse"?(N=1-N,m&&(N-=m/c)):f==="mirror"&&(w=o)),y=Nt(0,1,N)*c}const C=v?{done:!1,value:d[0]}:w.next(y);a&&(C.value=a(C.value));let{done:S}=C;!v&&h!==null&&(S=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return E&&x!==di&&(C.value=sa(d,this.options,p,this.speed)),b&&b(C.value),E&&this.finish(),C}then(t,s){return this.finished.then(t,s)}get duration(){return bt(this.calculatedDuration)}get time(){return bt(this.currentTime)}set time(t){var s;t=yt(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Je.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=bt(this.currentTime))}play(){var i,a;if(this.isStopped)return;const{driver:t=Ef,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(i=this.options).onPlay)==null||a.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Je.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function Uf(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Wt=e=>e*180/Math.PI,ui=e=>{const t=Wt(Math.atan2(e[1],e[0]));return hi(t)},Wf={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:ui,rotateZ:ui,skewX:e=>Wt(Math.atan(e[1])),skewY:e=>Wt(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},hi=e=>(e=e%360,e<0&&(e+=360),e),to=ui,so=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),ro=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Hf={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:so,scaleY:ro,scale:e=>(so(e)+ro(e))/2,rotateX:e=>hi(Wt(Math.atan2(e[6],e[5]))),rotateY:e=>hi(Wt(Math.atan2(-e[2],e[0]))),rotateZ:to,rotate:to,skewX:e=>Wt(Math.atan(e[4])),skewY:e=>Wt(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function fi(e){return e.includes("scale")?1:0}function mi(e,t){if(!e||e==="none")return fi(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(s)r=Hf,i=s;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Wf,i=c}if(!i)return fi(t);const a=r[t],o=i[1].split(",").map(Yf);return typeof a=="function"?a(o):o[a]}const Kf=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return mi(s,t)};function Yf(e){return parseFloat(e.trim())}const gs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vs=new Set(gs),no=e=>e===ps||e===le,Gf=new Set(["x","y","z"]),Xf=gs.filter(e=>!Gf.has(e));function Qf(e){const t=[];return Xf.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Kt={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>mi(t,"x"),y:(e,{transform:t})=>mi(t,"y")};Kt.translateX=Kt.x;Kt.translateY=Kt.y;const Yt=new Set;let xi=!1,pi=!1,gi=!1;function c0(){if(pi){const e=Array.from(Yt).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const i=Qf(r);i.length&&(s.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=s.get(r);i&&i.forEach(([a,o])=>{var c;(c=r.getValue(a))==null||c.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}pi=!1,xi=!1,Yt.forEach(e=>e.complete(gi)),Yt.clear()}function d0(){Yt.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(pi=!0)})}function Zf(){gi=!0,d0(),c0(),gi=!1}class ia{constructor(t,s,r,i,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Yt.add(this),xi||(xi=!0,Ce.read(d0),Ce.resolveKeyframes(c0))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:i}=this;if(t[0]===null){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&s){const c=r.readValue(s,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}Uf(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Yt.delete(this)}cancel(){this.state==="scheduled"&&(Yt.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Jf=e=>e.startsWith("--");function em(e,t,s){Jf(t)?e.style.setProperty(t,s):e.style[t]=s}const tm=Hi(()=>window.ScrollTimeline!==void 0),sm={};function rm(e,t){const s=Hi(e);return()=>sm[t]??s()}const u0=rm(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),As=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,io={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:As([0,.65,.55,1]),circOut:As([.55,0,1,.45]),backIn:As([.31,.01,.66,-.59]),backOut:As([.33,1.53,.69,.99])};function h0(e,t){if(e)return typeof e=="function"?u0()?a0(e,t):"ease-out":Xc(e)?As(e):Array.isArray(e)?e.map(s=>h0(s,t)||io.easeOut):io[e]}function nm(e,t,s,{delay:r=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:h}={},l=void 0){const d={[t]:s};h&&(d.offset=h);const u=h0(c,i);Array.isArray(u)&&(d.easing=u);const f={delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return l&&(f.pseudoElement=l),e.animate(d,f)}function f0(e){return typeof e=="function"&&"applyToOptions"in e}function im({type:e,...t}){return f0(e)&&u0()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class am extends ra{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:i,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:h}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,Wi(typeof t.type!="string");const l=im(t);this.animation=nm(s,r,i,l,a),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=sa(i,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(d):em(s,r,d),this.animation.cancel()}h==null||h(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,r;const t=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return bt(Number(t))}get time(){return bt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=yt(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&tm()?(this.animation.timeline=t,lt):s(this)}}const m0={anticipate:Hc,backInOut:Wc,circInOut:Yc};function om(e){return e in m0}function lm(e){typeof e.ease=="string"&&om(e.ease)&&(e.ease=m0[e.ease])}const ao=10;class cm extends am{constructor(t){lm(t),l0(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:i,element:a,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const c=new na({...o,autoplay:!1}),h=yt(this.finishedTime??this.time);s.setWithVelocity(c.sample(h-ao).value,c.sample(h).value,ao),c.stop()}}const oo=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_t.test(e)||e==="0")&&!e.startsWith("url("));function dm(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function um(e,t,s,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=oo(i,t),c=oo(a,t);return!o||!c?!1:dm(e)||(s==="spring"||f0(s))&&r}const hm=new Set(["opacity","clipPath","filter","transform"]),fm=Hi(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function mm(e){var d;const{motionValue:t,name:s,repeatDelay:r,repeatType:i,damping:a,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:h,transformTemplate:l}=t.owner.getProps();return fm()&&s&&hm.has(s)&&(s!=="transform"||!l)&&!h&&!r&&i!=="mirror"&&a!==0&&o!=="inertia"}const xm=40;class pm extends ra{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:h,motionValue:l,element:d,...u}){var x;super(),this.stop=()=>{var b,p;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(p=this.keyframeResolver)==null||p.cancel()},this.createdAt=Je.now();const f={autoplay:t,delay:s,type:r,repeat:i,repeatDelay:a,repeatType:o,name:h,motionValue:l,element:d,...u},m=(d==null?void 0:d.KeyframeResolver)||ia;this.keyframeResolver=new m(c,(b,p,g)=>this.onKeyframesResolved(b,p,f,!g),h,l,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(t,s,r,i){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:h,isHandoff:l,onUpdate:d}=r;this.resolvedAt=Je.now(),um(t,a,o,c)||((St.instantAnimations||!h)&&(d==null||d(sa(t,r,s))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>xm?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},m=!l&&mm(f)?new cm({...f,element:f.motionValue.owner.current}):new na(f);m.finished.then(()=>this.notifyFinished()).catch(lt),this.pendingTimeline&&(this.stopTimeline=m.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=m}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Zf()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const gm=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function vm(e){const t=gm.exec(e);if(!t)return[,];const[,s,r,i]=t;return[`--${s??r}`,i]}function x0(e,t,s=1){const[r,i]=vm(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return Lc(o)?parseFloat(o):o}return Qi(i)?x0(i,t,s+1):i}function aa(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const p0=new Set(["width","height","top","left","right","bottom",...gs]),ym={test:e=>e==="auto",parse:e=>e},g0=e=>t=>t.test(e),v0=[ps,le,wt,kt,df,cf,ym],lo=e=>v0.find(g0(e));function bm(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Vc(e):!0}const wm=new Set(["brightness","contrast","saturate","opacity"]);function jm(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(Zi)||[];if(!r)return e;const i=s.replace(r,"");let a=wm.has(t)?1:0;return r!==s&&(a*=100),t+"("+a+i+")"}const Cm=/\b([a-z-]*)\(.*?\)/gu,vi={..._t,getAnimatableNone:e=>{const t=e.match(Cm);return t?t.map(jm).join(" "):e}},co={...ps,transform:Math.round},Nm={rotate:kt,rotateX:kt,rotateY:kt,rotateZ:kt,scale:hr,scaleX:hr,scaleY:hr,scaleZ:hr,skew:kt,skewX:kt,skewY:kt,distance:le,translateX:le,translateY:le,translateZ:le,x:le,y:le,z:le,perspective:le,transformPerspective:le,opacity:qs,originX:Xa,originY:Xa,originZ:le},oa={borderWidth:le,borderTopWidth:le,borderRightWidth:le,borderBottomWidth:le,borderLeftWidth:le,borderRadius:le,radius:le,borderTopLeftRadius:le,borderTopRightRadius:le,borderBottomRightRadius:le,borderBottomLeftRadius:le,width:le,maxWidth:le,height:le,maxHeight:le,top:le,right:le,bottom:le,left:le,padding:le,paddingTop:le,paddingRight:le,paddingBottom:le,paddingLeft:le,margin:le,marginTop:le,marginRight:le,marginBottom:le,marginLeft:le,backgroundPositionX:le,backgroundPositionY:le,...Nm,zIndex:co,fillOpacity:qs,strokeOpacity:qs,numOctaves:co},Sm={...oa,color:Fe,backgroundColor:Fe,outlineColor:Fe,fill:Fe,stroke:Fe,borderColor:Fe,borderTopColor:Fe,borderRightColor:Fe,borderBottomColor:Fe,borderLeftColor:Fe,filter:vi,WebkitFilter:vi},y0=e=>Sm[e];function b0(e,t){let s=y0(e);return s!==vi&&(s=_t),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Em=new Set(["auto","none","0"]);function Am(e,t,s){let r=0,i;for(;r<e.length&&!i;){const a=e[r];typeof a=="string"&&!Em.has(a)&&zs(a).values.length&&(i=e[r]),r++}if(i&&s)for(const a of t)e[a]=b0(s,i)}class km extends ia{constructor(t,s,r,i,a){super(t,s,r,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let h=0;h<t.length;h++){let l=t[h];if(typeof l=="string"&&(l=l.trim(),Qi(l))){const d=x0(l,s.current);d!==void 0&&(t[h]=d),h===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!p0.has(r)||t.length!==2)return;const[i,a]=t,o=lo(i),c=lo(a);if(o!==c)if(no(o)&&no(c))for(let h=0;h<t.length;h++){const l=t[h];typeof l=="string"&&(t[h]=parseFloat(l))}else Kt[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let i=0;i<t.length;i++)(t[i]===null||bm(t[i]))&&r.push(i);r.length&&Am(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kt[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const i=s[s.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var c;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const i=t.getValue(s);i&&i.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Kt[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([h,l])=>{t.getValue(h).set(l)}),this.resolveNoneKeyframes()}}function Dm(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const i=(s==null?void 0:s[e])??r.querySelectorAll(e);return i?Array.from(i):[]}return Array.from(e)}const w0=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function j0(e){return Ic(e)&&"offsetHeight"in e}const uo=30,Bm=e=>!isNaN(parseFloat(e));class Tm{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{var o,c;const a=Je.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const h of this.dependents)h.dirty();i&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Je.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Bm(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new Ki);const r=this.events[t].add(s);return t==="change"?()=>{r(),Ce.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Je.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>uo)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,uo);return Oc(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hs(e,t){return new Tm(e,t)}const{schedule:la}=Qc(queueMicrotask,!1),ut={x:!1,y:!1};function C0(){return ut.x||ut.y}function Pm(e){return e==="x"||e==="y"?ut[e]?null:(ut[e]=!0,()=>{ut[e]=!1}):ut.x||ut.y?null:(ut.x=ut.y=!0,()=>{ut.x=ut.y=!1})}function N0(e,t){const s=Dm(e),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[s,i,()=>r.abort()]}function ho(e){return!(e.pointerType==="touch"||C0())}function Fm(e,t,s={}){const[r,i,a]=N0(e,s),o=c=>{if(!ho(c))return;const{target:h}=c,l=t(h,c);if(typeof l!="function"||!h)return;const d=u=>{ho(u)&&(l(u),h.removeEventListener("pointerleave",d))};h.addEventListener("pointerleave",d,i)};return r.forEach(c=>{c.addEventListener("pointerenter",o,i)}),a}const S0=(e,t)=>t?e===t?!0:S0(e,t.parentElement):!1,ca=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,_m=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Rm(e){return _m.has(e.tagName)||e.tabIndex!==-1}const gr=new WeakSet;function fo(e){return t=>{t.key==="Enter"&&e(t)}}function nn(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Mm=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=fo(()=>{if(gr.has(s))return;nn(s,"down");const i=fo(()=>{nn(s,"up")}),a=()=>nn(s,"cancel");s.addEventListener("keyup",i,t),s.addEventListener("blur",a,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function mo(e){return ca(e)&&!C0()}function Lm(e,t,s={}){const[r,i,a]=N0(e,s),o=c=>{const h=c.currentTarget;if(!mo(c))return;gr.add(h);const l=t(h,c),d=(m,x)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",f),gr.has(h)&&gr.delete(h),mo(m)&&typeof l=="function"&&l(m,{success:x})},u=m=>{d(m,h===window||h===document||s.useGlobalTarget||S0(h,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",u,i),window.addEventListener("pointercancel",f,i)};return r.forEach(c=>{(s.useGlobalTarget?window:c).addEventListener("pointerdown",o,i),j0(c)&&(c.addEventListener("focus",l=>Mm(l,i)),!Rm(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function E0(e){return Ic(e)&&"ownerSVGElement"in e}function Im(e){return E0(e)&&e.tagName==="svg"}const ze=e=>!!(e&&e.getVelocity),Vm=[...v0,Fe,_t],Om=e=>Vm.find(g0(e)),da=j.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class qm extends j.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=s.offsetParent,i=j0(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft,a.right=i-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function zm({children:e,isPresent:t,anchorX:s,root:r}){const i=j.useId(),a=j.useRef(null),o=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=j.useContext(da);return j.useInsertionEffect(()=>{const{width:h,height:l,top:d,left:u,right:f}=o.current;if(t||!a.current||!h||!l)return;const m=s==="left"?`left: ${u}`:`right: ${f}`;a.current.dataset.motionPopId=i;const x=document.createElement("style");c&&(x.nonce=c);const b=r??document.head;return b.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${l}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{b.removeChild(x),b.contains(x)&&b.removeChild(x)}},[t]),n.jsx(qm,{isPresent:t,childRef:a,sizeRef:o,children:j.cloneElement(e,{ref:a})})}const $m=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:i,presenceAffectsLayout:a,mode:o,anchorX:c,root:h})=>{const l=qi(Um),d=j.useId();let u=!0,f=j.useMemo(()=>(u=!1,{id:d,initial:t,isPresent:s,custom:i,onExitComplete:m=>{l.set(m,!0);for(const x of l.values())if(!x)return;r&&r()},register:m=>(l.set(m,!1),()=>l.delete(m))}),[s,l,r]);return a&&u&&(f={...f}),j.useMemo(()=>{l.forEach((m,x)=>l.set(x,!1))},[s]),j.useEffect(()=>{!s&&!l.size&&r&&r()},[s]),o==="popLayout"&&(e=n.jsx(zm,{isPresent:s,anchorX:c,root:h,children:e})),n.jsx(Lr.Provider,{value:f,children:e})};function Um(){return new Map}function A0(e=!0){const t=j.useContext(Lr);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:i}=t,a=j.useId();j.useEffect(()=>{if(e)return i(a)},[e]);const o=j.useCallback(()=>e&&r&&r(a),[a,r,e]);return!s&&r?[!1,o]:[!0]}const fr=e=>e.key||"";function xo(e){const t=[];return j.Children.forEach(e,s=>{j.isValidElement(s)&&t.push(s)}),t}const $s=({children:e,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",root:h})=>{const[l,d]=A0(o),u=j.useMemo(()=>xo(e),[e]),f=o&&!l?[]:u.map(fr),m=j.useRef(!0),x=j.useRef(u),b=qi(()=>new Map),[p,g]=j.useState(u),[v,y]=j.useState(u);Mc(()=>{m.current=!1,x.current=u;for(let S=0;S<v.length;S++){const E=fr(v[S]);f.includes(E)?b.delete(E):b.get(E)!==!0&&b.set(E,!1)}},[v,f.length,f.join("-")]);const w=[];if(u!==p){let S=[...u];for(let E=0;E<v.length;E++){const k=v[E],B=fr(k);f.includes(B)||(S.splice(E,0,k),w.push(k))}return a==="wait"&&w.length&&(S=w),y(xo(S)),g(u),null}const{forceRender:C}=j.useContext(Oi);return n.jsx(n.Fragment,{children:v.map(S=>{const E=fr(S),k=o&&!l?!1:u===v||f.includes(E),B=()=>{if(b.has(E))b.set(E,!0);else return;let N=!0;b.forEach(A=>{A||(N=!1)}),N&&(C==null||C(),y(x.current),o&&(d==null||d()),r&&r())};return n.jsx($m,{isPresent:k,initial:!m.current||s?void 0:!1,custom:t,presenceAffectsLayout:i,mode:a,root:h,onExitComplete:k?void 0:B,anchorX:c,children:S},E)})})},k0=j.createContext({strict:!1}),po={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fs={};for(const e in po)fs[e]={isEnabled:t=>po[e].some(s=>!!t[s])};function Wm(e){for(const t in e)fs[t]={...fs[t],...e[t]}}const Hm=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Er(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Hm.has(e)}let D0=e=>!Er(e);function Km(e){typeof e=="function"&&(D0=t=>t.startsWith("on")?!Er(t):e(t))}try{Km(require("@emotion/is-prop-valid").default)}catch{}function Ym(e,t,s){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(D0(i)||s===!0&&Er(i)||!t&&!Er(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}const Ir=j.createContext({});function Vr(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Us(e){return typeof e=="string"||Array.isArray(e)}const ua=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ha=["initial",...ua];function Or(e){return Vr(e.animate)||ha.some(t=>Us(e[t]))}function B0(e){return!!(Or(e)||e.variants)}function Gm(e,t){if(Or(e)){const{initial:s,animate:r}=e;return{initial:s===!1||Us(s)?s:void 0,animate:Us(r)?r:void 0}}return e.inherit!==!1?t:{}}function Xm(e){const{initial:t,animate:s}=Gm(e,j.useContext(Ir));return j.useMemo(()=>({initial:t,animate:s}),[go(t),go(s)])}function go(e){return Array.isArray(e)?e.join(" "):e}const Ws={};function Qm(e){for(const t in e)Ws[t]=e[t],Xi(t)&&(Ws[t].isCSSVariable=!0)}function T0(e,{layout:t,layoutId:s}){return vs.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Ws[e]||e==="opacity")}const Zm={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jm=gs.length;function ex(e,t,s){let r="",i=!0;for(let a=0;a<Jm;a++){const o=gs[a],c=e[o];if(c===void 0)continue;let h=!0;if(typeof c=="number"?h=c===(o.startsWith("scale")?1:0):h=parseFloat(c)===0,!h||s){const l=w0(c,oa[o]);if(!h){i=!1;const d=Zm[o]||o;r+=`${d}(${l}) `}s&&(t[o]=l)}}return r=r.trim(),s?r=s(t,i?"":r):i&&(r="none"),r}function fa(e,t,s){const{style:r,vars:i,transformOrigin:a}=e;let o=!1,c=!1;for(const h in t){const l=t[h];if(vs.has(h)){o=!0;continue}else if(Xi(h)){i[h]=l;continue}else{const d=w0(l,oa[h]);h.startsWith("origin")?(c=!0,a[h]=d):r[h]=d}}if(t.transform||(o||s?r.transform=ex(t,e.transform,s):r.transform&&(r.transform="none")),c){const{originX:h="50%",originY:l="50%",originZ:d=0}=a;r.transformOrigin=`${h} ${l} ${d}`}}const ma=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function P0(e,t,s){for(const r in t)!ze(t[r])&&!T0(r,s)&&(e[r]=t[r])}function tx({transformTemplate:e},t){return j.useMemo(()=>{const s=ma();return fa(s,t,e),Object.assign({},s.vars,s.style)},[t])}function sx(e,t){const s=e.style||{},r={};return P0(r,s,e),Object.assign(r,tx(e,t)),r}function rx(e,t){const s={},r=sx(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const nx={offset:"stroke-dashoffset",array:"stroke-dasharray"},ix={offset:"strokeDashoffset",array:"strokeDasharray"};function ax(e,t,s=1,r=0,i=!0){e.pathLength=1;const a=i?nx:ix;e[a.offset]=le.transform(-r);const o=le.transform(t),c=le.transform(s);e[a.array]=`${o} ${c}`}function F0(e,{attrX:t,attrY:s,attrScale:r,pathLength:i,pathSpacing:a=1,pathOffset:o=0,...c},h,l,d){if(fa(e,c,l),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:u,style:f}=e;u.transform&&(f.transform=u.transform,delete u.transform),(f.transform||u.transformOrigin)&&(f.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),f.transform&&(f.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete u.transformBox),t!==void 0&&(u.x=t),s!==void 0&&(u.y=s),r!==void 0&&(u.scale=r),i!==void 0&&ax(u,i,a,o,!1)}const _0=()=>({...ma(),attrs:{}}),R0=e=>typeof e=="string"&&e.toLowerCase()==="svg";function ox(e,t,s,r){const i=j.useMemo(()=>{const a=_0();return F0(a,t,R0(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};P0(a,e.style,e),i.style={...a,...i.style}}return i}const lx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xa(e){return typeof e!="string"||e.includes("-")?!1:!!(lx.indexOf(e)>-1||/[A-Z]/u.test(e))}function cx(e,t,s,{latestValues:r},i,a=!1){const c=(xa(e)?ox:rx)(t,r,i,e),h=Ym(t,typeof e=="string",a),l=e!==j.Fragment?{...h,...c,ref:s}:{},{children:d}=t,u=j.useMemo(()=>ze(d)?d.get():d,[d]);return j.createElement(e,{...l,children:u})}function vo(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function pa(e,t,s,r){if(typeof t=="function"){const[i,a]=vo(r);t=t(s!==void 0?s:e.custom,i,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,a]=vo(r);t=t(s!==void 0?s:e.custom,i,a)}return t}function vr(e){return ze(e)?e.get():e}function dx({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,i){return{latestValues:ux(s,r,i,e),renderState:t()}}function ux(e,t,s,r){const i={},a=r(e,{});for(const f in a)i[f]=vr(a[f]);let{initial:o,animate:c}=e;const h=Or(e),l=B0(e);t&&l&&!h&&e.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let d=s?s.initial===!1:!1;d=d||o===!1;const u=d?c:o;if(u&&typeof u!="boolean"&&!Vr(u)){const f=Array.isArray(u)?u:[u];for(let m=0;m<f.length;m++){const x=pa(e,f[m]);if(x){const{transitionEnd:b,transition:p,...g}=x;for(const v in g){let y=g[v];if(Array.isArray(y)){const w=d?y.length-1:0;y=y[w]}y!==null&&(i[v]=y)}for(const v in b)i[v]=b[v]}}}return i}const M0=e=>(t,s)=>{const r=j.useContext(Ir),i=j.useContext(Lr),a=()=>dx(e,t,r,i);return s?a():qi(a)};function ga(e,t,s){var a;const{style:r}=e,i={};for(const o in r)(ze(r[o])||t.style&&ze(t.style[o])||T0(o,e)||((a=s==null?void 0:s.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(i[o]=r[o]);return i}const hx=M0({scrapeMotionValuesFromProps:ga,createRenderState:ma});function L0(e,t,s){const r=ga(e,t,s);for(const i in e)if(ze(e[i])||ze(t[i])){const a=gs.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[a]=e[i]}return r}const fx=M0({scrapeMotionValuesFromProps:L0,createRenderState:_0}),mx=Symbol.for("motionComponentSymbol");function as(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function xx(e,t,s){return j.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):as(s)&&(s.current=r))},[t])}const va=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),px="framerAppearId",I0="data-"+va(px),V0=j.createContext({});function gx(e,t,s,r,i){var b,p;const{visualElement:a}=j.useContext(Ir),o=j.useContext(k0),c=j.useContext(Lr),h=j.useContext(da).reducedMotion,l=j.useRef(null);r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:s,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const d=l.current,u=j.useContext(V0);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&vx(l.current,s,i,u);const f=j.useRef(!1);j.useInsertionEffect(()=>{d&&f.current&&d.update(s,c)});const m=s[I0],x=j.useRef(!!m&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,m))&&((p=window.MotionHasOptimisedAnimation)==null?void 0:p.call(window,m)));return Mc(()=>{d&&(f.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),j.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var g;(g=window.MotionHandoffMarkAsComplete)==null||g.call(window,m)}),x.current=!1))}),d}function vx(e,t,s,r){const{layoutId:i,layout:a,drag:o,dragConstraints:c,layoutScroll:h,layoutRoot:l,layoutCrossfade:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:O0(e.parent)),e.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||c&&as(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:h,layoutRoot:l})}function O0(e){if(e)return e.options.allowProjection!==!1?e.projection:O0(e.parent)}function an(e,{forwardMotionProps:t=!1}={},s,r){s&&Wm(s);const i=xa(e)?fx:hx;function a(c,h){let l;const d={...j.useContext(da),...c,layoutId:yx(c)},{isStatic:u}=d,f=Xm(c),m=i(c,u);if(!u&&zi){bx();const x=wx(d);l=x.MeasureLayout,f.visualElement=gx(e,m,d,r,x.ProjectionNode)}return n.jsxs(Ir.Provider,{value:f,children:[l&&f.visualElement?n.jsx(l,{visualElement:f.visualElement,...d}):null,cx(e,c,xx(m,f.visualElement,h),m,u,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=j.forwardRef(a);return o[mx]=e,o}function yx({layoutId:e}){const t=j.useContext(Oi).id;return t&&e!==void 0?t+"-"+e:e}function bx(e,t){j.useContext(k0).strict}function wx(e){const{drag:t,layout:s}=fs;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function jx(e,t){if(typeof Proxy>"u")return an;const s=new Map,r=(a,o)=>an(a,o,e,t),i=(a,o)=>r(a,o);return new Proxy(i,{get:(a,o)=>o==="create"?r:(s.has(o)||s.set(o,an(o,void 0,e,t)),s.get(o))})}function q0({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function Cx({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Nx(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function on(e){return e===void 0||e===1}function yi({scale:e,scaleX:t,scaleY:s}){return!on(e)||!on(t)||!on(s)}function qt(e){return yi(e)||z0(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function z0(e){return yo(e.x)||yo(e.y)}function yo(e){return e&&e!=="0%"}function Ar(e,t,s){const r=e-s,i=t*r;return s+i}function bo(e,t,s,r,i){return i!==void 0&&(e=Ar(e,i,r)),Ar(e,s,r)+t}function bi(e,t=0,s=1,r,i){e.min=bo(e.min,t,s,r,i),e.max=bo(e.max,t,s,r,i)}function $0(e,{x:t,y:s}){bi(e.x,t.translate,t.scale,t.originPoint),bi(e.y,s.translate,s.scale,s.originPoint)}const wo=.999999999999,jo=1.0000000000001;function Sx(e,t,s,r=!1){const i=s.length;if(!i)return;t.x=t.y=1;let a,o;for(let c=0;c<i;c++){a=s[c],o=a.projectionDelta;const{visualElement:h}=a.options;h&&h.props.style&&h.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&ls(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,$0(e,o)),r&&qt(a.latestValues)&&ls(e,a.latestValues))}t.x<jo&&t.x>wo&&(t.x=1),t.y<jo&&t.y>wo&&(t.y=1)}function os(e,t){e.min=e.min+t,e.max=e.max+t}function Co(e,t,s,r,i=.5){const a=Se(e.min,e.max,i);bi(e,t,s,a,r)}function ls(e,t){Co(e.x,t.x,t.scaleX,t.scale,t.originX),Co(e.y,t.y,t.scaleY,t.scale,t.originY)}function U0(e,t){return q0(Nx(e.getBoundingClientRect(),t))}function Ex(e,t,s){const r=U0(e,s),{scroll:i}=t;return i&&(os(r.x,i.offset.x),os(r.y,i.offset.y)),r}const No=()=>({translate:0,scale:1,origin:0,originPoint:0}),cs=()=>({x:No(),y:No()}),So=()=>({min:0,max:0}),Te=()=>({x:So(),y:So()}),wi={current:null},W0={current:!1};function Ax(){if(W0.current=!0,!!zi)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>wi.current=e.matches;e.addEventListener("change",t),t()}else wi.current=!1}const kx=new WeakMap;function Dx(e,t,s){for(const r in t){const i=t[r],a=s[r];if(ze(i))e.addValue(r,i);else if(ze(a))e.addValue(r,hs(i,{owner:e}));else if(a!==i)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(r);e.addValue(r,hs(o!==void 0?o:i,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const Eo=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Bx{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=ia,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Je.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Ce.render(this.render,!1,!0))};const{latestValues:h,renderState:l}=o;this.latestValues=h,this.baseTarget={...h},this.initialValues=s.initial?{...h}:{},this.renderState=l,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Or(s),this.isVariantNode=B0(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(s,{},this);for(const f in u){const m=u[f];h[f]!==void 0&&ze(m)&&m.set(h[f],!1)}}mount(t){this.current=t,kx.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),W0.current||Ax(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wi.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ft(this.notifyUpdate),Ft(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=vs.has(t);r&&this.onBindTransform&&this.onBindTransform();const i=s.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Ce.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{i(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in fs){const s=fs[t];if(!s)continue;const{isEnabled:r,Feature:i}=s;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Te()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Eo.length;r++){const i=Eo[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=t[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Dx(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=hs(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(Lc(r)||Vc(r))?r=parseFloat(r):!Om(r)&&_t.test(s)&&(r=b0(t,s)),this.setBaseTarget(t,ze(r)?r.get():r)),ze(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var a;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=pa(this.props,s,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[t])}if(s&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,t);return i!==void 0&&!ze(i)?i:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new Ki),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){la.render(this.render)}}class H0 extends Bx{constructor(){super(...arguments),this.KeyframeResolver=km}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ze(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function K0(e,{style:t,vars:s},r,i){const a=e.style;let o;for(o in t)a[o]=t[o];i==null||i.applyProjectionStyles(a,r);for(o in s)a.setProperty(o,s[o])}function Tx(e){return window.getComputedStyle(e)}class Px extends H0{constructor(){super(...arguments),this.type="html",this.renderInstance=K0}readValueFromInstance(t,s){var r;if(vs.has(s))return(r=this.projection)!=null&&r.isProjecting?fi(s):Kf(t,s);{const i=Tx(t),a=(Xi(s)?i.getPropertyValue(s):i[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return U0(t,s)}build(t,s,r){fa(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return ga(t,s,r)}}const Y0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fx(e,t,s,r){K0(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(Y0.has(i)?i:va(i),t.attrs[i])}class _x extends H0{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Te}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(vs.has(s)){const r=y0(s);return r&&r.default||0}return s=Y0.has(s)?s:va(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return L0(t,s,r)}build(t,s,r){F0(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,i){Fx(t,s,r,i)}mount(t){this.isSVGTag=R0(t.tagName),super.mount(t)}}const Rx=(e,t)=>xa(e)?new _x(t):new Px(t,{allowProjection:e!==j.Fragment});function Hs(e,t,s){const r=e.getProps();return pa(r,t,s!==void 0?s:r.custom,e)}const ji=e=>Array.isArray(e);function Mx(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,hs(s))}function Lx(e){return ji(e)?e[e.length-1]||0:e}function Ix(e,t){const s=Hs(e,t);let{transitionEnd:r={},transition:i={},...a}=s||{};a={...a,...r};for(const o in a){const c=Lx(a[o]);Mx(e,o,c)}}function Vx(e){return!!(ze(e)&&e.add)}function Ci(e,t){const s=e.getValue("willChange");if(Vx(s))return s.add(t);if(!s&&St.WillChange){const r=new St.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function G0(e){return e.props[I0]}const Ox=e=>e!==null;function qx(e,{repeat:t,repeatType:s="loop"},r){const i=e.filter(Ox),a=t&&s!=="loop"&&t%2===1?0:i.length-1;return i[a]}const zx={type:"spring",stiffness:500,damping:25,restSpeed:10},$x=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Ux={type:"keyframes",duration:.8},Wx={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Hx=(e,{keyframes:t})=>t.length>2?Ux:vs.has(e)?e.startsWith("scale")?$x(t[1]):zx:Wx;function Kx({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:c,from:h,elapsed:l,...d}){return!!Object.keys(d).length}const ya=(e,t,s,r={},i,a)=>o=>{const c=aa(r,e)||{},h=c.delay||r.delay||0;let{elapsed:l=0}=r;l=l-yt(h);const d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-l,onUpdate:f=>{t.set(f),c.onUpdate&&c.onUpdate(f)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:i};Kx(c)||Object.assign(d,Hx(e,d)),d.duration&&(d.duration=yt(d.duration)),d.repeatDelay&&(d.repeatDelay=yt(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let u=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(u=!0)),(St.instantAnimations||St.skipAnimations)&&(u=!0,d.duration=0,d.delay=0),d.allowFlatten=!c.type&&!c.ease,u&&!a&&t.get()!==void 0){const f=qx(d.keyframes,c);if(f!==void 0){Ce.update(()=>{d.onUpdate(f),d.onComplete()});return}}return c.isSync?new na(d):new pm(d)};function Yx({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function X0(e,t,{delay:s=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...c}=t;r&&(a=r);const h=[],l=i&&e.animationState&&e.animationState.getState()[i];for(const d in c){const u=e.getValue(d,e.latestValues[d]??null),f=c[d];if(f===void 0||l&&Yx(l,d))continue;const m={delay:s,...aa(a||{},d)},x=u.get();if(x!==void 0&&!u.isAnimating&&!Array.isArray(f)&&f===x&&!m.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const g=G0(e);if(g){const v=window.MotionHandoffAnimation(g,d,Ce);v!==null&&(m.startTime=v,b=!0)}}Ci(e,d),u.start(ya(d,u,f,e.shouldReduceMotion&&p0.has(d)?{type:!1}:m,e,b));const p=u.animation;p&&h.push(p)}return o&&Promise.all(h).then(()=>{Ce.update(()=>{o&&Ix(e,o)})}),h}function Ni(e,t,s={}){var h;const r=Hs(e,t,s.type==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);let{transition:i=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(i=s.transitionOverride);const a=r?()=>Promise.all(X0(e,r,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:f}=i;return Gx(e,t,l,d,u,f,s)}:()=>Promise.resolve(),{when:c}=i;if(c){const[l,d]=c==="beforeChildren"?[a,o]:[o,a];return l().then(()=>d())}else return Promise.all([a(),o(s.delay)])}function Gx(e,t,s=0,r=0,i=0,a=1,o){const c=[],h=e.variantChildren.size,l=(h-1)*i,d=typeof r=="function",u=d?f=>r(f,h):a===1?(f=0)=>f*i:(f=0)=>l-f*i;return Array.from(e.variantChildren).sort(Xx).forEach((f,m)=>{f.notify("AnimationStart",t),c.push(Ni(f,t,{...o,delay:s+(d?0:r)+u(m)}).then(()=>f.notify("AnimationComplete",t)))}),Promise.all(c)}function Xx(e,t){return e.sortNodePosition(t)}function Qx(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>Ni(e,a,s));r=Promise.all(i)}else if(typeof t=="string")r=Ni(e,t,s);else{const i=typeof t=="function"?Hs(e,t,s.custom):t;r=Promise.all(X0(e,i,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Q0(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const Zx=ha.length;function Z0(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Z0(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Zx;s++){const r=ha[s],i=e.props[r];(Us(i)||i===!1)&&(t[r]=i)}return t}const Jx=[...ua].reverse(),ep=ua.length;function tp(e){return t=>Promise.all(t.map(({animation:s,options:r})=>Qx(e,s,r)))}function sp(e){let t=tp(e),s=Ao(),r=!0;const i=h=>(l,d)=>{var f;const u=Hs(e,d,h==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);if(u){const{transition:m,transitionEnd:x,...b}=u;l={...l,...b,...x}}return l};function a(h){t=h(e)}function o(h){const{props:l}=e,d=Z0(e.parent)||{},u=[],f=new Set;let m={},x=1/0;for(let p=0;p<ep;p++){const g=Jx[p],v=s[g],y=l[g]!==void 0?l[g]:d[g],w=Us(y),C=g===h?v.isActive:null;C===!1&&(x=p);let S=y===d[g]&&y!==l[g]&&w;if(S&&r&&e.manuallyAnimateOnMount&&(S=!1),v.protectedKeys={...m},!v.isActive&&C===null||!y&&!v.prevProp||Vr(y)||typeof y=="boolean")continue;const E=rp(v.prevProp,y);let k=E||g===h&&v.isActive&&!S&&w||p>x&&w,B=!1;const N=Array.isArray(y)?y:[y];let A=N.reduce(i(g),{});C===!1&&(A={});const{prevResolvedValues:F={}}=v,P={...F,...A},U=G=>{k=!0,f.has(G)&&(B=!0,f.delete(G)),v.needsAnimating[G]=!0;const Q=e.getValue(G);Q&&(Q.liveStyle=!1)};for(const G in P){const Q=A[G],L=F[G];if(m.hasOwnProperty(G))continue;let X=!1;ji(Q)&&ji(L)?X=!Q0(Q,L):X=Q!==L,X?Q!=null?U(G):f.add(G):Q!==void 0&&f.has(G)?U(G):v.protectedKeys[G]=!0}v.prevProp=y,v.prevResolvedValues=A,v.isActive&&(m={...m,...A}),r&&e.blockInitialAnimation&&(k=!1),k&&(!(S&&E)||B)&&u.push(...N.map(G=>({animation:G,options:{type:g}})))}if(f.size){const p={};if(typeof l.initial!="boolean"){const g=Hs(e,Array.isArray(l.initial)?l.initial[0]:l.initial);g&&g.transition&&(p.transition=g.transition)}f.forEach(g=>{const v=e.getBaseTarget(g),y=e.getValue(g);y&&(y.liveStyle=!0),p[g]=v??null}),u.push({animation:p})}let b=!!u.length;return r&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(b=!1),r=!1,b?t(u):Promise.resolve()}function c(h,l){var u;if(s[h].isActive===l)return Promise.resolve();(u=e.variantChildren)==null||u.forEach(f=>{var m;return(m=f.animationState)==null?void 0:m.setActive(h,l)}),s[h].isActive=l;const d=o(h);for(const f in s)s[f].protectedKeys={};return d}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>s,reset:()=>{s=Ao(),r=!0}}}function rp(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Q0(t,e):!1}function Ot(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ao(){return{animate:Ot(!0),whileInView:Ot(),whileHover:Ot(),whileTap:Ot(),whileDrag:Ot(),whileFocus:Ot(),exit:Ot()}}class Rt{constructor(t){this.isMounted=!1,this.node=t}update(){}}class np extends Rt{constructor(t){super(t),t.animationState||(t.animationState=sp(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Vr(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ip=0;class ap extends Rt{constructor(){super(...arguments),this.id=ip++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);s&&!t&&i.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const op={animation:{Feature:np},exit:{Feature:ap}};function Ks(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function ir(e){return{point:{x:e.pageX,y:e.pageY}}}const lp=e=>t=>ca(t)&&e(t,ir(t));function Ts(e,t,s,r){return Ks(e,t,lp(s),r)}const J0=1e-4,cp=1-J0,dp=1+J0,ed=.01,up=0-ed,hp=0+ed;function Ke(e){return e.max-e.min}function fp(e,t,s){return Math.abs(e-t)<=s}function ko(e,t,s,r=.5){e.origin=r,e.originPoint=Se(t.min,t.max,e.origin),e.scale=Ke(s)/Ke(t),e.translate=Se(s.min,s.max,e.origin)-e.originPoint,(e.scale>=cp&&e.scale<=dp||isNaN(e.scale))&&(e.scale=1),(e.translate>=up&&e.translate<=hp||isNaN(e.translate))&&(e.translate=0)}function Ps(e,t,s,r){ko(e.x,t.x,s.x,r?r.originX:void 0),ko(e.y,t.y,s.y,r?r.originY:void 0)}function Do(e,t,s){e.min=s.min+t.min,e.max=e.min+Ke(t)}function mp(e,t,s){Do(e.x,t.x,s.x),Do(e.y,t.y,s.y)}function Bo(e,t,s){e.min=t.min-s.min,e.max=e.min+Ke(t)}function Fs(e,t,s){Bo(e.x,t.x,s.x),Bo(e.y,t.y,s.y)}function nt(e){return[e("x"),e("y")]}const td=({current:e})=>e?e.ownerDocument.defaultView:null,To=(e,t)=>Math.abs(e-t);function xp(e,t){const s=To(e.x,t.x),r=To(e.y,t.y);return Math.sqrt(s**2+r**2)}class sd{constructor(t,s,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=cn(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,x=xp(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!m&&!x)return;const{point:b}=f,{timestamp:p}=Oe;this.history.push({...b,timestamp:p});const{onStart:g,onMove:v}=this.handlers;m||(g&&g(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=ln(m,this.transformPagePoint),Ce.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=cn(f.type==="pointercancel"?this.lastMoveEventInfo:ln(m,this.transformPagePoint),this.history);this.startEvent&&x&&x(f,g),b&&b(f,g)},!ca(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const c=ir(t),h=ln(c,this.transformPagePoint),{point:l}=h,{timestamp:d}=Oe;this.history=[{...l,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,cn(h,this.history)),this.removeListeners=sr(Ts(this.contextWindow,"pointermove",this.handlePointerMove),Ts(this.contextWindow,"pointerup",this.handlePointerUp),Ts(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ft(this.updatePoint)}}function ln(e,t){return t?{point:t(e.point)}:e}function Po(e,t){return{x:e.x-t.x,y:e.y-t.y}}function cn({point:e},t){return{point:e,delta:Po(e,rd(t)),offset:Po(e,pp(t)),velocity:gp(t,.1)}}function pp(e){return e[0]}function rd(e){return e[e.length-1]}function gp(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const i=rd(e);for(;s>=0&&(r=e[s],!(i.timestamp-r.timestamp>yt(t)));)s--;if(!r)return{x:0,y:0};const a=bt(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vp(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?Se(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?Se(s,e,r.max):Math.min(e,s)),e}function Fo(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function yp(e,{top:t,left:s,bottom:r,right:i}){return{x:Fo(e.x,s,i),y:Fo(e.y,t,r)}}function _o(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function bp(e,t){return{x:_o(e.x,t.x),y:_o(e.y,t.y)}}function wp(e,t){let s=.5;const r=Ke(e),i=Ke(t);return i>r?s=Os(t.min,t.max-r,e.min):r>i&&(s=Os(e.min,e.max-i,t.min)),Nt(0,1,s)}function jp(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Si=.35;function Cp(e=Si){return e===!1?e=0:e===!0&&(e=Si),{x:Ro(e,"left","right"),y:Ro(e,"top","bottom")}}function Ro(e,t,s){return{min:Mo(e,t),max:Mo(e,s)}}function Mo(e,t){return typeof e=="number"?e:e[t]||0}const Np=new WeakMap;class Sp{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Te(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(ir(u).point)},o=(u,f)=>{const{drag:m,dragPropagation:x,onDragStart:b}=this.getProps();if(m&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Pm(m),!this.openDragLock))return;this.latestPointerEvent=u,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nt(g=>{let v=this.getAxisMotionValue(g).get()||0;if(wt.test(v)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[g];w&&(v=Ke(w)*(parseFloat(v)/100))}}this.originPoint[g]=v}),b&&Ce.postRender(()=>b(u,f)),Ci(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},c=(u,f)=>{this.latestPointerEvent=u,this.latestPanInfo=f;const{dragPropagation:m,dragDirectionLock:x,onDirectionLock:b,onDrag:p}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=f;if(x&&this.currentDirection===null){this.currentDirection=Ep(g),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",f.point,g),this.updateAxis("y",f.point,g),this.visualElement.render(),p&&p(u,f)},h=(u,f)=>{this.latestPointerEvent=u,this.latestPanInfo=f,this.stop(u,f),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>nt(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)==null?void 0:f.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new sd(t,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:h,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:td(this.visualElement)})}stop(t,s){const r=t||this.latestPointerEvent,i=s||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&Ce.postRender(()=>c(r,i))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:i}=this.getProps();if(!r||!mr(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=vp(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,i=this.constraints;t&&as(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=yp(r.layoutBox,t):this.constraints=!1,this.elastic=Cp(s),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&nt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=jp(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!as(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=Ex(r,i.root,this.visualElement.getTransformPagePoint());let o=bp(i.layout.layoutBox,a);if(s){const c=s(Cx(o));this.hasMutatedConstraints=!!c,c&&(o=q0(c))}return o}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),h=this.constraints||{},l=nt(d=>{if(!mr(d,s,this.currentDirection))return;let u=h&&h[d]||{};o&&(u={min:0,max:0});const f=i?200:1e6,m=i?40:1e7,x={type:"inertia",velocity:r?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...u};return this.startAxisValueAnimation(d,x)});return Promise.all(l).then(c)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return Ci(this.visualElement,t),r.start(ya(t,r,0,s,this.visualElement,!1))}stopAnimation(){nt(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){nt(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[s];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){nt(s=>{const{drag:r}=this.getProps();if(!mr(s,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(s);if(i&&i.layout){const{min:o,max:c}=i.layout.layoutBox[s];a.set(t[s]-Se(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!as(s)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};nt(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const h=c.get();i[o]=wp({min:h,max:h},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),nt(o=>{if(!mr(o,t,null))return;const c=this.getAxisMotionValue(o),{min:h,max:l}=this.constraints[o];c.set(Se(h,l,i[o]))})}addListeners(){if(!this.visualElement.current)return;Np.set(this.visualElement,this);const t=this.visualElement.current,s=Ts(t,"pointerdown",h=>{const{drag:l,dragListener:d=!0}=this.getProps();l&&d&&this.start(h)}),r=()=>{const{dragConstraints:h}=this.getProps();as(h)&&h.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Ce.read(r);const o=Ks(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:h,hasLayoutChanged:l})=>{this.isDragging&&l&&(nt(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=h[d].translate,u.set(u.get()+h[d].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=Si,dragMomentum:c=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function mr(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function Ep(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Ap extends Rt{constructor(t){super(t),this.removeGroupControls=lt,this.removeListeners=lt,this.controls=new Sp(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||lt}unmount(){this.removeGroupControls(),this.removeListeners()}}const Lo=e=>(t,s)=>{e&&Ce.postRender(()=>e(t,s))};class kp extends Rt{constructor(){super(...arguments),this.removePointerDownListener=lt}onPointerDown(t){this.session=new sd(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:td(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:Lo(t),onStart:Lo(s),onMove:r,onEnd:(a,o)=>{delete this.session,i&&Ce.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Ts(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Io(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Cs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(le.test(e))e=parseFloat(e);else return e;const s=Io(e,t.target.x),r=Io(e,t.target.y);return`${s}% ${r}%`}},Dp={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,i=_t.parse(e);if(i.length>5)return r;const a=_t.createTransformer(e),o=typeof i[0]!="number"?1:0,c=s.x.scale*t.x,h=s.y.scale*t.y;i[0+o]/=c,i[1+o]/=h;const l=Se(c,h,.5);return typeof i[2+o]=="number"&&(i[2+o]/=l),typeof i[3+o]=="number"&&(i[3+o]/=l),a(i)}};let Vo=!1;class Bp extends j.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;Qm(Tp),a&&(s.group&&s.group.add(a),r&&r.register&&i&&r.register(a),Vo&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),yr.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:i,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,Vo=!0,i||t.layoutDependency!==s||s===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||Ce.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),la.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function nd(e){const[t,s]=A0(),r=j.useContext(Oi);return n.jsx(Bp,{...e,layoutGroup:r,switchLayoutGroup:j.useContext(V0),isPresent:t,safeToRemove:s})}const Tp={borderRadius:{...Cs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cs,borderTopRightRadius:Cs,borderBottomLeftRadius:Cs,borderBottomRightRadius:Cs,boxShadow:Dp};function Pp(e,t,s){const r=ze(e)?e:hs(e);return r.start(ya("",r,t,s)),r.animation}const Fp=(e,t)=>e.depth-t.depth;class _p{constructor(){this.children=[],this.isDirty=!1}add(t){$i(this.children,t),this.isDirty=!0}remove(t){Ui(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Fp),this.isDirty=!1,this.children.forEach(t)}}function Rp(e,t){const s=Je.now(),r=({timestamp:i})=>{const a=i-s;a>=t&&(Ft(r),e(a-t))};return Ce.setup(r,!0),()=>Ft(r)}const id=["TopLeft","TopRight","BottomLeft","BottomRight"],Mp=id.length,Oo=e=>typeof e=="string"?parseFloat(e):e,qo=e=>typeof e=="number"||le.test(e);function Lp(e,t,s,r,i,a){i?(e.opacity=Se(0,s.opacity??1,Ip(r)),e.opacityExit=Se(t.opacity??1,0,Vp(r))):a&&(e.opacity=Se(t.opacity??1,s.opacity??1,r));for(let o=0;o<Mp;o++){const c=`border${id[o]}Radius`;let h=zo(t,c),l=zo(s,c);if(h===void 0&&l===void 0)continue;h||(h=0),l||(l=0),h===0||l===0||qo(h)===qo(l)?(e[c]=Math.max(Se(Oo(h),Oo(l),r),0),(wt.test(l)||wt.test(h))&&(e[c]+="%")):e[c]=l}(t.rotate||s.rotate)&&(e.rotate=Se(t.rotate||0,s.rotate||0,r))}function zo(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Ip=ad(0,.5,Kc),Vp=ad(.5,.95,lt);function ad(e,t,s){return r=>r<e?0:r>t?1:s(Os(e,t,r))}function $o(e,t){e.min=t.min,e.max=t.max}function rt(e,t){$o(e.x,t.x),$o(e.y,t.y)}function Uo(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Wo(e,t,s,r,i){return e-=t,e=Ar(e,1/s,r),i!==void 0&&(e=Ar(e,1/i,r)),e}function Op(e,t=0,s=1,r=.5,i,a=e,o=e){if(wt.test(t)&&(t=parseFloat(t),t=Se(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=Se(a.min,a.max,r);e===a&&(c-=t),e.min=Wo(e.min,t,s,c,i),e.max=Wo(e.max,t,s,c,i)}function Ho(e,t,[s,r,i],a,o){Op(e,t[s],t[r],t[i],t.scale,a,o)}const qp=["x","scaleX","originX"],zp=["y","scaleY","originY"];function Ko(e,t,s,r){Ho(e.x,t,qp,s?s.x:void 0,r?r.x:void 0),Ho(e.y,t,zp,s?s.y:void 0,r?r.y:void 0)}function Yo(e){return e.translate===0&&e.scale===1}function od(e){return Yo(e.x)&&Yo(e.y)}function Go(e,t){return e.min===t.min&&e.max===t.max}function $p(e,t){return Go(e.x,t.x)&&Go(e.y,t.y)}function Xo(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ld(e,t){return Xo(e.x,t.x)&&Xo(e.y,t.y)}function Qo(e){return Ke(e.x)/Ke(e.y)}function Zo(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Up{constructor(){this.members=[]}add(t){$i(this.members,t),t.scheduleRender()}remove(t){if(Ui(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(i=>t===i);if(s===0)return!1;let r;for(let i=s;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Wp(e,t,s){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((i||a||o)&&(r=`translate3d(${i}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:l,rotate:d,rotateX:u,rotateY:f,skewX:m,skewY:x}=s;l&&(r=`perspective(${l}px) ${r}`),d&&(r+=`rotate(${d}deg) `),u&&(r+=`rotateX(${u}deg) `),f&&(r+=`rotateY(${f}deg) `),m&&(r+=`skewX(${m}deg) `),x&&(r+=`skewY(${x}deg) `)}const c=e.x.scale*t.x,h=e.y.scale*t.y;return(c!==1||h!==1)&&(r+=`scale(${c}, ${h})`),r||"none"}const dn=["","X","Y","Z"],Hp=1e3;let Kp=0;function un(e,t,s,r){const{latestValues:i}=t;i[e]&&(s[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function cd(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=G0(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:i,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",Ce,!(i||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&cd(r)}function dd({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},c=t==null?void 0:t()){this.id=Kp++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Xp),this.nodes.forEach(eg),this.nodes.forEach(tg),this.nodes.forEach(Qp)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let h=0;h<this.path.length;h++)this.path[h].shouldResetTransform=!0;this.root===this&&(this.nodes=new _p)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ki),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const h=this.eventHandlers.get(o);h&&h.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=E0(o)&&!Im(o),this.instance=o;const{layoutId:c,layout:h,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(h||c)&&(this.isLayoutDirty=!0),e){let d,u=0;const f=()=>this.root.updateBlockedByResize=!1;Ce.read(()=>{u=window.innerWidth}),e(o,()=>{const m=window.innerWidth;m!==u&&(u=m,this.root.updateBlockedByResize=!0,d&&d(),d=Rp(f,250),yr.hasAnimatedSinceResize&&(yr.hasAnimatedSinceResize=!1,this.nodes.forEach(tl)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&l&&(c||h)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:u,hasRelativeLayoutChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||l.getDefaultTransition()||ag,{onLayoutAnimationStart:b,onLayoutAnimationComplete:p}=l.getProps(),g=!this.targetLayout||!ld(this.targetLayout,m),v=!u&&f;if(this.options.layoutRoot||this.resumeFrom||v||u&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const y={...aa(x,"layout"),onPlay:b,onComplete:p};(l.shouldReduceMotion||this.options.layoutRoot)&&(y.delay=0,y.type=!1),this.startAnimation(y),this.setAnimationOrigin(d,v)}else u||tl(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ft(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sg),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cd(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:c,layout:h}=this.options;if(c===void 0&&!h)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Jo);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(el);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Jp),this.nodes.forEach(Yp),this.nodes.forEach(Gp)):this.nodes.forEach(el),this.clearAllSnapshots();const c=Je.now();Oe.delta=Nt(0,1e3/60,c-Oe.timestamp),Oe.timestamp=c,Oe.isProcessing=!0,Jr.update.process(Oe),Jr.preRender.process(Oe),Jr.render.process(Oe),Oe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,la.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Zp),this.sharedNodes.forEach(rg)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ce.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ce.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ke(this.snapshot.measuredBox.x)&&!Ke(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let h=0;h<this.path.length;h++)this.path[h].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Te(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const h=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:h,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:h}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!od(this.projectionDelta),h=this.getTransformTemplate(),l=h?h(this.latestValues,""):void 0,d=l!==this.prevTransformTemplateValue;o&&this.instance&&(c||qt(this.latestValues)||d)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let h=this.removeElementScroll(c);return o&&(h=this.removeTransform(h)),og(h),{animationId:this.root.animationId,measuredBox:c,layoutBox:h,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:o}=this.options;if(!o)return Te();const c=o.measureViewportBox();if(!(((l=this.scroll)==null?void 0:l.wasRoot)||this.path.some(lg))){const{scroll:d}=this.root;d&&(os(c.x,d.offset.x),os(c.y,d.offset.y))}return c}removeElementScroll(o){var h;const c=Te();if(rt(c,o),(h=this.scroll)!=null&&h.wasRoot)return c;for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:u,options:f}=d;d!==this.root&&u&&f.layoutScroll&&(u.wasRoot&&rt(c,o),os(c.x,u.offset.x),os(c.y,u.offset.y))}return c}applyTransform(o,c=!1){const h=Te();rt(h,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];!c&&d.options.layoutScroll&&d.scroll&&d!==d.root&&ls(h,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),qt(d.latestValues)&&ls(h,d.latestValues)}return qt(this.latestValues)&&ls(h,this.latestValues),h}removeTransform(o){const c=Te();rt(c,o);for(let h=0;h<this.path.length;h++){const l=this.path[h];if(!l.instance||!qt(l.latestValues))continue;yi(l.latestValues)&&l.updateSnapshot();const d=Te(),u=l.measurePageBox();rt(d,u),Ko(c,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,d)}return qt(this.latestValues)&&Ko(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Oe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const h=!!this.resumingFrom||this!==c;if(!(o||h&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:u}=this.options;if(!(!this.layout||!(d||u))){if(this.resolvedRelativeTargetAt=Oe.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),Fs(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Te(),this.targetWithTransforms=Te()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mp(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rt(this.target,this.layout.layoutBox),$0(this.target,this.targetDelta)):rt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Te(),this.relativeTargetOrigin=Te(),Fs(this.relativeTargetOrigin,this.target,m.target),rt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||yi(this.parent.latestValues)||z0(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var x;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let h=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(h=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(h=!1),this.resolvedRelativeTargetAt===Oe.timestamp&&(h=!1),h)return;const{layout:l,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||d))return;rt(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,f=this.treeScale.y;Sx(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Te());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Uo(this.prevProjectionDelta.x,this.projectionDelta.x),Uo(this.prevProjectionDelta.y,this.projectionDelta.y)),Ps(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==u||this.treeScale.y!==f||!Zo(this.projectionDelta.x,this.prevProjectionDelta.x)||!Zo(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=cs(),this.projectionDelta=cs(),this.projectionDeltaWithTransform=cs()}setAnimationOrigin(o,c=!1){const h=this.snapshot,l=h?h.latestValues:{},d={...this.latestValues},u=cs();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const f=Te(),m=h?h.source:void 0,x=this.layout?this.layout.source:void 0,b=m!==x,p=this.getStack(),g=!p||p.members.length<=1,v=!!(b&&!g&&this.options.crossfade===!0&&!this.path.some(ig));this.animationProgress=0;let y;this.mixTargetDelta=w=>{const C=w/1e3;sl(u.x,o.x,C),sl(u.y,o.y,C),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fs(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ng(this.relativeTarget,this.relativeTargetOrigin,f,C),y&&$p(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Te()),rt(y,this.relativeTarget)),b&&(this.animationValues=d,Lp(d,l,this.latestValues,C,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,h,l;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(l=(h=this.resumingFrom)==null?void 0:h.currentAnimation)==null||l.stop(),this.pendingAnimation&&(Ft(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ce.update(()=>{yr.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=hs(0)),this.currentAnimation=Pp(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:h,layout:l,latestValues:d}=o;if(!(!c||!h||!l)){if(this!==o&&this.layout&&l&&ud(this.options.animationType,this.layout.layoutBox,l.layoutBox)){h=this.target||Te();const u=Ke(this.layout.layoutBox.x);h.x.min=o.target.x.min,h.x.max=h.x.min+u;const f=Ke(this.layout.layoutBox.y);h.y.min=o.target.y.min,h.y.max=h.y.min+f}rt(c,h),ls(c,d),Ps(this.projectionDeltaWithTransform,this.layoutCorrected,c,d)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Up),this.sharedNodes.get(o).add(c);const l=c.options.initialPromotionConfig;c.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:h}={}){const l=this.getStack();l&&l.promote(this,h),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:h}=o;if((h.z||h.rotate||h.rotateX||h.rotateY||h.rotateZ||h.skewX||h.skewY)&&(c=!0),!c)return;const l={};h.z&&un("z",o,l,this.animationValues);for(let d=0;d<dn.length;d++)un(`rotate${dn[d]}`,o,l,this.animationValues),un(`skew${dn[d]}`,o,l,this.animationValues);o.render();for(const d in l)o.setStaticValue(d,l[d]),this.animationValues&&(this.animationValues[d]=l[d]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const h=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=vr(c==null?void 0:c.pointerEvents)||"",o.transform=h?h(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=vr(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!qt(this.latestValues)&&(o.transform=h?h({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=l.animationValues||l.latestValues;this.applyTransformsToTarget();let u=Wp(this.projectionDeltaWithTransform,this.treeScale,d);h&&(u=h(d,u)),o.transform=u;const{x:f,y:m}=this.projectionDelta;o.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,l.animationValues?o.opacity=l===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=l===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in Ws){if(d[x]===void 0)continue;const{correct:b,applyTo:p,isCSSVariable:g}=Ws[x],v=u==="none"?d[x]:b(d[x],l);if(p){const y=p.length;for(let w=0;w<y;w++)o[p[w]]=v}else g?this.options.visualElement.renderState.vars[x]=v:o[x]=v}this.options.layoutId&&(o.pointerEvents=l===this?vr(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Jo),this.root.sharedNodes.clear()}}}function Yp(e){e.updateLayout()}function Gp(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?nt(u=>{const f=o?t.measuredBox[u]:t.layoutBox[u],m=Ke(f);f.min=r[u].min,f.max=f.min+m}):ud(a,t.layoutBox,r)&&nt(u=>{const f=o?t.measuredBox[u]:t.layoutBox[u],m=Ke(r[u]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+m)});const c=cs();Ps(c,r,t.layoutBox);const h=cs();o?Ps(h,e.applyTransform(i,!0),t.measuredBox):Ps(h,r,t.layoutBox);const l=!od(c);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:f,layout:m}=u;if(f&&m){const x=Te();Fs(x,t.layoutBox,f.layoutBox);const b=Te();Fs(b,r,m.layoutBox),ld(x,b)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=b,e.relativeTargetOrigin=x,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:h,layoutDelta:c,hasLayoutChanged:l,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Xp(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Qp(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Zp(e){e.clearSnapshot()}function Jo(e){e.clearMeasurements()}function el(e){e.isLayoutDirty=!1}function Jp(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function tl(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function eg(e){e.resolveTargetDelta()}function tg(e){e.calcProjection()}function sg(e){e.resetSkewAndRotation()}function rg(e){e.removeLeadSnapshot()}function sl(e,t,s){e.translate=Se(t.translate,0,s),e.scale=Se(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function rl(e,t,s,r){e.min=Se(t.min,s.min,r),e.max=Se(t.max,s.max,r)}function ng(e,t,s,r){rl(e.x,t.x,s.x,r),rl(e.y,t.y,s.y,r)}function ig(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ag={duration:.45,ease:[.4,0,.1,1]},nl=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),il=nl("applewebkit/")&&!nl("chrome/")?Math.round:lt;function al(e){e.min=il(e.min),e.max=il(e.max)}function og(e){al(e.x),al(e.y)}function ud(e,t,s){return e==="position"||e==="preserve-aspect"&&!fp(Qo(t),Qo(s),.2)}function lg(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const cg=dd({attachResizeListener:(e,t)=>Ks(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hn={current:void 0},hd=dd({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!hn.current){const e=new cg({});e.mount(window),e.setOptions({layoutScroll:!0}),hn.current=e}return hn.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dg={pan:{Feature:kp},drag:{Feature:Ap,ProjectionNode:hd,MeasureLayout:nd}};function ol(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const i="onHover"+s,a=r[i];a&&Ce.postRender(()=>a(t,ir(t)))}class ug extends Rt{mount(){const{current:t}=this.node;t&&(this.unmount=Fm(t,(s,r)=>(ol(this.node,r,"Start"),i=>ol(this.node,i,"End"))))}unmount(){}}class hg extends Rt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=sr(Ks(this.node.current,"focus",()=>this.onFocus()),Ks(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function ll(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const i="onTap"+(s==="End"?"":s),a=r[i];a&&Ce.postRender(()=>a(t,ir(t)))}class fg extends Rt{mount(){const{current:t}=this.node;t&&(this.unmount=Lm(t,(s,r)=>(ll(this.node,r,"Start"),(i,{success:a})=>ll(this.node,i,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ei=new WeakMap,fn=new WeakMap,mg=e=>{const t=Ei.get(e.target);t&&t(e)},xg=e=>{e.forEach(mg)};function pg({root:e,...t}){const s=e||document;fn.has(s)||fn.set(s,{});const r=fn.get(s),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(xg,{root:e,...t})),r[i]}function gg(e,t,s){const r=pg(t);return Ei.set(e,s),r.observe(e),()=>{Ei.delete(e),r.unobserve(e)}}const vg={some:0,all:1};class yg extends Rt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:i="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:vg[i]},c=h=>{const{isIntersecting:l}=h;if(this.isInView===l||(this.isInView=l,a&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),f=l?d:u;f&&f(h)};return gg(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(bg(t,s))&&this.startObserver()}unmount(){}}function bg({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const wg={inView:{Feature:yg},tap:{Feature:fg},focus:{Feature:hg},hover:{Feature:ug}},jg={layout:{ProjectionNode:hd,MeasureLayout:nd}},Cg={...op,...wg,...dg,...jg},we=jx(Cg,Rx),Ng=({profileId:e,isVisible:t,onClose:s})=>{const[r,i]=j.useState([]),[a,o]=j.useState(!1),[c,h]=j.useState(null),[l,d]=j.useState(new Date),u=j.useRef(null);j.useEffect(()=>{if(t)return f(),u.current=setInterval(()=>{f(),d(new Date)},3e4),()=>{u.current&&clearInterval(u.current)}},[t,e]),j.useEffect(()=>{if(t)return document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}},[t]);const f=async()=>{if(e){o(!0);try{const g=await fetch(`${qe}/api/SongCatalog/monitor/${e}`);if(g.ok){const v=await g.json();i(v.songRequests||[])}}catch(g){console.error("Error loading song requests:",g)}finally{o(!1)}}},m=async(g,v)=>{const y=g.requestIds.join("-");h(y);try{console.log("Updating song status:",{songId:g.songId,status:v,requestIds:g.requestIds,profileId:e});const w=await fetch(`${qe}/api/SongCatalog/monitor/update-status`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({profileId:e,songId:g.songId,requestIds:g.requestIds,status:v})});if(console.log("Response status:",w.status,w.statusText),w.ok){const C=await w.json();console.log("Update successful:",C),i(S=>S.map(E=>E.requestIds.join("-")===g.requestIds.join("-")?{...E,status:v}:E)),setTimeout(()=>{f()},1e3)}else{const C=await w.text();console.error("Failed to update status:",w.status,C)}}catch(w){console.error("Error updating song status:",w)}finally{h(null)}},x=[...r].sort((g,v)=>{const y={performing:0,pending:1,completed:2,cancelled:3,skipped:4};return y[g.status]!==y[v.status]?y[g.status]-y[v.status]:g.totalTipAmount!==v.totalTipAmount?v.totalTipAmount-g.totalTipAmount:new Date(g.firstRequestTime).getTime()-new Date(v.firstRequestTime).getTime()}),b=g=>{switch(g){case"completed":return"bg-green-50 border-green-200 text-green-800";case"performing":return"bg-blue-50 border-blue-200 text-blue-800";case"cancelled":return"bg-gray-50 border-gray-200 text-gray-800";case"skipped":return"bg-red-50 border-red-200 text-red-800";default:return"bg-yellow-50 border-yellow-200 text-yellow-800"}},p=g=>{switch(g){case"completed":return"bg-green-100 text-green-800";case"performing":return"bg-blue-100 text-blue-800";case"cancelled":return"bg-gray-100 text-gray-800";case"skipped":return"bg-red-100 text-red-800";default:return"bg-yellow-100 text-yellow-800"}};return n.jsx($s,{children:t&&n.jsxs(we.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{type:"spring",damping:25,stiffness:300},className:"fixed inset-0 bg-gradient-to-br from-gray-50 to-blue-50 z-50 flex flex-col",children:[n.jsx("div",{className:"bg-white/90 backdrop-blur-sm shadow-sm border-b border-gray-200",children:n.jsxs("div",{className:"px-6 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs(we.button,{whileTap:{scale:.95},onClick:s,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),n.jsx("span",{className:"font-medium",children:"Return to Dashboard"})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Auto-refresh"}),n.jsx("div",{className:"font-semibold text-blue-600 text-xs",children:l.toLocaleTimeString()})]})]}),n.jsxs("div",{className:"text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Song Request Monitor"}),n.jsxs("div",{className:"flex items-center justify-center space-x-6 text-sm",children:[n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-yellow-400 rounded-full"}),n.jsxs("span",{className:"text-gray-600",children:["Pending (",x.filter(g=>g.status==="pending").length,")"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full"}),n.jsxs("span",{className:"text-gray-600",children:["Performing (",x.filter(g=>g.status==="performing").length,")"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-green-400 rounded-full"}),n.jsxs("span",{className:"text-gray-600",children:["Completed (",x.filter(g=>g.status==="completed").length,")"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-gray-400 rounded-full"}),n.jsxs("span",{className:"text-gray-600",children:["Cancelled (",x.filter(g=>g.status==="cancelled").length,")"]})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-3 h-3 bg-red-400 rounded-full"}),n.jsxs("span",{className:"text-gray-600",children:["Skipped (",x.filter(g=>g.status==="skipped").length,")"]})]})]})]})]})}),n.jsx("div",{className:"flex-1 overflow-auto",children:n.jsx("div",{className:"p-6",children:a&&x.length===0?n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading song requests..."})]}):x.length===0?n.jsxs("div",{className:"text-center py-16",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx("svg",{className:"w-10 h-10 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"No song requests today"}),n.jsx("p",{className:"text-gray-600 max-w-sm mx-auto",children:"Song requests will appear here when participants make them through the tip interface"})]}):n.jsx("div",{className:"space-y-4",children:n.jsx($s,{children:x.map((g,v)=>{const y=g.requestIds.join("-");return n.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.05},className:`border rounded-xl shadow-sm overflow-hidden ${b(g.status)}`,children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:g.songTitle}),n.jsxs("p",{className:"text-gray-700 mb-3",children:["by ",g.artist]}),n.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})}),n.jsxs("span",{className:"font-semibold text-green-700",children:["$",g.totalTipAmount.toFixed(2)]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),n.jsxs("span",{children:[g.requestCount," request",g.requestCount>1?"s":""]})]}),n.jsxs("div",{className:"flex items-center space-x-1",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),n.jsx("span",{children:new Date(g.firstRequestTime).toLocaleTimeString()})]})]})]}),n.jsx("div",{className:"flex flex-col items-end space-y-2",children:n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p(g.status)}`,children:g.status==="completed"?"Completed":g.status==="performing"?"Performing":g.status==="cancelled"?"Cancelled":g.status==="skipped"?"Skipped":"Pending"})})]}),(g.requestorName||g.note)&&n.jsxs("div",{className:"mt-4 p-3 bg-gray-50 rounded-lg border border-gray-100",children:[g.requestorName&&n.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[n.jsx("svg",{className:"w-4 h-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),n.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["From: ",g.requestorName]})]}),g.note&&n.jsxs("div",{className:"flex items-start space-x-2",children:[n.jsx("svg",{className:"w-4 h-4 text-gray-500 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 8h10M7 12h4m1 8l-4-4H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-3l-4 4z"})}),n.jsx("span",{className:"text-sm text-gray-600 leading-relaxed",children:g.note})]})]}),n.jsxs("div",{className:"mt-4 flex justify-center",children:[g.status==="pending"&&n.jsx(we.button,{onClick:()=>m(g,"performing"),disabled:c===y,className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50",whileHover:{scale:1.05},whileTap:{scale:.95},children:c===y?"Updating...":"Start Performing"}),g.status==="performing"&&n.jsx(we.button,{onClick:()=>m(g,"completed"),disabled:c===y,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-2 rounded-lg font-medium transition-colors disabled:opacity-50",whileHover:{scale:1.05},whileTap:{scale:.95},children:c===y?"Updating...":"Mark Completed"})]})]})},y)})})})})})]})})},Sg=()=>{const[e,t]=j.useState(null),[s,r]=j.useState(null),[i,a]=j.useState([]),[o,c]=j.useState(!0),[h,l]=j.useState("overview"),[d,u]=j.useState(!1),[f,m]=j.useState([]),[x,b]=j.useState({}),[p,g]=j.useState("unknown"),[v,y]=j.useState(null),[w,C]=j.useState(!1),[S,E]=j.useState({serialNumber:"",nickname:"",isAllowSongRequest:null}),[k,B]=j.useState({}),[N,A]=j.useState(!1),[F,P]=j.useState(!1),[U,O]=j.useState(!1),[q,G]=j.useState(!1),[Q,L]=j.useState([]),[X,T]=j.useState(!1),[M,_]=j.useState(null),[R,ae]=j.useState(null),[H,xe]=j.useState(!1),[ee,Ae]=j.useState(null),[I,K]=j.useState(null),[te,oe]=j.useState(!1),[Z,je]=j.useState([]),[V,se]=j.useState(!1),[de,me]=j.useState(0),[be,Y]=j.useState(!1),W=ct();j.useEffect(()=>{if(!localStorage.getItem("token")){console.log("No authentication token found, redirecting to login"),W("/login");return}Ne(),Pe(),re(),He(),_e()},[W]),j.useEffect(()=>{h==="monitor"&&(v!=null&&v.id)&&Be()},[h,v==null?void 0:v.id]);const re=async()=>{try{const D=await pe.getProfile();D.data&&y(D.data)}catch(D){console.error("Error fetching user profile:",D)}},_e=async()=>{try{console.log(" [DEBUG] Starting song catalog alert check...");const D=await pe.getDashboardStats();if(console.log(" [DEBUG] Dashboard stats response:",D),console.log(" [DEBUG] Response data:",D.data),console.log(" [DEBUG] Response error:",D.error),D.data&&D.data.devices){const ie=D.data.devices.filter(he=>he.isAllowSongRequest);if(console.log(" [DEBUG] All devices:",D.data.devices),console.log(" [DEBUG] Devices with song requests enabled:",ie),Y(ie.length>0),ie.length>0){const he=await pe.getProfile();if(he.data){const ne=he.data.id;console.log(" [DEBUG] Profile ID:",ne);const J=await fetch(`${qe}/api/songcatalog/my-songs/${ne}`);if(console.log(" [DEBUG] Catalog response status:",J.status),J.ok){const Me=(await J.json()).length||0;if(console.log(" [DEBUG] Song catalog count:",Me),me(Me),Me>0)console.log(" [DEBUG] Catalog has songs, hiding alert"),localStorage.removeItem(`songCatalogAlertDismissed_${ne}`),se(!1);else{const pt=localStorage.getItem(`songCatalogAlertDismissed_${ne}`);console.log(" [DEBUG] Alert dismissed flag:",pt),pt?console.log(" [DEBUG] Alert was previously dismissed"):(console.log(" [DEBUG] Showing song catalog alert!"),se(!0))}}else console.log(" [DEBUG] Failed to fetch catalog:",J.status)}}else console.log(" [DEBUG] No devices with song requests enabled")}else console.log(" [DEBUG] No response data or devices found")}catch(D){console.error(" [ERROR] Error checking song catalog alert:",D),console.error(" [ERROR] Error stack:",D==null?void 0:D.stack)}},et=()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),W("/login")},Ne=async()=>{try{const D=await pe.getProfile();if(D.error&&D.error.includes("401")){console.log("Authentication failed, redirecting to login"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),W("/login");return}if(D.data){const he=await pe.getDashboardMetrics(D.data.id);he.data&&r(he.data);const ne=await pe.getRecentTips(D.data.id);ne.data&&a(ne.data.map(J=>({id:J.id,amount:J.amount,deviceNickname:"Device",createdAt:J.createdAt,status:J.status})))}const ie=await pe.getDashboardStats();if(ie.error&&ie.error.includes("401")){console.log("Authentication failed, redirecting to login"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),W("/login");return}t(ie.data)}catch(D){if(console.error("Error fetching dashboard stats:",D),D instanceof Error&&D.message.includes("401")){localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),W("/login");return}}finally{c(!1)}},Pe=async()=>{try{const D=await pe.getDevices();if(D.error||!D.data){console.log("No devices found or error getting devices");return}const ie=D.data,he=[],ne={};for(const J of ie)if(J.stripeAccountId)try{const Ve=await pe.getConnectAccountStatus(J.uuid);if(Ve.data){const Me=Ve.data;ne[J.uuid]=Me.VerificationStatus||Me.verificationStatus||"Unknown";const pt=Me.VerificationStatus||Me.verificationStatus||"unknown";console.log(" [DEBUG] KYC Status for device",J.uuid,":",pt),pt.toLowerCase()==="verified"?(he.push(J.uuid),console.log(" [DEBUG] Setting KYC status to verified"),p!=="verified"&&g("verified")):pt.toLowerCase()==="pending"||pt.toLowerCase()==="pending_verification"||pt.toLowerCase()==="incomplete"||pt.toLowerCase()==="requires_verification"?(console.log(" [DEBUG] Setting KYC status to pending"),p!=="verified"&&g("pending")):(console.log(" [DEBUG] Setting KYC status to not_verified"),p!=="verified"&&p!=="pending"&&g("not_verified"))}}catch(Ve){console.error(`Error checking status for device ${J.uuid}:`,Ve),ne[J.uuid]="Error"}else ne[J.uuid]="Not Setup";console.log(" [DEBUG] Final KYC status:",p),console.log(" [DEBUG] Stripe enabled devices:",he),console.log(" [DEBUG] Device status map:",ne),m(he),b(ne)}catch(D){console.error("Error checking Stripe Connect status:",D)}},Ue=()=>{u(!1)},dt=async()=>{try{const D=await pe.getProfile();if(D.data){const ie=D.data.id;localStorage.setItem(`songCatalogAlertDismissed_${ie}`,"true"),se(!1)}}catch(D){console.error("Error dismissing song catalog alert:",D),se(!1)}},Ie=()=>{C(!0),l("addDevice")},tt=()=>{C(!1),G(!1),l("overview"),E({serialNumber:"",nickname:"",isAllowSongRequest:null}),B({}),O(!1),P(!1)},We=(D,ie)=>{E(he=>({...he,[D]:ie})),k[D]&&B(he=>({...he,[D]:""})),D==="serialNumber"&&(O(!1),P(!1))},bs=()=>{const D={};return S.serialNumber.trim()||(D.serialNumber="Serial Number is required"),S.nickname.trim()||(D.nickname="Device nickname is required"),S.isAllowSongRequest===null&&(D.isAllowSongRequest="Please select whether to enable song requests"),B(D),Object.keys(D).length===0},Lt=async()=>{var ie,he;const D=S.serialNumber.trim();if(!D)return{isValid:!1,error:"Serial Number is required"};P(!0),O(!1);try{const ne=await pe.checkDetectedDeviceBySerialNumber(D);if(ne.error){const J=ne.error||"Failed to validate serial number";return B(Ve=>({...Ve,serialNumber:J})),O(!0),P(!1),{isValid:!1,error:J}}if(!((ie=ne.data)!=null&&ie.exists)){const J=((he=ne.data)==null?void 0:he.message)||"Serial Number not found or device is not available for registration";return B(Ve=>({...Ve,serialNumber:J})),O(!0),P(!1),{isValid:!1,error:J}}return B(J=>({...J,serialNumber:""})),O(!0),P(!1),{isValid:!0,error:null}}catch{const J="Failed to validate serial number";return B(Ve=>({...Ve,serialNumber:J})),O(!0),P(!1),{isValid:!1,error:J}}},It=async()=>{try{return{hasStripeAccount:!!((e==null?void 0:e.devices.some(he=>x[he.uuid]==="Enabled"))||f.length>0),isKycVerified:p==="verified"}}catch(D){return console.error("Error checking Stripe status:",D),{hasStripeAccount:!1,isKycVerified:!1}}},Jt=async()=>{if(bs()){if(!U||k.serialNumber)if(S.serialNumber.trim()){if(!(await Lt()).isValid)return}else{B(D=>({...D,serialNumber:"Serial Number is required"}));return}A(!0);try{await Pe(),await new Promise(he=>setTimeout(he,500));const{hasStripeAccount:D,isKycVerified:ie}=await It();if(!D||!ie){G(!0);return}await ws()}catch(D){console.error("Error adding device:",D),B({submit:"Failed to add device. Please try again."})}finally{A(!1)}}},ws=async()=>{try{const D=await pe.addDevice({serialNumber:S.serialNumber,nickname:S.nickname,isAllowSongRequest:S.isAllowSongRequest||!1});if(D.error)throw new Error(D.error);await Ne(),await Pe(),C(!1),l("devices"),E({serialNumber:"",nickname:"",isAllowSongRequest:null}),B({}),O(!1),P(!1)}catch(D){console.error("Error adding device:",D),B({submit:"Failed to add device. Please try again."})}},Et=async(D,ie)=>{try{const he=await pe.downloadQRCode(D);if(he){const ne=window.URL.createObjectURL(he),J=document.createElement("a");J.href=ne,J.download=`qr-code-${ie||D}.png`,document.body.appendChild(J),J.click(),window.URL.revokeObjectURL(ne),document.body.removeChild(J)}}catch(he){console.error("Error downloading QR code:",he)}},He=async()=>{try{const D=await pe.getDeletedDevices();D.data&&L(D.data)}catch(D){console.error("Error fetching deleted devices:",D)}},es=async D=>{Ae(D),xe(!0)},js=async()=>{if(ee){_(ee.id);try{const D=await pe.softDeleteDevice(ee.id);D.data?(Ne(),He(),xe(!1),Ae(null)):alert("Failed to delete device: "+(D.error||"Unknown error"))}catch(D){console.error("Error deleting device:",D),alert("Error deleting device")}finally{_(null)}}},Vt=()=>{xe(!1),Ae(null)},ts=async D=>{ae(D);try{const ie=await pe.restoreDevice(D);ie.data?(Ne(),He()):alert("Failed to restore device: "+(ie.error||"Unknown error"))}catch(ie){console.error("Error restoring device:",ie),alert("Error restoring device")}finally{ae(null)}},ce=()=>{T(!X),X||He()},ke=async D=>{K(D.id);try{const ie=!D.isAllowSongRequest,he=await pe.updateSongRequestSetting(D.id,ie);he.data?t(ne=>ne&&{...ne,devices:ne.devices.map(J=>J.id===D.id?{...J,isAllowSongRequest:ie}:J)}):alert("Failed to update song request setting: "+(he.error||"Unknown error"))}catch(ie){console.error("Error updating song request setting:",ie),alert("Error updating song request setting")}finally{K(null)}},Be=async()=>{if(v!=null&&v.id)try{const D=await fetch(`${qe}/api/SongCatalog/monitor/${v.id}`);if(D.ok){const ie=await D.json();je(ie.songRequests||[])}}catch(D){console.error("Error loading song requests:",D)}},ye=D=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(D),xt=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):e?n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d&&n.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md",style:{top:"16px"},children:n.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 shadow-lg",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3 flex-1",children:[n.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Stripe Account Verified! "}),n.jsx("div",{className:"mt-2 text-sm text-green-700",children:n.jsxs("p",{children:["Your Stripe Connect account is now enabled and ready to receive payments!",f.length>0&&n.jsxs("span",{className:"block mt-1",children:["Verified devices: ",f.join(", ")]})]})})]}),n.jsx("div",{className:"ml-auto pl-3",children:n.jsx("button",{onClick:Ue,className:"inline-flex text-green-400 hover:text-green-600 focus:outline-none focus:text-green-600",children:n.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})})}),n.jsx("div",{className:"bg-white shadow-sm border-b",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center py-1",children:[n.jsx("div",{className:"flex items-center",children:n.jsx("div",{className:"relative w-24 h-24 overflow-visible rounded-lg",children:n.jsx("img",{src:"/images/tipply_logo.png",alt:"Tipply Logo",className:"w-full h-full object-contain",style:{transform:"scale(1.2)",objectPosition:"center"}})})}),n.jsxs("div",{className:"flex items-center space-x-4",children:[p==="verified"&&n.jsxs("div",{className:"flex items-center space-x-2 bg-green-50 border border-green-200 rounded-lg px-3 py-2",children:[n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-sm font-medium text-green-800",children:"KYC Verified"})]}),p==="pending"&&n.jsxs("div",{className:"flex items-center space-x-2 bg-yellow-50 border border-yellow-200 rounded-lg px-3 py-2",children:[n.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"KYC Pending"})]}),f.length>0&&n.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 border border-blue-200 rounded-lg px-3 py-2",children:[n.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),n.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Stripe Verified"})]}),n.jsx("button",{onClick:()=>W("/profile"),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",title:"Profile",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),n.jsx("button",{onClick:et,className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",title:"Logout",children:n.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[n.jsxs("div",{className:"mb-8",children:[n.jsxs("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",(v==null?void 0:v.firstName)||(v==null?void 0:v.stageName)||"Performer","! "]}),n.jsx("p",{className:"text-gray-600",children:"Here's how you're connecting with your audience and building meaningful social connections today."})]}),V&&be&&de===0&&n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 shadow-sm",children:n.jsxs("div",{className:"flex items-start",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"h-5 w-5 text-blue-400",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),n.jsxs("div",{className:"ml-3 flex-1",children:[n.jsx("h3",{className:"text-sm font-medium text-blue-800",children:"Add Songs to Your Catalog "}),n.jsxs("div",{className:"mt-2 text-sm text-blue-700",children:[n.jsx("p",{children:"You've enabled song requests for your devices! Get started by adding songs to your catalog so your audience can request their favorites when they tip."}),n.jsx("button",{onClick:()=>{l("songs"),window.scrollTo({top:0,behavior:"smooth"})},className:"mt-2 text-blue-800 hover:text-blue-900 font-medium underline",children:"Add songs now "})]})]}),n.jsx("div",{className:"ml-auto pl-3",children:n.jsx("button",{onClick:dt,className:"inline-flex text-blue-400 hover:text-blue-600 focus:outline-none focus:text-blue-600",children:n.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-8",children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 border border-blue-200 rounded-xl shadow-sm p-4 transform hover:scale-105 transition-all duration-200",children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"flex-shrink-0 mb-3",children:n.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-blue-700 mb-1",children:"Pending Balance"}),n.jsx("p",{className:"text-lg font-bold text-blue-900 mb-1",children:s?ye(s.pendingPayouts):"$0.00"}),n.jsx("p",{className:"text-xs text-blue-600",children:"Awaiting payout"})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"flex-shrink-0 mb-3",children:n.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Pending Tips"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 mb-1",children:s?ye(s.pendingTips):"$0.00"}),n.jsx("p",{className:"text-xs text-gray-500",children:"Awaiting processing"})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"flex-shrink-0 mb-3",children:n.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Total Earnings"}),n.jsx("p",{className:"text-lg font-bold text-gray-900",children:ye(s?s.totalEarnings:e.totalTipsReceived)})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"flex-shrink-0 mb-3",children:n.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Today's Tips"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 mb-1",children:ye(s?s.todaysTips:e.todayTipsReceived)}),n.jsx("p",{className:"text-xs text-gray-500",children:s?`${Math.round(s.todaysTips)} tips`:`${e.todayTipsCount} tips`})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"flex-shrink-0 mb-3",children:n.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs font-medium text-gray-600 mb-1",children:"Active Devices"}),n.jsx("p",{className:"text-lg font-bold text-gray-900 mb-1",children:e.activeDevices}),n.jsxs("p",{className:"text-xs text-gray-500",children:["of ",e.totalDevices," total"]})]})]})}),n.jsx("div",{className:"bg-white rounded-xl shadow-sm p-4",children:n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"flex-shrink-0 mb-3",children:n.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-1",children:[n.jsx("p",{className:"text-xs font-medium text-gray-600",children:"This Month"}),s&&s.trendPercentage>0&&n.jsxs("div",{className:`flex items-center space-x-1 ${s.trendDirection==="up"?"text-green-600":"text-red-600"}`,children:[s.trendDirection==="up"?n.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}):n.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),n.jsxs("span",{className:"text-xs font-medium",children:[s.trendPercentage.toFixed(1),"%"]})]})]}),n.jsx("p",{className:"text-lg font-bold text-gray-900 mb-1",children:ye(s?s.thisMonthTips:e.thisMonthTipsReceived)}),n.jsx("p",{className:"text-xs text-gray-500",children:s?`${Math.round(s.thisMonthTips)} tips`:`${e.thisMonthTipsCount} tips`})]})]})})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm mb-8",children:[n.jsx("div",{className:"border-b border-gray-200",children:n.jsx("nav",{className:"flex space-x-8 px-6",children:w?n.jsxs("div",{className:"flex items-center justify-between w-full",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:tt,className:"flex items-center space-x-2 text-gray-500 hover:text-gray-700 transition-colors",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),n.jsx("span",{children:"Back to Dashboard"})]})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add New Device"})]}):n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>l("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="overview"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),n.jsx("button",{onClick:()=>l("devices"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="devices"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Devices"}),n.jsx("button",{onClick:()=>l("tips"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="tips"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Recent Tips"}),n.jsx("button",{onClick:()=>l("songs"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="songs"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Song Requests"}),n.jsx("button",{onClick:()=>l("monitor"),className:`py-4 px-1 border-b-2 font-medium text-sm ${h==="monitor"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Monitor Song Requests"})]})})}),n.jsxs("div",{className:"p-6",children:[h==="overview"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Weekly Performance"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"This Week"}),n.jsx("span",{className:"font-semibold",children:ye(s?s.thisWeekTips||0:e.thisWeekTipsReceived)})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Tips Count"}),n.jsx("span",{className:"font-semibold",children:s?s.thisWeekTipsCount||0:e.thisWeekTipsCount})]}),n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("span",{className:"text-gray-600",children:"Average per Tip"}),n.jsx("span",{className:"font-semibold",children:s&&s.thisWeekTipsCount&&s.thisWeekTipsCount>0?ye(s.thisWeekTips/s.thisWeekTipsCount):e.thisWeekTipsCount>0?ye(e.thisWeekTipsReceived/e.thisWeekTipsCount):"$0.00"})]})]})]}),n.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{onClick:Ie,className:"w-full text-left p-3 bg-white rounded-lg border border-green-200 hover:border-green-300 transition-colors",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Add New Device"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Register another Tipply device"})]})]})}),n.jsx("button",{onClick:()=>l("devices"),className:"w-full text-left p-3 bg-white rounded-lg border border-green-200 hover:border-green-300 transition-colors",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-gray-900",children:"Download QR Codes"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Get QR codes for your devices"})]})]})})]})]})]})}),h==="devices"&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Devices"}),n.jsxs("div",{className:"flex space-x-3",children:[n.jsxs("button",{onClick:Pe,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n.jsx("span",{children:"Refresh Status"})]}),n.jsx("button",{onClick:Ie,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Add Device"})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.devices.map(D=>{const ie=x[D.uuid]||"Unknown",he=ie==="Enabled",ne=ie==="Pending"||ie==="Incomplete",J=ie==="Not Setup"||ie==="Unknown";return n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:D.nickname||"Unnamed Device"}),he&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Verified"]}),ne&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Pending"]}),J&&n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Setup Required"]})]}),n.jsx("p",{className:"text-sm text-gray-500",children:D.uuid})]}),n.jsx("div",{className:`w-3 h-3 rounded-full ${D.isOnline?"bg-green-500":"bg-gray-400"}`})]}),n.jsxs("div",{className:"space-y-3 mb-4",children:[n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Total Tips"}),n.jsx("span",{className:"font-medium",children:D.totalTipsCount})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Total Earned"}),n.jsx("span",{className:"font-medium",children:ye(D.totalTipsReceived)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Last Tip"}),n.jsx("span",{className:"font-medium",children:xt(D.lastTipReceived)})]}),n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-600",children:"Device Status"}),n.jsx("span",{className:`font-medium ${D.isOnline?"text-green-600":"text-gray-600"}`,children:D.isOnline?"Online":"Offline"})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>Et(D.id,D.nickname),className:"flex-1 px-3 py-2 bg-primary-600 text-white text-sm rounded-lg hover:bg-primary-700 transition-colors",children:"Download QR"}),n.jsx("button",{onClick:()=>window.open(D.qrCodeUrl,"_blank"),className:"px-3 py-2 bg-gray-200 text-gray-700 text-sm rounded-lg hover:bg-gray-300 transition-colors",children:"View"}),n.jsx("button",{onClick:()=>es(D),disabled:M===D.id,className:"px-3 py-2 bg-red-100 text-red-700 text-sm rounded-lg hover:bg-red-200 transition-colors disabled:opacity-50",children:M===D.id?"Deleting...":"Delete"})]}),n.jsx("button",{onClick:()=>ke(D),disabled:I===D.id,className:`w-full px-3 py-2 text-sm rounded-lg transition-colors disabled:opacity-50 ${D.isAllowSongRequest?"bg-orange-100 text-orange-700 hover:bg-orange-200":"bg-blue-100 text-blue-700 hover:bg-blue-200"}`,children:I===D.id?"Updating...":D.isAllowSongRequest?"Disable Song Request":"Enable Song Request"})]})]},D.id)})}),n.jsxs("div",{className:"mt-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Deleted Devices"}),n.jsxs("button",{onClick:ce,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),n.jsxs("span",{children:[X?"Hide":"Show"," Deleted Devices"]})]})]}),X&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Q.length===0?n.jsx("div",{className:"col-span-full text-center py-8",children:n.jsx("p",{className:"text-gray-500",children:"No deleted devices found."})}):Q.map(D=>n.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 opacity-75",children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:D.nickname||"Unnamed Device"}),n.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[n.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:n.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Deleted"]})]}),n.jsx("p",{className:"text-sm text-gray-500",children:D.uuid}),D.deletedAt&&n.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Deleted on ",xt(D.deletedAt)]})]})}),n.jsx("div",{className:"flex space-x-2",children:n.jsx("button",{onClick:()=>ts(D.id),disabled:R===D.id,className:"flex-1 px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:R===D.id?"Restoring...":"Restore"})})]},D.id))})]}),e.devices.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No devices yet"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first Tipply device"}),n.jsx("button",{onClick:Ie,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Add Your First Device"})]})]}),h==="tips"&&n.jsxs("div",{className:"space-y-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Tips (Today)"}),n.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[n.jsx("thead",{className:"bg-gray-50",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Device"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(D=>n.jsxs("tr",{className:"hover:bg-gray-50",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-lg font-semibold text-gray-900",children:ye(D.amount)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-900",children:D.deviceNickname})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-500",children:xt(D.createdAt)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${D.status==="processed"?"bg-green-100 text-green-800":D.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:D.status})})]},D.id))})]})})}),i.length===0&&n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tips today"}),n.jsx("p",{className:"text-gray-500",children:"Tips from today (both pending and processed) will appear here once you start receiving them"})]})]}),h==="addDevice"&&n.jsx("div",{className:"space-y-6",children:q?n.jsx("div",{children:n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Stripe Setup Required"}),n.jsx("p",{className:"text-yellow-700 mb-4",children:"Before adding a new device, you need to complete your Stripe Connect account setup and KYC verification."}),n.jsx("div",{className:"flex space-x-4",children:n.jsx("button",{onClick:tt,className:"px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-colors",children:"Back to Dashboard"})})]})]})})}):n.jsx("div",{children:n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Add New Device"}),n.jsx("p",{className:"text-gray-600",children:"Enter your device details to add it to your account."})]}),n.jsxs("form",{onSubmit:D=>{D.preventDefault(),Jt()},className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"serialNumber",className:"block text-sm font-medium text-gray-700 mb-2",children:"Serial Number *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",id:"serialNumber",value:S.serialNumber,onChange:D=>We("serialNumber",D.target.value),onBlur:async()=>{S.serialNumber.trim()&&await Lt()},className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${k.serialNumber?"border-red-500 focus:ring-red-200":"border-gray-300"}`,placeholder:"e.g., TPY-5C07-K73"}),F&&n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-600"})})]}),k.serialNumber&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:k.serialNumber}),U&&!k.serialNumber&&S.serialNumber.trim()&&n.jsx("p",{className:"text-green-500 text-sm mt-1",children:" Serial Number validated successfully"}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the serial number from your Tipply device (e.g., TPY-5C07-K73)"})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"nickname",className:"block text-sm font-medium text-gray-700 mb-2",children:"Device Nickname *"}),n.jsx("input",{type:"text",id:"nickname",value:S.nickname,onChange:D=>We("nickname",D.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${k.nickname?"border-red-500 focus:ring-red-200":"border-gray-300"}`,placeholder:"e.g., Main Stage, Bar Counter, VIP Room"}),k.nickname&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:k.nickname}),n.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Give your device a friendly name for easy identification"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Would you like to enable song requests from your audience? *"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:`If you select "Yes", you'll be able to create a song catalog for your audience to choose from. This allows your audience to request specific songs when they tip you.`}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center cursor-pointer p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx("input",{type:"radio",name:"addDeviceIsAllowSongRequest",checked:S.isAllowSongRequest===!0,onChange:()=>E(D=>({...D,isAllowSongRequest:!0})),className:"mr-4 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Yes, enable song requests"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your audience can request songs when they tip"})]})]}),n.jsxs("label",{className:"flex items-center cursor-pointer p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx("input",{type:"radio",name:"addDeviceIsAllowSongRequest",checked:S.isAllowSongRequest===!1,onChange:()=>E(D=>({...D,isAllowSongRequest:!1})),className:"mr-4 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"No, disable song requests"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Standard tipping without song requests"})]})]})]}),k.isAllowSongRequest&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:k.isAllowSongRequest})]}),k.submit&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-red-600 text-sm",children:k.submit})}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{type:"button",onClick:tt,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:N,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:N?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),n.jsx("span",{children:"Adding Device..."})]}):n.jsx("span",{children:"Add Device"})})]})]})]})})}),h==="songs"&&n.jsx("div",{className:"space-y-6",children:n.jsx($h,{profileId:v==null?void 0:v.id})}),h==="monitor"&&n.jsx("div",{className:"space-y-6",children:n.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Monitor Song Requests"}),n.jsxs("button",{onClick:()=>oe(!0),className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-6 py-2 rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200 font-medium flex items-center space-x-2",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),n.jsx("span",{children:"Actively Monitor Request"})]})]}),n.jsx("div",{className:"space-y-4",children:Z.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No song requests today"}),n.jsx("p",{className:"text-gray-600",children:"Song requests will appear here when participants make them through the tip interface"})]}):n.jsx("div",{className:"space-y-3",children:Z.map(D=>n.jsx("div",{className:`border rounded-lg p-4 ${D.status==="completed"?"bg-green-50 border-green-200":D.status==="performing"?"bg-blue-50 border-blue-200":"bg-white border-gray-200"}`,children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-semibold text-gray-900",children:D.songTitle}),n.jsxs("p",{className:"text-gray-600 text-sm",children:["by ",D.artist]}),n.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-sm text-gray-500",children:[n.jsxs("span",{className:"font-medium text-green-600",children:["$",D.totalTipAmount.toFixed(2)]}),n.jsxs("span",{children:[D.requestCount," request",D.requestCount>1?"s":""]}),n.jsx("span",{children:new Date(D.firstRequestTime).toLocaleTimeString()})]})]}),n.jsx("div",{className:"flex items-center space-x-2",children:n.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D.status==="completed"?"bg-green-100 text-green-800":D.status==="performing"?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:D.status==="completed"?"Completed":D.status==="performing"?"Performing":"Pending"})})]})},D.songId))})})]})})]})]})]}),H&&ee&&n.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50",children:n.jsxs("div",{className:"relative p-8 border w-96 shadow-lg rounded-md bg-white",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),n.jsxs("p",{className:"text-gray-600 mt-2",children:['Are you sure you want to delete the device "',ee.nickname||ee.uuid,'"? This action cannot be undone.']})]}),n.jsxs("div",{className:"items-center px-4 py-3",children:[n.jsx("button",{onClick:js,className:"px-4 py-2 bg-red-600 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Delete"}),n.jsx("button",{onClick:Vt,className:"mt-3 px-4 py-2 bg-gray-200 text-gray-800 text-base font-medium rounded-md w-full shadow-sm hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"})]})]})}),n.jsx(Ng,{profileId:(v==null?void 0:v.id)||"",isVisible:te,onClose:()=>oe(!1)})]}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("p",{className:"text-gray-600",children:"Failed to load dashboard data"}),n.jsx("button",{onClick:Ne,className:"mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Retry"})]})})},Eg=()=>{const[e,t]=j.useState(null),[s,r]=j.useState(!1),[i,a]=j.useState(!1),[o,c]=j.useState(!0),[h,l]=j.useState(!1),[d,u]=j.useState(""),[f,m]=j.useState(""),[x,b]=j.useState({firstName:"",lastName:"",email:"",phone:"",stageName:"",bio:""}),[p,g]=j.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[v,y]=j.useState({}),[w,C]=j.useState({}),S=ct();j.useEffect(()=>{E()},[]);const E=async()=>{try{c(!0);const L=await pe.getProfile();if(L.error){u("Failed to load profile");return}const X=L.data;t(X),b({firstName:X.firstName||"",lastName:X.lastName||"",email:X.email||"",phone:X.phone||"",stageName:X.stageName||"",bio:X.bio||""})}catch{u("Failed to load profile")}finally{c(!1)}},k=()=>{r(!0),u(""),m("")},B=()=>{r(!1),b({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",stageName:(e==null?void 0:e.stageName)||"",bio:(e==null?void 0:e.bio)||""}),C({})},N=(L,X)=>{b(T=>({...T,[L]:X})),w[L]&&C(T=>({...T,[L]:""}))},A=()=>{const L={};return x.firstName.trim()||(L.firstName="First name is required"),x.lastName.trim()||(L.lastName="Last name is required"),x.email.trim()?/\S+@\S+\.\S+/.test(x.email)||(L.email="Email is invalid"):L.email="Email is required",C(L),Object.keys(L).length===0},F=async()=>{if(A())try{l(!0),u("");const L=await pe.updateProfile(x);if(L.error){u(L.error);return}t(x),r(!1),m("Profile updated successfully!"),setTimeout(()=>m(""),3e3)}catch{u("Failed to update profile")}finally{l(!1)}},P=()=>{a(!0),g({currentPassword:"",newPassword:"",confirmPassword:""}),y({}),u(""),m("")},U=()=>{a(!1),y({})},O=(L,X)=>{g(T=>({...T,[L]:X})),v[L]&&y(T=>({...T,[L]:""}))},q=()=>{const L={};return p.currentPassword||(L.currentPassword="Current password is required"),p.newPassword?p.newPassword.length<6&&(L.newPassword="Password must be at least 6 characters"):L.newPassword="New password is required",p.confirmPassword?p.newPassword!==p.confirmPassword&&(L.confirmPassword="Passwords do not match"):L.confirmPassword="Please confirm your new password",y(L),Object.keys(L).length===0},G=async()=>{if(q())try{l(!0),u("");const L=await pe.changePassword(p.currentPassword,p.newPassword);if(L.error){u(L.error);return}a(!1),m("Password changed successfully!"),setTimeout(()=>m(""),3e3)}catch{u("Failed to change password")}finally{l(!1)}},Q=()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),S("/login")};return o?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:n.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"flex justify-between items-center h-16",children:[n.jsx("div",{className:"flex items-center space-x-4",children:n.jsxs("button",{onClick:()=>S("/dashboard"),className:"flex items-center space-x-2 text-gray-500 hover:text-gray-700 transition-colors",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),n.jsx("span",{children:"Back to Dashboard"})]})}),n.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Profile"}),n.jsx("button",{onClick:Q,className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",title:"Logout",children:n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})}),n.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[d&&n.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:n.jsx("p",{className:"text-red-600 text-sm",children:d})}),f&&n.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:n.jsx("p",{className:"text-green-600 text-sm",children:f})}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6 max-w-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),!s&&n.jsx("button",{onClick:k,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Edit Profile"})]}),s?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),n.jsx("input",{type:"text",value:x.firstName,onChange:L=>N("firstName",L.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${w.firstName?"border-red-500":"border-gray-300"}`}),w.firstName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.firstName})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),n.jsx("input",{type:"text",value:x.lastName,onChange:L=>N("lastName",L.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${w.lastName?"border-red-500":"border-gray-300"}`}),w.lastName&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.lastName})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stage Name"}),n.jsx("input",{type:"text",value:x.stageName,onChange:L=>N("stageName",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Your stage name (optional)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),n.jsx("input",{type:"email",value:x.email,onChange:L=>N("email",L.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${w.email?"border-red-500":"border-gray-300"}`}),w.email&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.email})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),n.jsx("input",{type:"tel",value:x.phone,onChange:L=>N("phone",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Your phone number (optional)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),n.jsx("textarea",{value:x.bio,onChange:L=>N("bio",L.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:4,placeholder:"Write a brief bio about yourself (optional)"})]}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{onClick:B,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:F,disabled:h,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Saving...":"Save Changes"})]})]}):n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),n.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.firstName)||"Not set"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),n.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.lastName)||"Not set"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stage Name"}),n.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.stageName)||"Not set"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),n.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.email)||"Not set"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),n.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.phone)||"Not set"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),n.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.bio)||"Not set"})]})]})]}),n.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 max-w-2xl",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Security"}),!i&&n.jsx("button",{onClick:P,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Change Password"})]}),i?n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password *"}),n.jsx("input",{type:"password",value:p.currentPassword,onChange:L=>O("currentPassword",L.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${v.currentPassword?"border-red-500":"border-gray-300"}`}),v.currentPassword&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.currentPassword})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password *"}),n.jsx("input",{type:"password",value:p.newPassword,onChange:L=>O("newPassword",L.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${v.newPassword?"border-red-500":"border-gray-300"}`}),v.newPassword&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.newPassword})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password *"}),n.jsx("input",{type:"password",value:p.confirmPassword,onChange:L=>O("confirmPassword",L.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${v.confirmPassword?"border-red-500":"border-gray-300"}`}),v.confirmPassword&&n.jsx("p",{className:"text-red-500 text-sm mt-1",children:v.confirmPassword})]}),n.jsxs("div",{className:"flex space-x-4 pt-4",children:[n.jsx("button",{onClick:U,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),n.jsx("button",{onClick:G,disabled:h,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:h?"Changing Password...":"Change Password"})]})]}):n.jsx("div",{children:n.jsx("p",{className:"text-gray-600",children:"Keep your account secure by using a strong password."})})]})]})]})},Ag=()=>{const[e,t]=j.useState(""),[s,r]=j.useState(null),[i,a]=j.useState(!1),[o,c]=j.useState(""),[h,l]=j.useState(""),[d,u]=j.useState(""),f=ct(),m=async x=>{if(x.preventDefault(),s===null){c("Please select whether you want to enable song requests from your audience.");return}a(!0),c(""),l("");try{const b=await fetch("/api/devices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e,isAllowSongRequest:s})});if(!b.ok)throw new Error("Failed to create device");const p=await b.json();l("Device created successfully!"),u(`/api/devices/${p.id}/qr`)}catch{c("Failed to create device. Please try again.")}finally{a(!1)}};return n.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"max-w-md mx-auto",children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Register New Device"}),n.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Create a new tipping device"})]}),n.jsxs("form",{onSubmit:m,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"deviceName",className:"block text-sm font-medium text-gray-700",children:"Device Name"}),n.jsx("input",{id:"deviceName",type:"text",required:!0,className:"input-field mt-1",placeholder:"Enter device name",value:e,onChange:x=>t(x.target.value)})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Would you like to enable song requests from your audience? *"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:`If you select "Yes", you'll be able to create a song catalog for your audience to choose from once you're logged in. This allows your audience to request specific songs when they tip you.`}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("label",{className:"flex items-center cursor-pointer",children:[n.jsx("input",{type:"radio",name:"allowSongRequests",checked:s===!0,onChange:()=>r(!0),className:"mr-3 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),n.jsx("span",{className:"text-sm text-gray-700",children:"Yes, enable song requests"})]}),n.jsxs("label",{className:"flex items-center cursor-pointer",children:[n.jsx("input",{type:"radio",name:"allowSongRequests",checked:s===!1,onChange:()=>r(!1),className:"mr-3 h-4 w-4 text-purple-600 focus:ring-purple-500 border-gray-300"}),n.jsx("span",{className:"text-sm text-gray-700",children:"No, disable song requests"})]})]})]}),o&&n.jsx("div",{className:"text-red-600 text-sm text-center",children:o}),h&&n.jsx("div",{className:"text-green-600 text-sm text-center",children:h}),n.jsx("button",{type:"submit",disabled:i,className:"btn-primary w-full",children:i?"Creating...":"Create Device"})]}),d&&n.jsxs("div",{className:"mt-8 text-center",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"QR Code for Device"}),n.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:n.jsx("img",{src:d,alt:"Device QR Code",className:"mx-auto",style:{maxWidth:"200px"}})}),n.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Scan this QR code to access the tipping interface"})]}),n.jsx("div",{className:"mt-6 text-center",children:n.jsx("button",{onClick:()=>f("/dashboard"),className:"btn-secondary",children:"Back to Dashboard"})})]})})},kg=()=>{const[e,t]=j.useState([]),[s,r]=j.useState(!0),[i,a]=j.useState(""),o=ct();j.useEffect(()=>{c()},[]);const c=async()=>{try{const l=await fetch("/api/devices");if(!l.ok)throw new Error("Failed to fetch devices");const d=await l.json();t(d)}catch{a("Failed to load devices")}finally{r(!1)}},h=async(l,d)=>{try{const u=await fetch(`/api/devices/${l}/qr`);if(!u.ok)throw new Error("Failed to download QR code");const f=await u.blob(),m=window.URL.createObjectURL(f),x=document.createElement("a");x.href=m,x.download=`tipply-qr-${d}.png`,document.body.appendChild(x),x.click(),document.body.removeChild(x),window.URL.revokeObjectURL(m)}catch(u){console.error("Failed to download QR code:",u)}};return s?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Loading devices..."})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50",children:n.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[n.jsxs("div",{className:"flex justify-between items-center mb-8",children:[n.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Devices"}),n.jsx("button",{onClick:()=>o("/add-device"),className:"btn-primary",children:"Add Device"})]}),i&&n.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:n.jsx("p",{className:"text-red-600",children:i})}),e.length===0?n.jsxs("div",{className:"card text-center py-12",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No devices found"}),n.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first tipping device"}),n.jsx("button",{onClick:()=>o("/add-device"),className:"btn-primary",children:"Create Device"})]}):n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(l=>n.jsxs("div",{className:"card",children:[n.jsxs("div",{className:"flex justify-between items-start mb-4",children:[n.jsx("h3",{className:"text-lg font-medium text-gray-900",children:l.name}),n.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l.isActive?"Active":"Inactive"})]}),n.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[n.jsxs("p",{children:["ID: ",l.id]}),n.jsxs("p",{children:["Created: ",new Date(l.createdAt).toLocaleDateString()]})]}),n.jsxs("div",{className:"mt-4 space-y-2",children:[n.jsx("button",{onClick:()=>h(l.id,l.name),className:"btn-secondary w-full",children:"Download QR Code"}),n.jsx("button",{onClick:()=>window.open(`https://test.tipply.live/tip/${l.id}`,"_blank"),className:"btn-primary w-full",children:"View Tipping Page"})]})]},l.id))}),n.jsx("div",{className:"mt-8",children:n.jsx("button",{onClick:()=>o("/dashboard"),className:"btn-secondary",children:"Back to Dashboard"})})]})})})};var ba=or(),ue=e=>ar(e,ba),wa=or();ue.write=e=>ar(e,wa);var qr=or();ue.onStart=e=>ar(e,qr);var ja=or();ue.onFrame=e=>ar(e,ja);var Ca=or();ue.onFinish=e=>ar(e,Ca);var ds=[];ue.setTimeout=(e,t)=>{const s=ue.now()+t,r=()=>{const a=ds.findIndex(o=>o.cancel==r);~a&&ds.splice(a,1),Tt-=~a?1:0},i={time:s,handler:e,cancel:r};return ds.splice(fd(s),0,i),Tt+=1,md(),i};var fd=e=>~(~ds.findIndex(t=>t.time>e)||~ds.length);ue.cancel=e=>{qr.delete(e),ja.delete(e),Ca.delete(e),ba.delete(e),wa.delete(e)};ue.sync=e=>{Ai=!0,ue.batchedUpdates(e),Ai=!1};ue.throttle=e=>{let t;function s(){try{e(...t)}finally{t=null}}function r(...i){t=i,ue.onStart(s)}return r.handler=e,r.cancel=()=>{qr.delete(s),t=null},r};var Na=typeof window<"u"?window.requestAnimationFrame:()=>{};ue.use=e=>Na=e;ue.now=typeof performance<"u"?()=>performance.now():Date.now;ue.batchedUpdates=e=>e();ue.catch=console.error;ue.frameLoop="always";ue.advance=()=>{ue.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):pd()};var Bt=-1,Tt=0,Ai=!1;function ar(e,t){Ai?(t.delete(e),e(0)):(t.add(e),md())}function md(){Bt<0&&(Bt=0,ue.frameLoop!=="demand"&&Na(xd))}function Dg(){Bt=-1}function xd(){~Bt&&(Na(xd),ue.batchedUpdates(pd))}function pd(){const e=Bt;Bt=ue.now();const t=fd(Bt);if(t&&(gd(ds.splice(0,t),s=>s.handler()),Tt-=t),!Tt){Dg();return}qr.flush(),ba.flush(e?Math.min(64,Bt-e):16.667),ja.flush(),wa.flush(),Ca.flush()}function or(){let e=new Set,t=e;return{add(s){Tt+=t==e&&!e.has(s)?1:0,e.add(s)},delete(s){return Tt-=t==e&&e.has(s)?1:0,e.delete(s)},flush(s){t.size&&(e=new Set,Tt-=t.size,gd(t,r=>r(s)&&e.add(r)),Tt+=e.size,t=e)}}}function gd(e,t){e.forEach(s=>{try{t(s)}catch(r){ue.catch(r)}})}var Bg=Object.defineProperty,Tg=(e,t)=>{for(var s in t)Bg(e,s,{get:t[s],enumerable:!0})},mt={};Tg(mt,{assign:()=>Fg,colors:()=>Pt,createStringInterpolator:()=>Ea,skipAnimation:()=>yd,to:()=>vd,willAdvance:()=>Aa});function ki(){}var Pg=(e,t,s)=>Object.defineProperty(e,t,{value:s,writable:!0,configurable:!0}),z={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function Ct(e,t){if(z.arr(e)){if(!z.arr(t)||e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}return e===t}var ge=(e,t)=>e.forEach(t);function jt(e,t,s){if(z.arr(e)){for(let r=0;r<e.length;r++)t.call(s,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(s,e[r],r)}var st=e=>z.und(e)?[]:z.arr(e)?e:[e];function _s(e,t){if(e.size){const s=Array.from(e);e.clear(),ge(s,t)}}var ks=(e,...t)=>_s(e,s=>s(...t)),Sa=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Ea,vd,Pt=null,yd=!1,Aa=ki,Fg=e=>{e.to&&(vd=e.to),e.now&&(ue.now=e.now),e.colors!==void 0&&(Pt=e.colors),e.skipAnimation!=null&&(yd=e.skipAnimation),e.createStringInterpolator&&(Ea=e.createStringInterpolator),e.requestAnimationFrame&&ue.use(e.requestAnimationFrame),e.batchedUpdates&&(ue.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Aa=e.willAdvance),e.frameLoop&&(ue.frameLoop=e.frameLoop)},Rs=new Set,ot=[],mn=[],kr=0,zr={get idle(){return!Rs.size&&!ot.length},start(e){kr>e.priority?(Rs.add(e),ue.onStart(_g)):(bd(e),ue(Di))},advance:Di,sort(e){if(kr)ue.onFrame(()=>zr.sort(e));else{const t=ot.indexOf(e);~t&&(ot.splice(t,1),wd(e))}},clear(){ot=[],Rs.clear()}};function _g(){Rs.forEach(bd),Rs.clear(),ue(Di)}function bd(e){ot.includes(e)||wd(e)}function wd(e){ot.splice(Rg(ot,t=>t.priority>e.priority),0,e)}function Di(e){const t=mn;for(let s=0;s<ot.length;s++){const r=ot[s];kr=r.priority,r.idle||(Aa(r),r.advance(e),r.idle||t.push(r))}return kr=0,mn=ot,mn.length=0,ot=t,ot.length>0}function Rg(e,t){const s=e.findIndex(t);return s<0?e.length:s}var Mg={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ft="[-+]?\\d*\\.?\\d+",Dr=ft+"%";function $r(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Lg=new RegExp("rgb"+$r(ft,ft,ft)),Ig=new RegExp("rgba"+$r(ft,ft,ft,ft)),Vg=new RegExp("hsl"+$r(ft,Dr,Dr)),Og=new RegExp("hsla"+$r(ft,Dr,Dr,ft)),qg=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,zg=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,$g=/^#([0-9a-fA-F]{6})$/,Ug=/^#([0-9a-fA-F]{8})$/;function Wg(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=$g.exec(e))?parseInt(t[1]+"ff",16)>>>0:Pt&&Pt[e]!==void 0?Pt[e]:(t=Lg.exec(e))?(ss(t[1])<<24|ss(t[2])<<16|ss(t[3])<<8|255)>>>0:(t=Ig.exec(e))?(ss(t[1])<<24|ss(t[2])<<16|ss(t[3])<<8|ul(t[4]))>>>0:(t=qg.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Ug.exec(e))?parseInt(t[1],16)>>>0:(t=zg.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=Vg.exec(e))?(cl(dl(t[1]),xr(t[2]),xr(t[3]))|255)>>>0:(t=Og.exec(e))?(cl(dl(t[1]),xr(t[2]),xr(t[3]))|ul(t[4]))>>>0:null}function xn(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function cl(e,t,s){const r=s<.5?s*(1+t):s+t-s*t,i=2*s-r,a=xn(i,r,e+1/3),o=xn(i,r,e),c=xn(i,r,e-1/3);return Math.round(a*255)<<24|Math.round(o*255)<<16|Math.round(c*255)<<8}function ss(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function dl(e){return(parseFloat(e)%360+360)%360/360}function ul(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function xr(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function hl(e){let t=Wg(e);if(t===null)return e;t=t||0;const s=(t&4278190080)>>>24,r=(t&16711680)>>>16,i=(t&65280)>>>8,a=(t&255)/255;return`rgba(${s}, ${r}, ${i}, ${a})`}var Ys=(e,t,s)=>{if(z.fun(e))return e;if(z.arr(e))return Ys({range:e,output:t,extrapolate:s});if(z.str(e.output[0]))return Ea(e);const r=e,i=r.output,a=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",c=r.extrapolateRight||r.extrapolate||"extend",h=r.easing||(l=>l);return l=>{const d=Kg(l,a);return Hg(l,a[d],a[d+1],i[d],i[d+1],h,o,c,r.map)}};function Hg(e,t,s,r,i,a,o,c,h){let l=h?h(e):e;if(l<t){if(o==="identity")return l;o==="clamp"&&(l=t)}if(l>s){if(c==="identity")return l;c==="clamp"&&(l=s)}return r===i?r:t===s?e<=t?r:i:(t===-1/0?l=-l:s===1/0?l=l-t:l=(l-t)/(s-t),l=a(l),r===-1/0?l=-l:i===1/0?l=l+r:l=l*(i-r)+r,l)}function Kg(e,t){for(var s=1;s<t.length-1&&!(t[s]>=e);++s);return s-1}var Yg={linear:e=>e},Gs=Symbol.for("FluidValue.get"),ms=Symbol.for("FluidValue.observers"),it=e=>!!(e&&e[Gs]),Ze=e=>e&&e[Gs]?e[Gs]():e,fl=e=>e[ms]||null;function Gg(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Xs(e,t){const s=e[ms];s&&s.forEach(r=>{Gg(r,t)})}var jd=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Xg(this,e)}},Xg=(e,t)=>Cd(e,Gs,t);function ys(e,t){if(e[Gs]){let s=e[ms];s||Cd(e,ms,s=new Set),s.has(t)||(s.add(t),e.observerAdded&&e.observerAdded(s.size,t))}return t}function Qs(e,t){const s=e[ms];if(s&&s.has(t)){const r=s.size-1;r?s.delete(t):e[ms]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Cd=(e,t,s)=>Object.defineProperty(e,t,{value:s,writable:!0,configurable:!0}),br=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Qg=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,ml=new RegExp(`(${br.source})(%|[a-z]+)`,"i"),Zg=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Ur=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Nd=e=>{const[t,s]=Jg(e);if(!t||Sa())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(s&&s.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(s);return i||e}else{if(s&&Ur.test(s))return Nd(s);if(s)return s}return e},Jg=e=>{const t=Ur.exec(e);if(!t)return[,];const[,s,r]=t;return[s,r]},pn,e1=(e,t,s,r,i)=>`rgba(${Math.round(t)}, ${Math.round(s)}, ${Math.round(r)}, ${i})`,Sd=e=>{pn||(pn=Pt?new RegExp(`(${Object.keys(Pt).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(a=>Ze(a).replace(Ur,Nd).replace(Qg,hl).replace(pn,hl)),s=t.map(a=>a.match(br).map(Number)),i=s[0].map((a,o)=>s.map(c=>{if(!(o in c))throw Error('The arity of each "output" value must be equal');return c[o]})).map(a=>Ys({...e,output:a}));return a=>{var h;const o=!ml.test(t[0])&&((h=t.find(l=>ml.test(l)))==null?void 0:h.replace(br,""));let c=0;return t[0].replace(br,()=>`${i[c++](a)}${o||""}`).replace(Zg,e1)}},ka="react-spring: ",Ed=e=>{const t=e;let s=!1;if(typeof t!="function")throw new TypeError(`${ka}once requires a function parameter`);return(...r)=>{s||(t(...r),s=!0)}},t1=Ed(console.warn);function s1(){t1(`${ka}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var r1=Ed(console.warn);function n1(){r1(`${ka}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Wr(e){return z.str(e)&&(e[0]=="#"||/\d/.test(e)||!Sa()&&Ur.test(e)||e in(Pt||{}))}var Da=Sa()?j.useEffect:j.useLayoutEffect,i1=()=>{const e=j.useRef(!1);return Da(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Ad(){const e=j.useState()[1],t=i1();return()=>{t.current&&e(Math.random())}}var kd=e=>j.useEffect(e,a1),a1=[];function xl(e){const t=j.useRef(void 0);return j.useEffect(()=>{t.current=e}),t.current}var Zs=Symbol.for("Animated:node"),o1=e=>!!e&&e[Zs]===e,vt=e=>e&&e[Zs],Ba=(e,t)=>Pg(e,Zs,t),Hr=e=>e&&e[Zs]&&e[Zs].getPayload(),Dd=class{constructor(){Ba(this,this)}getPayload(){return this.payload||[]}},Kr=class Bd extends Dd{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,z.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Bd(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,s){return z.num(t)&&(this.lastPosition=t,s&&(t=Math.round(t/s)*s,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,z.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},Br=class Td extends Kr{constructor(t){super(0),this._string=null,this._toString=Ys({output:[t,t]})}static create(t){return new Td(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(z.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Ys({output:[this.getValue(),t]})),this._value=0,super.reset()}},Tr={dependencies:null},Yr=class extends Dd{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return jt(this.source,(s,r)=>{o1(s)?t[r]=s.getValue(e):it(s)?t[r]=Ze(s):e||(t[r]=s)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&ge(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return jt(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Tr.dependencies&&it(e)&&Tr.dependencies.add(e);const t=Hr(e);t&&ge(t,s=>this.add(s))}},l1=class Pd extends Yr{constructor(t){super(t)}static create(t){return new Pd(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const s=this.getPayload();return t.length==s.length?s.map((r,i)=>r.setValue(t[i])).some(Boolean):(super.setValue(t.map(c1)),!0)}};function c1(e){return(Wr(e)?Br:Kr).create(e)}function Bi(e){const t=vt(e);return t?t.constructor:z.arr(e)?l1:Wr(e)?Br:Kr}var pl=(e,t)=>{const s=!z.fun(e)||e.prototype&&e.prototype.isReactComponent;return j.forwardRef((r,i)=>{const a=j.useRef(null),o=s&&j.useCallback(x=>{a.current=h1(i,x)},[i]),[c,h]=u1(r,t),l=Ad(),d=()=>{const x=a.current;if(s&&!x)return;(x?t.applyAnimatedValues(x,c.getValue(!0)):!1)===!1&&l()},u=new d1(d,h),f=j.useRef(void 0);Da(()=>(f.current=u,ge(h,x=>ys(x,u)),()=>{f.current&&(ge(f.current.deps,x=>Qs(x,f.current)),ue.cancel(f.current.update))})),j.useEffect(d,[]),kd(()=>()=>{const x=f.current;ge(x.deps,b=>Qs(b,x))});const m=t.getComponentProps(c.getValue());return j.createElement(e,{...m,ref:o})})},d1=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&ue.write(this.update)}};function u1(e,t){const s=new Set;return Tr.dependencies=s,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new Yr(e),Tr.dependencies=null,[e,s]}function h1(e,t){return e&&(z.fun(e)?e(t):e.current=t),t}var gl=Symbol.for("AnimatedComponent"),f1=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:s=i=>new Yr(i),getComponentProps:r=i=>i}={})=>{const i={applyAnimatedValues:t,createAnimatedStyle:s,getComponentProps:r},a=o=>{const c=vl(o)||"Anonymous";return z.str(o)?o=a[o]||(a[o]=pl(o,i)):o=o[gl]||(o[gl]=pl(o,i)),o.displayName=`Animated(${c})`,o};return jt(e,(o,c)=>{z.arr(e)&&(c=vl(o)),a[c]=a(o)}),{animated:a}},vl=e=>z.str(e)?e:e&&z.str(e.displayName)?e.displayName:z.fun(e)&&e.name||null;function zt(e,...t){return z.fun(e)?e(...t):e}var Ms=(e,t)=>e===!0||!!(t&&e&&(z.fun(e)?e(t):st(e).includes(t))),Fd=(e,t)=>z.obj(e)?t&&e[t]:e,_d=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,m1=e=>e,Ta=(e,t=m1)=>{let s=x1;e.default&&e.default!==!0&&(e=e.default,s=Object.keys(e));const r={};for(const i of s){const a=t(e[i],i);z.und(a)||(r[i]=a)}return r},x1=["config","onProps","onStart","onChange","onPause","onResume","onRest"],p1={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function g1(e){const t={};let s=0;if(jt(e,(r,i)=>{p1[i]||(t[i]=r,s++)}),s)return t}function Rd(e){const t=g1(e);if(t){const s={to:t};return jt(e,(r,i)=>i in t||(s[i]=r)),s}return{...e}}function Js(e){return e=Ze(e),z.arr(e)?e.map(Js):Wr(e)?mt.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function v1(e){for(const t in e)return!0;return!1}function Ti(e){return z.fun(e)||z.arr(e)&&z.obj(e[0])}function y1(e,t){var s;(s=e.ref)==null||s.delete(e),t==null||t.delete(e)}function b1(e,t){var s;t&&e.ref!==t&&((s=e.ref)==null||s.delete(e),t.add(e),e.ref=t)}var w1={default:{tension:170,friction:26}},Pi={...w1.default,mass:1,damping:1,easing:Yg.linear,clamp:!1},j1=class{constructor(){this.velocity=0,Object.assign(this,Pi)}};function C1(e,t,s){s&&(s={...s},yl(s,t),t={...s,...t}),yl(e,t),Object.assign(e,t);for(const o in Pi)e[o]==null&&(e[o]=Pi[o]);let{frequency:r,damping:i}=e;const{mass:a}=e;return z.und(r)||(r<.01&&(r=.01),i<0&&(i=0),e.tension=Math.pow(2*Math.PI/r,2)*a,e.friction=4*Math.PI*i*a/r),e}function yl(e,t){if(!z.und(t.decay))e.duration=void 0;else{const s=!z.und(t.tension)||!z.und(t.friction);(s||!z.und(t.frequency)||!z.und(t.damping)||!z.und(t.mass))&&(e.duration=void 0,e.decay=void 0),s&&(e.frequency=void 0)}}var bl=[],N1=class{constructor(){this.changed=!1,this.values=bl,this.toValues=null,this.fromValues=bl,this.config=new j1,this.immediate=!1}};function Md(e,{key:t,props:s,defaultProps:r,state:i,actions:a}){return new Promise((o,c)=>{let h,l,d=Ms(s.cancel??(r==null?void 0:r.cancel),t);if(d)m();else{z.und(s.pause)||(i.paused=Ms(s.pause,t));let x=r==null?void 0:r.pause;x!==!0&&(x=i.paused||Ms(x,t)),h=zt(s.delay||0,t),x?(i.resumeQueue.add(f),a.pause()):(a.resume(),f())}function u(){i.resumeQueue.add(f),i.timeouts.delete(l),l.cancel(),h=l.time-ue.now()}function f(){h>0&&!mt.skipAnimation?(i.delayed=!0,l=ue.setTimeout(m,h),i.pauseQueue.add(u),i.timeouts.add(l)):m()}function m(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(u),i.timeouts.delete(l),e<=(i.cancelId||0)&&(d=!0);try{a.start({...s,callId:e,cancel:d},o)}catch(x){c(x)}}})}var Pa=(e,t)=>t.length==1?t[0]:t.some(s=>s.cancelled)?us(e.get()):t.every(s=>s.noop)?Ld(e.get()):ht(e.get(),t.every(s=>s.finished)),Ld=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),ht=(e,t,s=!1)=>({value:e,finished:t,cancelled:s}),us=e=>({value:e,cancelled:!0,finished:!1});function Id(e,t,s,r){const{callId:i,parentId:a,onRest:o}=t,{asyncTo:c,promise:h}=s;return!a&&e===c&&!t.reset?h:s.promise=(async()=>{s.asyncId=i,s.asyncTo=e;const l=Ta(t,(p,g)=>g==="onRest"?void 0:p);let d,u;const f=new Promise((p,g)=>(d=p,u=g)),m=p=>{const g=i<=(s.cancelId||0)&&us(r)||i!==s.asyncId&&ht(r,!1);if(g)throw p.result=g,u(p),p},x=(p,g)=>{const v=new wl,y=new jl;return(async()=>{if(mt.skipAnimation)throw er(s),y.result=ht(r,!1),u(y),y;m(v);const w=z.obj(p)?{...p}:{...g,to:p};w.parentId=i,jt(l,(S,E)=>{z.und(w[E])&&(w[E]=S)});const C=await r.start(w);return m(v),s.paused&&await new Promise(S=>{s.resumeQueue.add(S)}),C})()};let b;if(mt.skipAnimation)return er(s),ht(r,!1);try{let p;z.arr(e)?p=(async g=>{for(const v of g)await x(v)})(e):p=Promise.resolve(e(x,r.stop.bind(r))),await Promise.all([p.then(d),f]),b=ht(r.get(),!0,!1)}catch(p){if(p instanceof wl)b=p.result;else if(p instanceof jl)b=p.result;else throw p}finally{i==s.asyncId&&(s.asyncId=a,s.asyncTo=a?c:void 0,s.promise=a?h:void 0)}return z.fun(o)&&ue.batchedUpdates(()=>{o(b,r,r.item)}),b})()}function er(e,t){_s(e.timeouts,s=>s.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var wl=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},jl=class extends Error{constructor(){super("SkipAnimationSignal")}},Fi=e=>e instanceof Fa,S1=1,Fa=class extends jd{constructor(){super(...arguments),this.id=S1++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=vt(this);return e&&e.getValue()}to(...e){return mt.to(this,e)}interpolate(...e){return s1(),mt.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Xs(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||zr.sort(this),Xs(this,{type:"priority",parent:this,priority:e})}},Gt=Symbol.for("SpringPhase"),Vd=1,_i=2,Ri=4,gn=e=>(e[Gt]&Vd)>0,At=e=>(e[Gt]&_i)>0,Ns=e=>(e[Gt]&Ri)>0,Cl=(e,t)=>t?e[Gt]|=_i|Vd:e[Gt]&=~_i,Nl=(e,t)=>t?e[Gt]|=Ri:e[Gt]&=~Ri,E1=class extends Fa{constructor(e,t){if(super(),this.animation=new N1,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!z.und(e)||!z.und(t)){const s=z.obj(e)?{...e}:{...t,from:e};z.und(s.default)&&(s.default=!0),this.start(s)}}get idle(){return!(At(this)||this._state.asyncTo)||Ns(this)}get goal(){return Ze(this.animation.to)}get velocity(){const e=vt(this);return e instanceof Kr?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return gn(this)}get isAnimating(){return At(this)}get isPaused(){return Ns(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,s=!1;const r=this.animation;let{toValues:i}=r;const{config:a}=r,o=Hr(r.to);!o&&it(r.to)&&(i=st(Ze(r.to))),r.values.forEach((l,d)=>{if(l.done)return;const u=l.constructor==Br?1:o?o[d].lastPosition:i[d];let f=r.immediate,m=u;if(!f){if(m=l.lastPosition,a.tension<=0){l.done=!0;return}let x=l.elapsedTime+=e;const b=r.fromValues[d],p=l.v0!=null?l.v0:l.v0=z.arr(a.velocity)?a.velocity[d]:a.velocity;let g;const v=a.precision||(b==u?.005:Math.min(1,Math.abs(u-b)*.001));if(z.und(a.duration))if(a.decay){const y=a.decay===!0?.998:a.decay,w=Math.exp(-(1-y)*x);m=b+p/(1-y)*(1-w),f=Math.abs(l.lastPosition-m)<=v,g=p*w}else{g=l.lastVelocity==null?p:l.lastVelocity;const y=a.restVelocity||v/10,w=a.clamp?0:a.bounce,C=!z.und(w),S=b==u?l.v0>0:b<u;let E,k=!1;const B=1,N=Math.ceil(e/B);for(let A=0;A<N&&(E=Math.abs(g)>y,!(!E&&(f=Math.abs(u-m)<=v,f)));++A){C&&(k=m==u||m>u==S,k&&(g=-g*w,m=u));const F=-a.tension*1e-6*(m-u),P=-a.friction*.001*g,U=(F+P)/a.mass;g=g+U*B,m=m+g*B}}else{let y=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,l.durationProgress>0&&(l.elapsedTime=a.duration*l.durationProgress,x=l.elapsedTime+=e)),y=(a.progress||0)+x/this._memoizedDuration,y=y>1?1:y<0?0:y,l.durationProgress=y),m=b+a.easing(y)*(u-b),g=(m-l.lastPosition)/e,f=y==1}l.lastVelocity=g,Number.isNaN(m)&&(console.warn("Got NaN while animating:",this),f=!0)}o&&!o[d].done&&(f=!1),f?l.done=!0:t=!1,l.setValue(m,a.round)&&(s=!0)});const c=vt(this),h=c.getValue();if(t){const l=Ze(r.to);(h!==l||s)&&!a.decay?(c.setValue(l),this._onChange(l)):s&&a.decay&&this._onChange(h),this._stop()}else s&&this._onChange(h)}set(e){return ue.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(At(this)){const{to:e,config:t}=this.animation;ue.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let s;return z.und(e)?(s=this.queue||[],this.queue=[]):s=[z.obj(e)?e:{...t,to:e}],Promise.all(s.map(r=>this._update(r))).then(r=>Pa(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),er(this._state,e&&this._lastCallId),ue.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:s,from:r}=e;s=z.obj(s)?s[t]:s,(s==null||Ti(s))&&(s=void 0),r=z.obj(r)?r[t]:r,r==null&&(r=void 0);const i={to:s,from:r};return gn(this)||(e.reverse&&([s,r]=[r,s]),r=Ze(r),z.und(r)?vt(this)||this._set(s):this._set(r)),i}_update({...e},t){const{key:s,defaultProps:r}=this;e.default&&Object.assign(r,Ta(e,(o,c)=>/^on/.test(c)?Fd(o,s):o)),El(this,e,"onProps"),Es(this,"onProps",e,this);const i=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return Md(++this._lastCallId,{key:s,props:e,defaultProps:r,state:a,actions:{pause:()=>{Ns(this)||(Nl(this,!0),ks(a.pauseQueue),Es(this,"onPause",ht(this,Ss(this,this.animation.to)),this))},resume:()=>{Ns(this)&&(Nl(this,!1),At(this)&&this._resume(),ks(a.resumeQueue),Es(this,"onResume",ht(this,Ss(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const c=Od(e);if(c)return this._update(c,!0)}return o})}_merge(e,t,s){if(t.cancel)return this.stop(!0),s(us(this));const r=!z.und(e.to),i=!z.und(e.from);if(r||i)if(t.callId>this._lastToId)this._lastToId=t.callId;else return s(us(this));const{key:a,defaultProps:o,animation:c}=this,{to:h,from:l}=c;let{to:d=h,from:u=l}=e;i&&!r&&(!t.default||z.und(d))&&(d=u),t.reverse&&([d,u]=[u,d]);const f=!Ct(u,l);f&&(c.from=u),u=Ze(u);const m=!Ct(d,h);m&&this._focus(d);const x=Ti(t.to),{config:b}=c,{decay:p,velocity:g}=b;(r||i)&&(b.velocity=0),t.config&&!x&&C1(b,zt(t.config,a),t.config!==o.config?zt(o.config,a):void 0);let v=vt(this);if(!v||z.und(d))return s(ht(this,!0));const y=z.und(t.reset)?i&&!t.default:!z.und(u)&&Ms(t.reset,a),w=y?u:this.get(),C=Js(d),S=z.num(C)||z.arr(C)||Wr(C),E=!x&&(!S||Ms(o.immediate||t.immediate,a));if(m){const A=Bi(d);if(A!==v.constructor)if(E)v=this._set(C);else throw Error(`Cannot animate between ${v.constructor.name} and ${A.name}, as the "to" prop suggests`)}const k=v.constructor;let B=it(d),N=!1;if(!B){const A=y||!gn(this)&&f;(m||A)&&(N=Ct(Js(w),C),B=!N),(!Ct(c.immediate,E)&&!E||!Ct(b.decay,p)||!Ct(b.velocity,g))&&(B=!0)}if(N&&At(this)&&(c.changed&&!y?B=!0:B||this._stop(h)),!x&&((B||it(h))&&(c.values=v.getPayload(),c.toValues=it(d)?null:k==Br?[1]:st(C)),c.immediate!=E&&(c.immediate=E,!E&&!y&&this._set(h)),B)){const{onRest:A}=c;ge(k1,P=>El(this,t,P));const F=ht(this,Ss(this,h));ks(this._pendingCalls,F),this._pendingCalls.add(s),c.changed&&ue.batchedUpdates(()=>{var P;c.changed=!y,A==null||A(F,this),y?zt(o.onRest,F):(P=c.onStart)==null||P.call(c,F,this)})}y&&this._set(w),x?s(Id(t.to,t,this._state,this)):B?this._start():At(this)&&!m?this._pendingCalls.add(s):s(Ld(w))}_focus(e){const t=this.animation;e!==t.to&&(fl(this)&&this._detach(),t.to=e,fl(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;it(t)&&(ys(t,this),Fi(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;it(e)&&Qs(e,this)}_set(e,t=!0){const s=Ze(e);if(!z.und(s)){const r=vt(this);if(!r||!Ct(s,r.getValue())){const i=Bi(s);!r||r.constructor!=i?Ba(this,i.create(s)):r.setValue(s),r&&ue.batchedUpdates(()=>{this._onChange(s,t)})}}return vt(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,Es(this,"onStart",ht(this,Ss(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),zt(this.animation.onChange,e,this)),zt(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;vt(this).reset(Ze(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),At(this)||(Cl(this,!0),Ns(this)||this._resume())}_resume(){mt.skipAnimation?this.finish():zr.start(this)}_stop(e,t){if(At(this)){Cl(this,!1);const s=this.animation;ge(s.values,i=>{i.done=!0}),s.toValues&&(s.onChange=s.onPause=s.onResume=void 0),Xs(this,{type:"idle",parent:this});const r=t?us(this.get()):ht(this.get(),Ss(this,e??s.to));ks(this._pendingCalls,r),s.changed&&(s.changed=!1,Es(this,"onRest",r,this))}}};function Ss(e,t){const s=Js(t),r=Js(e.get());return Ct(r,s)}function Od(e,t=e.loop,s=e.to){const r=zt(t);if(r){const i=r!==!0&&Rd(r),a=(i||e).reverse,o=!i||i.reset;return tr({...e,loop:t,default:!1,pause:void 0,to:!a||Ti(s)?s:void 0,from:o?e.from:void 0,reset:o,...i})}}function tr(e){const{to:t,from:s}=e=Rd(e),r=new Set;return z.obj(t)&&Sl(t,r),z.obj(s)&&Sl(s,r),e.keys=r.size?Array.from(r):null,e}function A1(e){const t=tr(e);return z.und(t.default)&&(t.default=Ta(t)),t}function Sl(e,t){jt(e,(s,r)=>s!=null&&t.add(r))}var k1=["onStart","onRest","onChange","onPause","onResume"];function El(e,t,s){e.animation[s]=t[s]!==_d(t,s)?Fd(t[s],e.key):void 0}function Es(e,t,...s){var r,i,a,o;(i=(r=e.animation)[t])==null||i.call(r,...s),(o=(a=e.defaultProps)[t])==null||o.call(a,...s)}var D1=["onStart","onChange","onRest"],B1=1,T1=class{constructor(t,s){this.id=B1++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),s&&(this._flush=s),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((s,r)=>t[r]=s.get()),t}set(t){for(const s in t){const r=t[s];z.und(r)||this.springs[s].set(r)}}update(t){return t&&this.queue.push(tr(t)),this}start(t){let{queue:s}=this;return t?s=st(t).map(tr):this.queue=[],this._flush?this._flush(this,s):(Wd(this,s),Mi(this,s))}stop(t,s){if(t!==!!t&&(s=t),s){const r=this.springs;ge(st(s),i=>r[i].stop(!!t))}else er(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(z.und(t))this.start({pause:!0});else{const s=this.springs;ge(st(t),r=>s[r].pause())}return this}resume(t){if(z.und(t))this.start({pause:!1});else{const s=this.springs;ge(st(t),r=>s[r].resume())}return this}each(t){jt(this.springs,t)}_onFrame(){const{onStart:t,onChange:s,onRest:r}=this._events,i=this._active.size>0,a=this._changed.size>0;(i&&!this._started||a&&!this._started)&&(this._started=!0,_s(t,([h,l])=>{l.value=this.get(),h(l,this,this._item)}));const o=!i&&this._started,c=a||o&&r.size?this.get():null;a&&s.size&&_s(s,([h,l])=>{l.value=c,h(l,this,this._item)}),o&&(this._started=!1,_s(r,([h,l])=>{l.value=c,h(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;ue.onFrame(this._onFrame)}};function Mi(e,t){return Promise.all(t.map(s=>qd(e,s))).then(s=>Pa(e,s))}async function qd(e,t,s){const{keys:r,to:i,from:a,loop:o,onRest:c,onResolve:h}=t,l=z.obj(t.default)&&t.default;o&&(t.loop=!1),i===!1&&(t.to=null),a===!1&&(t.from=null);const d=z.arr(i)||z.fun(i)?i:void 0;d?(t.to=void 0,t.onRest=void 0,l&&(l.onRest=void 0)):ge(D1,b=>{const p=t[b];if(z.fun(p)){const g=e._events[b];t[b]=({finished:v,cancelled:y})=>{const w=g.get(p);w?(v||(w.finished=!1),y&&(w.cancelled=!0)):g.set(p,{value:null,finished:v||!1,cancelled:y||!1})},l&&(l[b]=t[b])}});const u=e._state;t.pause===!u.paused?(u.paused=t.pause,ks(t.pause?u.pauseQueue:u.resumeQueue)):u.paused&&(t.pause=!0);const f=(r||Object.keys(e.springs)).map(b=>e.springs[b].start(t)),m=t.cancel===!0||_d(t,"cancel")===!0;(d||m&&u.asyncId)&&f.push(Md(++e._lastAsyncId,{props:t,state:u,actions:{pause:ki,resume:ki,start(b,p){m?(er(u,e._lastAsyncId),p(us(e))):(b.onRest=c,p(Id(d,b,u,e)))}}})),u.paused&&await new Promise(b=>{u.resumeQueue.add(b)});const x=Pa(e,await Promise.all(f));if(o&&x.finished&&!(s&&x.noop)){const b=Od(t,o,i);if(b)return Wd(e,[b]),qd(e,b,!0)}return h&&ue.batchedUpdates(()=>h(x,e,e.item)),x}function Al(e,t){const s={...e.springs};return t&&ge(st(t),r=>{z.und(r.keys)&&(r=tr(r)),z.obj(r.to)||(r={...r,to:void 0}),Ud(s,r,i=>$d(i))}),zd(e,s),s}function zd(e,t){jt(t,(s,r)=>{e.springs[r]||(e.springs[r]=s,ys(s,e))})}function $d(e,t){const s=new E1;return s.key=e,t&&ys(s,t),s}function Ud(e,t,s){t.keys&&ge(t.keys,r=>{(e[r]||(e[r]=s(r)))._prepareNode(t)})}function Wd(e,t){ge(t,s=>{Ud(e.springs,s,r=>$d(r,e))})}var P1=j.createContext({pause:!1,immediate:!1}),F1=()=>{const e=[],t=function(r){n1();const i=[];return ge(e,(a,o)=>{if(z.und(r))i.push(a.start());else{const c=s(r,a,o);c&&i.push(a.start(c))}}),i};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const i=e.indexOf(r);~i&&e.splice(i,1)},t.pause=function(){return ge(e,r=>r.pause(...arguments)),this},t.resume=function(){return ge(e,r=>r.resume(...arguments)),this},t.set=function(r){ge(e,(i,a)=>{const o=z.fun(r)?r(a,i):r;o&&i.set(o)})},t.start=function(r){const i=[];return ge(e,(a,o)=>{if(z.und(r))i.push(a.start());else{const c=this._getProps(r,a,o);c&&i.push(a.start(c))}}),i},t.stop=function(){return ge(e,r=>r.stop(...arguments)),this},t.update=function(r){return ge(e,(i,a)=>i.update(this._getProps(r,i,a))),this};const s=function(r,i,a){return z.fun(r)?r(a,i):r};return t._getProps=s,t};function _1(e,t,s){const r=z.fun(t)&&t;r&&!s&&(s=[]);const i=j.useMemo(()=>r||arguments.length==3?F1():void 0,[]),a=j.useRef(0),o=Ad(),c=j.useMemo(()=>({ctrls:[],queue:[],flush(g,v){const y=Al(g,v);return a.current>0&&!c.queue.length&&!Object.keys(y).some(C=>!g.springs[C])?Mi(g,v):new Promise(C=>{zd(g,y),c.queue.push(()=>{C(Mi(g,v))}),o()})}}),[]),h=j.useRef([...c.ctrls]),l=j.useRef([]),d=xl(e)||0;j.useMemo(()=>{ge(h.current.slice(e,d),g=>{y1(g,i),g.stop(!0)}),h.current.length=e,u(d,e)},[e]),j.useMemo(()=>{u(0,Math.min(d,e))},s);function u(g,v){for(let y=g;y<v;y++){const w=h.current[y]||(h.current[y]=new T1(null,c.flush)),C=r?r(y,w):t[y];C&&(l.current[y]=A1(C))}}const f=h.current.map((g,v)=>Al(g,l.current[v])),m=j.useContext(P1),x=xl(m),b=m!==x&&v1(m);Da(()=>{a.current++,c.ctrls=h.current;const{queue:g}=c;g.length&&(c.queue=[],ge(g,v=>v())),ge(h.current,(v,y)=>{i==null||i.add(v),b&&v.start({default:m});const w=l.current[y];w&&(b1(v,w.ref),v.ref?v.queue.push(w):v.start(w))})}),kd(()=>()=>{ge(c.ctrls,g=>g.stop(!0))});const p=f.map(g=>({...g}));return i?[p,i]:p}function R1(e,t){const s=z.fun(e),[[r],i]=_1(1,s?e:[e],s?[]:t);return s||arguments.length==2?[r,i]:r}var M1=class extends Fa{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Ys(...t);const s=this._get(),r=Bi(s);Ba(this,r.create(s))}advance(e){const t=this._get(),s=this.get();Ct(t,s)||(vt(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&kl(this._active)&&vn(this)}_get(){const e=z.arr(this.source)?this.source.map(Ze):st(Ze(this.source));return this.calc(...e)}_start(){this.idle&&!kl(this._active)&&(this.idle=!1,ge(Hr(this),e=>{e.done=!1}),mt.skipAnimation?(ue.batchedUpdates(()=>this.advance()),vn(this)):zr.start(this))}_attach(){let e=1;ge(st(this.source),t=>{it(t)&&ys(t,this),Fi(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){ge(st(this.source),e=>{it(e)&&Qs(e,this)}),this._active.clear(),vn(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=st(this.source).reduce((t,s)=>Math.max(t,(Fi(s)?s.priority:0)+1),0))}};function L1(e){return e.idle!==!1}function kl(e){return!e.size||Array.from(e).every(L1)}function vn(e){e.idle||(e.idle=!0,ge(Hr(e),t=>{t.done=!0}),Xs(e,{type:"idle",parent:e}))}mt.assign({createStringInterpolator:Sd,to:(e,t)=>new M1(e,t)});var Hd=/^--/;function I1(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Hd.test(e)&&!(Ls.hasOwnProperty(e)&&Ls[e])?t+"px":(""+t).trim()}var Dl={};function V1(e,t){if(!e.nodeType||!e.setAttribute)return!1;const s=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:r,style:i,children:a,scrollTop:o,scrollLeft:c,viewBox:h,...l}=t,d=Object.values(l),u=Object.keys(l).map(f=>s||e.hasAttribute(f)?f:Dl[f]||(Dl[f]=f.replace(/([A-Z])/g,m=>"-"+m.toLowerCase())));a!==void 0&&(e.textContent=a);for(const f in i)if(i.hasOwnProperty(f)){const m=I1(f,i[f]);Hd.test(f)?e.style.setProperty(f,m):e.style[f]=m}u.forEach((f,m)=>{e.setAttribute(f,d[m])}),r!==void 0&&(e.className=r),o!==void 0&&(e.scrollTop=o),c!==void 0&&(e.scrollLeft=c),h!==void 0&&e.setAttribute("viewBox",h)}var Ls={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},O1=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),q1=["Webkit","Ms","Moz","O"];Ls=Object.keys(Ls).reduce((e,t)=>(q1.forEach(s=>e[O1(s,t)]=e[t]),e),Ls);var z1=/^(matrix|translate|scale|rotate|skew)/,$1=/^(translate)/,U1=/^(rotate|skew)/,yn=(e,t)=>z.num(e)&&e!==0?e+t:e,wr=(e,t)=>z.arr(e)?e.every(s=>wr(s,t)):z.num(e)?e===t:parseFloat(e)===t,W1=class extends Yr{constructor({x:e,y:t,z:s,...r}){const i=[],a=[];(e||t||s)&&(i.push([e||0,t||0,s||0]),a.push(o=>[`translate3d(${o.map(c=>yn(c,"px")).join(",")})`,wr(o,0)])),jt(r,(o,c)=>{if(c==="transform")i.push([o||""]),a.push(h=>[h,h===""]);else if(z1.test(c)){if(delete r[c],z.und(o))return;const h=$1.test(c)?"px":U1.test(c)?"deg":"";i.push(st(o)),a.push(c==="rotate3d"?([l,d,u,f])=>[`rotate3d(${l},${d},${u},${yn(f,h)})`,wr(f,0)]:l=>[`${c}(${l.map(d=>yn(d,h)).join(",")})`,wr(l,c.startsWith("scale")?1:0)])}}),i.length&&(r.transform=new H1(i,a)),super(r)}},H1=class extends jd{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return ge(this.inputs,(s,r)=>{const i=Ze(s[0]),[a,o]=this.transforms[r](z.arr(i)?i:s.map(Ze));e+=" "+a,t=t&&o}),t?"none":e}observerAdded(e){e==1&&ge(this.inputs,t=>ge(t,s=>it(s)&&ys(s,this)))}observerRemoved(e){e==0&&ge(this.inputs,t=>ge(t,s=>it(s)&&Qs(s,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Xs(this,e)}},K1=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];mt.assign({batchedUpdates:wc.unstable_batchedUpdates,createStringInterpolator:Sd,colors:Mg});var Y1=f1(K1,{applyAnimatedValues:V1,createAnimatedStyle:e=>new W1(e),getComponentProps:({scrollTop:e,scrollLeft:t,...s})=>s}),G1=Y1.animated;function X1(e,t,s){return Math.max(t,Math.min(e,s))}const $e={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function Bl(e,t,s){return t===0||Math.abs(t)===1/0?Math.pow(e,s*5):e*t*s/(t+s*e)}function Tl(e,t,s,r=.15){return r===0?X1(e,t,s):e<t?-Bl(t-e,s-t,r)+t:e>s?+Bl(e-s,s-t,r)+s:e}function Q1(e,[t,s],[r,i]){const[[a,o],[c,h]]=e;return[Tl(t,a,o,r),Tl(s,c,h,i)]}function Z1(e,t){if(typeof e!="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function J1(e){var t=Z1(e,"string");return typeof t=="symbol"?t:String(t)}function Qe(e,t,s){return t=J1(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function Pl(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),s.push.apply(s,r)}return s}function Ee(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Pl(Object(s),!0).forEach(function(r){Qe(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Pl(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}const Kd={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function Fl(e){return e?e[0].toUpperCase()+e.slice(1):""}const ev=["enter","leave"];function tv(e=!1,t){return e&&!ev.includes(t)}function sv(e,t="",s=!1){const r=Kd[e],i=r&&r[t]||t;return"on"+Fl(e)+Fl(i)+(tv(s,i)?"Capture":"")}const rv=["gotpointercapture","lostpointercapture"];function nv(e){let t=e.substring(2).toLowerCase();const s=!!~t.indexOf("passive");s&&(t=t.replace("passive",""));const r=rv.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:s}}function iv(e,t=""){const s=Kd[e],r=s&&s[t]||t;return e+r}function Gr(e){return"touches"in e}function Yd(e){return Gr(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function av(e){return Array.from(e.touches).filter(t=>{var s,r;return t.target===e.currentTarget||((s=e.currentTarget)===null||s===void 0||(r=s.contains)===null||r===void 0?void 0:r.call(s,t.target))})}function ov(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function Gd(e){return Gr(e)?ov(e)[0]:e}function lv(e){return av(e).map(t=>t.identifier)}function bn(e){const t=Gd(e);return Gr(e)?t.identifier:t.pointerId}function _l(e){const t=Gd(e);return[t.clientX,t.clientY]}function cv(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:s,altKey:r,metaKey:i,ctrlKey:a}=e;Object.assign(t,{shiftKey:s,altKey:r,metaKey:i,ctrlKey:a})}return t}function Pr(e,...t){return typeof e=="function"?e(...t):e}function dv(){}function uv(...e){return e.length===0?dv:e.length===1?e[0]:function(){let t;for(const s of e)t=s.apply(this,arguments)||t;return t}}function Rl(e,t){return Object.assign({},t,e||{})}const hv=32;class fv{constructor(t,s,r){this.ctrl=t,this.args=s,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:s,ingKey:r,args:i}=this;s[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const s=this.state,r=this.config;s._active||(this.reset(),this.computeInitial(),s._active=!0,s.target=t.target,s.currentTarget=t.currentTarget,s.lastOffset=r.from?Pr(r.from,s):s.offset,s.offset=s.lastOffset,s.startTime=s.timeStamp=t.timeStamp)}computeValues(t){const s=this.state;s._values=t,s.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:s,config:r,shared:i}=this;s.args=this.args;let a=0;if(t&&(s.event=t,r.preventDefault&&t.cancelable&&s.event.preventDefault(),s.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,cv(t)),i.down=i.pressed=i.buttons%2===1||i.touches>0,a=t.timeStamp-s.timeStamp,s.timeStamp=t.timeStamp,s.elapsedTime=s.timeStamp-s.startTime),s._active){const S=s._delta.map(Math.abs);$e.addTo(s._distance,S)}this.axisIntent&&this.axisIntent(t);const[o,c]=s._movement,[h,l]=r.threshold,{_step:d,values:u}=s;if(r.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(o)>=h&&u[0]),d[1]===!1&&(d[1]=Math.abs(c)>=l&&u[1])):(d[0]===!1&&(d[0]=Math.abs(o)>=h&&Math.sign(o)*h),d[1]===!1&&(d[1]=Math.abs(c)>=l&&Math.sign(c)*l)),s.intentional=d[0]!==!1||d[1]!==!1,!s.intentional)return;const f=[0,0];if(r.hasCustomTransform){const[S,E]=u;f[0]=d[0]!==!1?S-d[0]:0,f[1]=d[1]!==!1?E-d[1]:0}else f[0]=d[0]!==!1?o-d[0]:0,f[1]=d[1]!==!1?c-d[1]:0;this.restrictToAxis&&!s._blocked&&this.restrictToAxis(f);const m=s.offset,x=s._active&&!s._blocked||s.active;x&&(s.first=s._active&&!s.active,s.last=!s._active&&s.active,s.active=i[this.ingKey]=s._active,t&&(s.first&&("bounds"in r&&(s._bounds=Pr(r.bounds,s)),this.setup&&this.setup()),s.movement=f,this.computeOffset()));const[b,p]=s.offset,[[g,v],[y,w]]=s._bounds;s.overflow=[b<g?-1:b>v?1:0,p<y?-1:p>w?1:0],s._movementBound[0]=s.overflow[0]?s._movementBound[0]===!1?s._movement[0]:s._movementBound[0]:!1,s._movementBound[1]=s.overflow[1]?s._movementBound[1]===!1?s._movement[1]:s._movementBound[1]:!1;const C=s._active?r.rubberband||[0,0]:[0,0];if(s.offset=Q1(s._bounds,s.offset,C),s.delta=$e.sub(s.offset,m),this.computeMovement(),x&&(!s.last||a>hv)){s.delta=$e.sub(s.offset,m);const S=s.delta.map(Math.abs);$e.addTo(s.distance,S),s.direction=s.delta.map(Math.sign),s._direction=s._delta.map(Math.sign),!s.first&&a>0&&(s.velocity=[S[0]/a,S[1]/a],s.timeDelta=a)}}emit(){const t=this.state,s=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const i=this.handler(Ee(Ee(Ee({},s),t),{},{[this.aliasKey]:t.values}));i!==void 0&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function mv([e,t],s){const r=Math.abs(e),i=Math.abs(t);if(r>i&&r>s)return"x";if(i>r&&i>s)return"y"}class xv extends fv{constructor(...t){super(...t),Qe(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=$e.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=$e.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const s=this.state,r=this.config;if(!s.axis&&t){const i=typeof r.axisThreshold=="object"?r.axisThreshold[Yd(t)]:r.axisThreshold;s.axis=mv(s._movement,i)}s._blocked=(r.lockDirection||!!r.axis)&&!s.axis||!!r.axis&&r.axis!==s.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const pv=e=>e,Ml=.15,Xd={enabled(e=!0){return e},eventOptions(e,t,s){return Ee(Ee({},s.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[Ml,Ml];case!1:return[0,0];default:return $e.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return $e.toVector(e)},transform(e,t,s){const r=e||s.shared.transform;return this.hasCustomTransform=!!r,r||pv},threshold(e){return $e.toVector(e,0)}},gv=0,lr=Ee(Ee({},Xd),{},{axis(e,t,{axis:s}){if(this.lockDirection=s==="lock",!this.lockDirection)return s},axisThreshold(e=gv){return e},bounds(e={}){if(typeof e=="function")return a=>lr.bounds(e(a));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:s=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,s],[r,i]]}}),Ll={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class vv extends xv{constructor(...t){super(...t),Qe(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const s=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),i={left:s.left-r.left+t.offset[0],right:s.right-r.right+t.offset[0],top:s.top-r.top+t.offset[1],bottom:s.bottom-r.bottom+t.offset[1]};t._bounds=lr.bounds(i)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const s=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(s.pointerButtons)?!s.pointerButtons.includes(t.buttons):s.pointerButtons!==-1&&s.pointerButtons!==t.buttons))return;const i=this.ctrl.setEventIds(t);s.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=bn(t),r._pointerActive=!0,this.computeValues(_l(t)),this.computeInitial(),s.preventScrollAxis&&Yd(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):s.delay>0?(this.setupDelayTrigger(t),s.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const s=this.state;s._active=!0,s._preventScroll=!0,s._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const s=this.state,r=this.config;if(!s._pointerActive)return;const i=bn(t);if(s._pointerId!==void 0&&i!==s._pointerId)return;const a=_l(t);if(document.pointerLockElement===t.target?s._delta=[t.movementX,t.movementY]:(s._delta=$e.sub(a,s._values),this.computeValues(a)),$e.addTo(s._movement,s._delta),this.compute(t),s._delayed&&s.intentional){this.timeoutStore.remove("dragDelay"),s.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!s._preventScroll)if(s.axis)if(s.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){s._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const s=this.state,r=this.config;if(!s._active||!s._pointerActive)return;const i=bn(t);if(s._pointerId!==void 0&&i!==s._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[a,o]=s._distance;if(s.tap=a<=r.tapsThreshold&&o<=r.tapsThreshold,s.tap&&r.filterTaps)s._force=!0;else{const[c,h]=s._delta,[l,d]=s._movement,[u,f]=r.swipe.velocity,[m,x]=r.swipe.distance,b=r.swipe.duration;if(s.elapsedTime<b){const p=Math.abs(c/s.timeDelta),g=Math.abs(h/s.timeDelta);p>u&&Math.abs(l)>m&&(s.swipe[0]=Math.sign(c)),g>f&&Math.abs(d)>x&&(s.swipe[1]=Math.sign(h))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const s=this.config,r=s.device;s.pointerLock&&t.currentTarget.requestPointerLock(),s.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,yv(t);const s=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",s),this.eventStore.add(this.sharedConfig.window,"touch","cancel",s),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const s=Ll[t.key];if(s){const r=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=s(this.config.keyboardDisplacement,i),r._keyboardActive=!0,$e.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in Ll&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const s=this.config.device;t(s,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(s,"change",this.pointerMove.bind(this)),t(s,"end",this.pointerUp.bind(this)),t(s,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function yv(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const cr=typeof window<"u"&&window.document&&window.document.createElement;function Qd(){return cr&&"ontouchstart"in window}function bv(){return Qd()||cr&&window.navigator.maxTouchPoints>1}function wv(){return cr&&"onpointerdown"in window}function jv(){return cr&&"exitPointerLock"in window.document}function Cv(){try{return"constructor"in GestureEvent}catch{return!1}}const at={isBrowser:cr,gesture:Cv(),touch:Qd(),touchscreen:bv(),pointer:wv(),pointerLock:jv()},Nv=250,Sv=180,Ev=.5,Av=50,kv=250,Dv=10,Il={mouse:0,touch:0,pen:8},Bv=Ee(Ee({},lr),{},{device(e,t,{pointer:{touch:s=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&at.pointerLock,at.touch&&s?"touch":this.pointerLock?"mouse":at.pointer&&!i?"pointer":at.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:s}){if(this.preventScrollDelay=typeof s=="number"?s:s||s===void 0&&e?Nv:void 0,!(!at.touchscreen||s===!1))return e||(s!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:s=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&s},threshold(e,t,{filterTaps:s=!1,tapsThreshold:r=3,axis:i=void 0}){const a=$e.toVector(e,s?r:i?1:0);return this.filterTaps=s,this.tapsThreshold=r,a},swipe({velocity:e=Ev,distance:t=Av,duration:s=kv}={}){return{velocity:this.transform($e.toVector(e)),distance:this.transform($e.toVector(t)),duration:s}},delay(e=0){switch(e){case!0:return Sv;case!1:return 0;default:return e}},axisThreshold(e){return e?Ee(Ee({},Il),e):Il},keyboardDisplacement(e=Dv){return e}});Ee(Ee({},Xd),{},{device(e,t,{shared:s,pointer:{touch:r=!1}={}}){if(s.target&&!at.touch&&at.gesture)return"gesture";if(at.touch&&r)return"touch";if(at.touchscreen){if(at.pointer)return"pointer";if(at.touch)return"touch"}},bounds(e,t,{scaleBounds:s={},angleBounds:r={}}){const i=o=>{const c=Rl(Pr(s,o),{min:-1/0,max:1/0});return[c.min,c.max]},a=o=>{const c=Rl(Pr(r,o),{min:-1/0,max:1/0});return[c.min,c.max]};return typeof s!="function"&&typeof r!="function"?[i(),a()]:o=>[i(o),a(o)]},threshold(e,t,s){return this.lockDirection=s.axis==="lock",$e.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});Ee(Ee({},lr),{},{mouseOnly:(e=!0)=>e});Ee(Ee({},lr),{},{mouseOnly:(e=!0)=>e});const Zd=new Map,Li=new Map;function Tv(e){Zd.set(e.key,e.engine),Li.set(e.key,e.resolver)}const Pv={key:"drag",engine:vv,resolver:Bv};function Fv(e,t){if(e==null)return{};var s={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(s[i]=e[i]);return s}function _v(e,t){if(e==null)return{};var s=Fv(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}const Rv={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=at.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},Mv=["target","eventOptions","window","enabled","transform"];function jr(e={},t){const s={};for(const[r,i]of Object.entries(t))switch(typeof i){case"function":s[r]=i.call(s,e[r],r,e);break;case"object":s[r]=jr(e[r],i);break;case"boolean":i&&(s[r]=e[r]);break}return s}function Lv(e,t,s={}){const r=e,{target:i,eventOptions:a,window:o,enabled:c,transform:h}=r,l=_v(r,Mv);if(s.shared=jr({target:i,eventOptions:a,window:o,enabled:c,transform:h},Rv),t){const d=Li.get(t);s[t]=jr(Ee({shared:s.shared},l),d)}else for(const d in l){const u=Li.get(d);u&&(s[d]=jr(Ee({shared:s.shared},l[d]),u))}return s}class Jd{constructor(t,s){Qe(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=s}add(t,s,r,i,a){const o=this._listeners,c=iv(s,r),h=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},l=Ee(Ee({},h),a);t.addEventListener(c,i,l);const d=()=>{t.removeEventListener(c,i,l),o.delete(d)};return o.add(d),d}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class Iv{constructor(){Qe(this,"_timeouts",new Map)}add(t,s,r=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(s,r,...i))}remove(t){const s=this._timeouts.get(t);s&&window.clearTimeout(s)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class Vv{constructor(t){Qe(this,"gestures",new Set),Qe(this,"_targetEventStore",new Jd(this)),Qe(this,"gestureEventStores",{}),Qe(this,"gestureTimeoutStores",{}),Qe(this,"handlers",{}),Qe(this,"config",{}),Qe(this,"pointerIds",new Set),Qe(this,"touchIds",new Set),Qe(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Ov(this,t)}setEventIds(t){if(Gr(t))return this.touchIds=new Set(lv(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,s){this.handlers=t,this.nativeHandlers=s}applyConfig(t,s){this.config=Lv(t,s,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const s=this.config.shared,r={};let i;if(!(s.target&&(i=s.target(),!i))){if(s.enabled){for(const o of this.gestures){const c=this.config[o],h=Vl(r,c.eventOptions,!!i);if(c.enabled){const l=Zd.get(o);new l(this,t,o).bind(h)}}const a=Vl(r,s.eventOptions,!!i);for(const o in this.nativeHandlers)a(o,"",c=>this.nativeHandlers[o](Ee(Ee({},this.state.shared),{},{event:c,args:t})),void 0,!0)}for(const a in r)r[a]=uv(...r[a]);if(!i)return r;for(const a in r){const{device:o,capture:c,passive:h}=nv(a);this._targetEventStore.add(i,o,"",r[a],{capture:c,passive:h})}}}}function rs(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Jd(e,t),e.gestureTimeoutStores[t]=new Iv}function Ov(e,t){t.drag&&rs(e,"drag"),t.wheel&&rs(e,"wheel"),t.scroll&&rs(e,"scroll"),t.move&&rs(e,"move"),t.pinch&&rs(e,"pinch"),t.hover&&rs(e,"hover")}const Vl=(e,t,s)=>(r,i,a,o={},c=!1)=>{var h,l;const d=(h=o.capture)!==null&&h!==void 0?h:t.capture,u=(l=o.passive)!==null&&l!==void 0?l:t.passive;let f=c?r:sv(r,i,d);s&&u&&(f+="Passive"),e[f]=e[f]||[],e[f].push(a)};function qv(e,t={},s,r){const i=$.useMemo(()=>new Vv(e),[]);if(i.applyHandlers(e,r),i.applyConfig(t,s),$.useEffect(i.effect.bind(i)),$.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function zv(e,t){return Tv(Pv),qv({drag:e},t||{},"drag")}const $v=ou("pk_test_51I4w7tH6yOvhR5k1FrjaRKUcGG3LLzcuTx1LOWJj6bprUylHErpYHXsSRFxfdepAxz3KDbPLp2cDjpP54AWdc9qG00C8jcO2o4");function Uv({isOpen:e,onClose:t,onComplete:s,deviceUuid:r,userId:i}){return e?n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[n.jsx("h2",{className:"text-xl font-bold mb-4",children:"Set Up Payment Method"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Add a payment method to start tipping. Your payment information is securely stored."}),n.jsx(lu,{stripe:$v,children:n.jsx(Wv,{deviceUuid:r,userId:i,onComplete:s,onClose:t})})]})}):null}function Wv({deviceUuid:e,userId:t,onComplete:s,onClose:r}){var m,x,b;const i=cu(),a=du(),[o,c]=j.useState(!1),[h,l]=j.useState(null),[d,u]=j.useState(null);j.useEffect(()=>{if(i){const p=i.paymentRequest({country:"US",currency:"usd",total:{label:"Tipply Tip",amount:100},requestPayerName:!0,requestPayerEmail:!0});p.canMakePayment().then(g=>{console.log("Payment Request canMakePayment result:",g),g&&(u(p),console.log("Payment Request is available:",g.applePay?"Apple Pay":"Google Pay"))}),p.on("paymentmethod",async g=>{console.log("Payment Request paymentmethod event:",g);try{c(!0),l(null);const v=await fetch(`${$t()}/api/stripe/setup-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deviceUuid:e,userId:t})});if(!v.ok){g.complete("fail"),l("Failed to create setup intent"),c(!1);return}const y=await v.json(),{error:w}=await i.confirmCardSetup(y.clientSecret,{payment_method:g.paymentMethod.id});w?(console.error("Payment Request setup error:",w),g.complete("fail"),l(w.message||"Payment setup failed")):(console.log("Payment Request setup successful"),g.complete("success"),Ge.success("Payment method added successfully!"),s())}catch(v){console.error("Payment Request error:",v),g.complete("fail"),l("Payment setup failed")}finally{c(!1)}}),p.on("cancel",()=>{console.log("Payment Request cancelled")})}},[i,e,t,s]);const f=async p=>{if(p.preventDefault(),!(!i||!a)){c(!0),l(null);try{const g=await fetch(`${$t()}/api/stripe/setup-intent`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deviceUuid:e,userId:t})});if(!g.ok){const C=await g.text();console.error("Setup intent error:",C),l(`Server error: ${g.status} - ${C}`),c(!1);return}const v=await g.json();if(console.log("Setup intent response:",v),!v.clientSecret){l("Failed to get setup intent - no client secret"),c(!1);return}const y=a.getElement(Ma);if(!y){l("Card input not found"),c(!1);return}console.log("Confirming card setup with client secret:",v.clientSecret);const w=await i.confirmCardSetup(v.clientSecret,{payment_method:{card:y}});console.log("Card setup result:",w),w.error?l(w.error.message||"Card error"):(console.log("Payment method setup successful:",w.setupIntent),Ge.success("Payment method added successfully!"),s())}catch(g){console.error("Card submission error:",g),l(`Network error: ${g instanceof Error?g.message:"Unknown error"}`)}finally{c(!1)}}};return n.jsxs("div",{className:"space-y-4",children:[d?n.jsxs("div",{className:"mb-4",children:[n.jsx("div",{className:"mb-2",children:n.jsx("button",{onClick:()=>d.show(),disabled:!((m=d.canMakePayment())!=null&&m.applePay)||o,className:"w-full bg-black text-white py-3 px-4 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",children:(x=d.canMakePayment())!=null&&x.applePay?"Pay with Apple Pay":"Pay with Google Pay"})}),n.jsxs("div",{className:"text-center text-xs text-gray-500",children:[(b=d.canMakePayment())!=null&&b.applePay?"Apple Pay":"Google Pay"," supported"]})]}):n.jsx("div",{className:"text-center text-sm text-gray-500 mb-4",children:"Apple Pay / Google Pay not available"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("span",{className:"w-full border-t"})}),n.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:n.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or add a card"})})]}),n.jsxs("form",{onSubmit:f,className:"space-y-4",children:[n.jsx("div",{className:"border rounded-lg p-3",children:n.jsx(Ma,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})}),h&&n.jsx("div",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg",children:h}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"submit",disabled:o||!i,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:o?"Processing...":"Add Payment Method"}),n.jsx("button",{type:"button",onClick:r,disabled:o,className:"bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})}const Hv=({deviceUuid:e,userTempId:t,onSongSelect:s,onBackToTip:r,isVisible:i})=>{const[a,o]=j.useState(""),[c,h]=j.useState([]),[l,d]=j.useState(!1),[u,f]=j.useState(""),[m,x]=j.useState(null),[b,p]=j.useState(!1),[g,v]=j.useState(""),[y,w]=j.useState(""),C=j.useRef(null);j.useEffect(()=>{i&&C.current&&setTimeout(()=>{var B;(B=C.current)==null||B.focus()},300)},[i]),j.useEffect(()=>{i&&t&&S()},[i,t]);const S=async()=>{try{const B=await fetch(`${qe}/api/songcatalog/daily-tips/${t}`);if(B.ok){const N=await B.json();x(N)}}catch(B){console.error("Error loading daily total:",B)}},E=async B=>{if(!B.trim()){h([]),p(!1);return}d(!0),p(!0);try{const N=await fetch(`${qe}/api/songcatalog/performer/${e}?search=${encodeURIComponent(B)}&limit=50`);if(N.ok){const A=await N.json();h(A);const F=N.headers.get("X-Performer-Name");F&&!u&&f(F)}}catch(N){console.error("Error searching songs:",N)}finally{d(!1)}};j.useEffect(()=>{const B=setTimeout(()=>{E(a)},300);return()=>clearTimeout(B)},[a]);const k=B=>{s({id:B.id,title:B.songTitle,artist:B.artist,requestorName:g.trim()||void 0,note:y.trim()||void 0})};return n.jsx($s,{children:i&&n.jsxs(we.div,{initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},transition:{type:"spring",damping:30,stiffness:300},className:"fixed inset-0 bg-gradient-to-br from-purple-50 to-blue-50 z-50 flex flex-col",children:[n.jsx("div",{className:"bg-white/90 backdrop-blur-sm shadow-sm border-b border-gray-200",children:n.jsxs("div",{className:"px-6 py-4",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs(we.button,{whileTap:{scale:.95},onClick:r,className:"flex items-center space-x-2 text-gray-600 hover:text-gray-800 transition-colors",children:[n.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),n.jsx("span",{className:"font-medium",children:"Back to Tip"})]}),m&&n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Today's Tips"}),n.jsxs("div",{className:"font-semibold text-green-600",children:["$",m.totalAmount.toFixed(2)," (",m.tipCount,")"]})]})]}),u&&n.jsxs("div",{className:"text-center mb-4",children:[n.jsxs("h1",{className:"text-xl font-bold text-gray-900",children:[" Request a Song from ",u]}),n.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Search their catalog and make a request with your tip"})]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{ref:C,type:"text",value:a,onChange:B=>o(B.target.value),placeholder:"Search by song, artist, album, or genre...",className:"w-full px-4 py-3 pl-12 bg-white border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent shadow-sm text-lg"}),n.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2",children:l?n.jsx(we.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-5 h-5 border-2 border-purple-300 border-t-purple-600 rounded-full"}):n.jsx("svg",{className:"w-5 h-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]})}),n.jsx("div",{className:"flex-1 overflow-auto pb-4",children:n.jsxs("div",{className:"px-6 py-4",children:[!b&&!a.trim()&&n.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-100 to-blue-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx("svg",{className:"w-10 h-10 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})})}),n.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Start typing to search songs"}),n.jsx("p",{className:"text-gray-600 max-w-sm mx-auto",children:"Type any part of a song title, artist name, album, or genre to find what you're looking for"})]}),b&&c.length===0&&!l&&n.jsxs(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),n.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"No songs found"}),n.jsx("p",{className:"text-gray-600",children:"Try searching with different keywords"})]}),n.jsx("div",{className:"space-y-3",children:n.jsx($s,{children:c.map((B,N)=>n.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:N*.05},className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:n.jsx("div",{className:"p-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-900 truncate",children:B.songTitle}),n.jsxs("p",{className:"text-gray-600 text-sm truncate",children:["by ",B.artist]}),B.album&&n.jsxs("p",{className:"text-gray-500 text-xs truncate mt-1",children:["Album: ",B.album]}),B.genre&&n.jsx("span",{className:"inline-block mt-2 px-2 py-1 bg-purple-100 text-purple-700 text-xs rounded-full",children:B.genre})]}),n.jsx(we.button,{whileTap:{scale:.95},onClick:()=>k(B),className:"ml-4 px-6 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white font-medium rounded-lg hover:from-purple-700 hover:to-blue-700 transition-all duration-200 shadow-md",children:"Request"})]})})},B.id))})})]})}),n.jsx(we.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white/95 backdrop-blur-sm border-t border-gray-200 px-6 py-4",children:n.jsxs("div",{className:"mb-3",children:[n.jsx("p",{className:"text-xs text-gray-500 text-center mb-3",children:" Optional: Add your name or a note with your request"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{children:n.jsx("input",{type:"text",value:g,onChange:B=>v(B.target.value),placeholder:"Your name (optional)",className:"w-full px-3 py-2 bg-white/80 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm placeholder-gray-400",maxLength:50})}),n.jsxs("div",{children:[n.jsx("textarea",{value:y,onChange:B=>w(B.target.value),placeholder:"Add a note or special message (optional)",rows:2,className:"w-full px-3 py-2 bg-white/80 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500 focus:border-transparent text-sm placeholder-gray-400 resize-none",maxLength:200}),y.length>0&&n.jsxs("div",{className:"text-xs text-gray-400 text-right mt-1",children:[y.length,"/200"]})]})]})]})})]})})},Kv=()=>{const{deviceId:e}=Ku(),[t,s]=j.useState(1),[r,i]=j.useState(0),[a,o]=j.useState(!1),[c,h]=j.useState(null),[l,d]=j.useState(!1),[u,f]=j.useState(!1),[m,x]=j.useState(!1),[b,p]=j.useState(""),[g,v]=j.useState(!0),[y,w]=j.useState(!1),[C,S]=j.useState(!0),[E,k]=j.useState(!1),[B,N]=j.useState(!1),[A,F]=j.useState(!1),[P,U]=j.useState(!1),[O,q]=j.useState(null),[G,Q]=j.useState(!0),[L,X]=j.useState(!1),[T,M]=j.useState(null),_=j.useRef(null),R=j.useRef(null),ae=j.useRef(null),H=[1,5,10,20,50,100],xe=H.indexOf(t);j.useEffect(()=>(document.body.style.overflow="hidden",()=>{document.body.style.overflow="auto"}),[]),j.useEffect(()=>{const Y=()=>{const W=window.innerWidth<=768;S(W)};return Y(),window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),j.useEffect(()=>{(async()=>{let W=localStorage.getItem("tipply_user_id");W||(W=`user_${Date.now()}_${Math.random().toString(36).substring(2,15)}`,localStorage.setItem("tipply_user_id",W));try{const re=await fetch(`${$t()}/api/songcatalog/user/${W}`);if(re.ok){const _e=await re.json();p(_e.userId),console.log("User initialized:",{tempId:W,userId:_e.userId})}else console.error("Failed to get user UUID from backend"),p(W)}catch(re){console.error("Error initializing user:",re),p(W)}})()},[]);const ee=async()=>{try{if(ae.current||(ae.current=new(window.AudioContext||window.webkitAudioContext)),ae.current.state==="suspended"&&await ae.current.resume(),R.current){R.current.volume=0;const Y=R.current.play();Y!==void 0&&await Y,R.current.pause(),R.current.currentTime=0,R.current.volume=1,N(!0),console.log("Audio enabled successfully")}}catch(Y){console.log("Audio enable failed:",Y)}};j.useEffect(()=>{b&&Ae()},[b]),j.useEffect(()=>{c&&b&&I()},[c,b]),j.useEffect(()=>{c&&b&&!g&&I()},[]),j.useEffect(()=>{const Y=async()=>{try{console.log("=== CHECKING AWS IoT CONNECTION STATUS ===");const re=await pe.getAwsIotStatus();re.data?(console.log("Full AWS IoT Status Response:",JSON.stringify(re.data,null,2)),console.log("=== CERTIFICATE DETAILS ==="),console.log("Cert Files Exist:",re.data.certFilesExist),console.log("Cert Path:",re.data.certPath),console.log("Certificate Exists:",re.data.certificateExists),console.log("Private Key Exists:",re.data.privateKeyExists),console.log("Root CA Exists:",re.data.rootCaExists),console.log("=== END CERTIFICATE DETAILS ==="),re.data.isConnected?console.log(" AWS IoT MQTT service is CONNECTED and ready to send messages to devices"):(console.log(" AWS IoT MQTT service is NOT CONNECTED - messages will not be sent to devices"),console.log(" Connection Error Details:",re.data.message||"No error message provided"),console.log(" Timestamp:",re.data.timestamp||"No timestamp"),console.log(" Certificate Files Exist:",re.data.certFilesExist),console.log(" Certificate Path:",re.data.certPath),console.log(" Certificate Exists:",re.data.certificateExists),console.log(" Private Key Exists:",re.data.privateKeyExists),console.log(" Root CA Exists:",re.data.rootCaExists),re.data.connectionError&&console.log(" AWS IoT Connection Error:",re.data.connectionError))):(console.log(" Failed to check AWS IoT status:",re.error),console.log(" Full error response:",re)),console.log("=== END AWS IoT STATUS CHECK ===")}catch(re){console.log(" Error checking AWS IoT status:",re),re instanceof Error?console.log(" Error details:",{message:re.message,stack:re.stack,name:re.name}):console.log(" Unknown error type:",re)}};Y();const W=setInterval(Y,3e4);return()=>clearInterval(W)},[]);const Ae=async()=>{try{o(!0),console.log("Fetching device info for device ID:",e);const Y=await fetch(`${$t()}/api/devices/${e}`);if(Y.ok){const W=await Y.json();if(console.log("Device info received:",W),h(W),!W.stripeAccountId){Ge.error("This device is not set up for receiving tips yet");return}}else{console.error("Failed to fetch device info"),Ge.error("Device not found");return}}catch(Y){console.error("Error fetching device info:",Y),Ge.error("Error loading device information");return}finally{o(!1)}},I=async()=>{try{v(!0),console.log("Checking payment methods for user:",b);const Y=await fetch(`${$t()}/api/stripe/check-payment-methods`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deviceUuid:(c==null?void 0:c.uuid)||"",userId:b})});if(Y.ok){const W=await Y.json();console.log("Payment methods check result:",W),W.hasPaymentMethods?(console.log("User has payment methods, no setup needed"),f(!0),d(!1)):(console.log("No payment methods found, showing setup modal immediately"),f(!1),d(!0))}else console.error("Failed to check payment methods"),f(!1),d(!0)}catch(Y){console.error("Error checking payment methods:",Y),f(!1),d(!0)}finally{v(!1)}},K=()=>{f(!0),d(!1),Ge.success("Payment method setup complete!")},te=Y=>{M(Y),X(!1),Ge.success(`Song "${Y.title}" selected! Now choose your tip amount and swipe up.`)},oe=Y=>{if(console.log("Touch start detected",Y.touches.length,"touches"),Y.touches.length===1){const W=Y.touches[0],re=W.clientX,_e=W.clientY;console.log("Touch start position:",{startX:re,startY:_e}),_.current&&(_.current.touchStartX=re,_.current.touchStartY=_e)}},Z=Y=>{console.log("Touch move detected",Y.touches.length,"touches")},je=Y=>{if(console.log("Touch end detected",Y.changedTouches.length,"touches"),Y.changedTouches.length===1&&_.current){const W=Y.changedTouches[0],re=W.clientX,_e=W.clientY,et=_.current.touchStartX,Ne=_.current.touchStartY;if(et!==void 0&&Ne!==void 0){const Pe=re-et,Ue=_e-Ne,dt=60;if(console.log("Touch gesture analysis:",{startX:et,startY:Ne,endX:re,endY:_e,deltaX:Pe,deltaY:Ue}),Math.abs(Pe)>dt&&Math.abs(Pe)>Math.abs(Ue))if(Pe>0){console.log("Manual swipe right detected");const Ie=(xe+1)%H.length;s(H[Ie])}else{console.log("Manual swipe left detected");const Ie=xe===0?H.length-1:xe-1;s(H[Ie])}Ue<-dt&&Math.abs(Ue)>Math.abs(Pe)&&!E&&!g&&u&&G&&de()}}},[V]=R1(()=>({x:0,y:0,scale:1,rotate:0,config:{mass:.6,tension:500,friction:20,precision:.01}})),se=zv(async({offset:[Y,W],direction:[re,_e],cancel:et,canceled:Ne,last:Pe})=>{if(!(Ne||!Pe)){if(B||ee().catch(()=>{}),Math.abs(Y)>60){if(re>0){const Ue=(xe+1)%H.length;q("right"),U(!0),setTimeout(()=>{s(H[Ue]),U(!1),q(null)},300)}else{const Ue=xe===0?H.length-1:xe-1;q("left"),F(!0),setTimeout(()=>{s(H[Ue]),F(!1),q(null)},300)}et()}if(_e<0&&Math.abs(W)>60){if(!E&&!g&&G){if(!u){d(!0),Ge.info("Please set up a payment method first");return}de()}et()}}},{filterTaps:!0,threshold:10,preventDefault:!1,from:()=>[0,0],rubberband:!0,bounds:{left:-150,right:150,top:-150,bottom:150}}),de=async()=>{if(!c){Ge.error("Device information not loaded yet");return}if(g){Ge.info("Please wait while we check your payment methods...");return}if(!u){d(!0),Ge.info("Please set up a payment method first");return}if(k(!0),x(!0),Q(!1),i(Y=>Y+t),R.current)try{ae.current&&ae.current.state==="suspended"&&ae.current.resume().catch(()=>{}),R.current.currentTime=0,R.current.volume=1,R.current.playbackRate=1,R.current.play().catch(()=>{})}catch{}try{(await pe.submitTip({deviceId:c.uuid,userId:b,amount:t,effect:me(t),duration:3e3})).data?(Ge.success(`$${t} tip submitted!`),T&&fetch(`${$t()}/api/songcatalog/request`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deviceUuid:c==null?void 0:c.uuid,songId:T.id,participantId:b,tipAmount:t,requestorName:T.requestorName,note:T.note})}).catch(()=>{})):Ge.error("Failed to submit tip. Please try again.")}catch{Ge.error("Failed to submit tip. Please try again.")}setTimeout(()=>{fetch("https://uhxejjh8s1.execute-api.us-east-1.amazonaws.com/dev/api/tips/test-mqtt-connect",{method:"POST",headers:{"Content-Type":"application/json"}}).catch(()=>{}),pe.getAwsIotStatus().catch(()=>{})},100),setTimeout(()=>{k(!1),x(!1)},900)},me=Y=>Y>=50?"rainbow":Y>=20?"pulse":Y>=10?"flash":"glow",be=Y=>{const W={1:"/images/1dollar.png",5:"/images/5dollars.png",10:"/images/10dollars.png",20:"/images/20dollars.png",50:"/images/50dollars.png",100:"/images/100dollars.png"};return W[Y]||W[1]};return a||g?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c?C?n.jsxs("div",{"data-route":"tipping",className:"tipping-interface-fullscreen relative w-full h-screen overflow-hidden bg-gradient-to-br from-green-50 to-blue-50",style:{width:"100vw",height:"100vh",minHeight:"-webkit-fill-available",margin:0,padding:0,position:"fixed",top:0,left:0,right:0,bottom:0},children:[n.jsx("audio",{ref:R,preload:"auto",children:n.jsx("source",{src:"/sound/cashRegisterSound.mp3",type:"audio/mpeg"})}),n.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 p-4 bg-white/30 backdrop-blur-sm",children:n.jsxs("div",{className:"text-center",children:[T&&n.jsx(we.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-2 bg-purple-600/90 backdrop-blur-sm rounded-lg px-3 py-1 mx-auto inline-block",children:n.jsxs("span",{className:"text-white text-sm font-medium",children:[" ",T.title," by ",T.artist]})}),n.jsxs("h1",{className:"text-xl font-bold mb-1 text-white drop-shadow-lg",children:[" Tip ",c.ownerFirstName," ",c.ownerLastName]}),n.jsx("p",{className:"text-sm text-gray-800 font-medium drop-shadow-lg",children:"Swipe to change amount  Swipe up to tip"}),g&&n.jsx(we.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 bg-blue-600/90 backdrop-blur-sm rounded-lg px-3 py-1 mx-auto inline-block",children:n.jsx("span",{className:"text-white text-sm font-medium",children:" Checking payment methods..."})}),!g&&!u&&n.jsx(we.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-2 bg-orange-600/90 backdrop-blur-sm rounded-lg px-3 py-1 mx-auto inline-block",children:n.jsx("span",{className:"text-white text-sm font-medium",children:" Payment method required"})}),!g&&!u&&n.jsx(we.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{delay:.2},className:"mt-2 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 mx-auto inline-block max-w-xs cursor-pointer hover:bg-white/95 transition-colors",onClick:()=>d(!0),children:n.jsx("p",{className:"text-gray-800 text-xs text-center leading-relaxed",children:"Tap here to set up your payment method and start tipping!"})})]})}),n.jsx(Uv,{isOpen:l,onClose:()=>d(!1),onComplete:K,deviceUuid:(c==null?void 0:c.uuid)||"",userId:b}),n.jsx("div",{className:"absolute inset-0 w-full h-full",style:{width:"100vw",height:"100vh",minHeight:"-webkit-fill-available",top:0,left:0,right:0,bottom:0,margin:0,padding:0},children:n.jsx(G1.div,{ref:_,...se(),onTouchStart:oe,onTouchMove:Z,onTouchEnd:je,style:{...V,width:"100%",height:"100%",cursor:"grab",userSelect:"none",WebkitUserSelect:"none",touchAction:"manipulation",position:"relative",zIndex:5,WebkitTouchCallout:"none",WebkitTapHighlightColor:"transparent",willChange:"transform",transform:"translateZ(0)",backfaceVisibility:"hidden"},className:"relative w-full h-full touch-manipulation",children:n.jsx($s,{children:n.jsxs(we.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.3},className:"relative w-full h-full",children:[n.jsx(we.img,{src:be(t),alt:`$${t} bill`,className:"w-full h-full object-cover min-w-full min-h-full",style:{width:"100vw",height:"100vh",minHeight:"-webkit-fill-available",objectFit:"cover",objectPosition:"center",margin:0,padding:0,position:"absolute",top:0,left:0,right:0,bottom:0},draggable:!1,initial:{y:0,scale:1,opacity:1,rotate:0,x:0},animate:{y:m?-800:0,scale:m?.1:A||P?.8:1,opacity:m||A||P?0:1,rotate:m?45:0,x:A?-1e3:P?1e3:0},transition:{duration:m?.6:.3,ease:m?"easeInOut":"easeOut"}},`${t}-${m?"flying":"static"}-${O||"center"}`),m&&n.jsx(we.div,{className:"absolute inset-0 pointer-events-none",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.8},children:[...Array(8)].map((Y,W)=>n.jsx(we.img,{src:be(t),alt:"mist particle",className:"absolute w-16 h-16 object-cover opacity-60",style:{left:`${20+W*10}%`,top:`${30+W*5}%`},initial:{scale:.3,opacity:.8,y:0,rotate:0},animate:{scale:.1,opacity:0,y:-400-W*50,rotate:180+W*45,x:(W%2===0?1:-1)*(100+W*20)},transition:{duration:.6,delay:W*.03,ease:"easeOut"}},`mist-${W}`))}),m&&n.jsx(we.img,{src:be(t),alt:`$${t} bill`,className:"absolute inset-0 w-full h-full object-cover min-w-full min-h-full",style:{width:"100vw",height:"100vh",minHeight:"-webkit-fill-available",objectFit:"cover",objectPosition:"center",margin:0,padding:0,position:"absolute",top:0,left:0,right:0,bottom:0},draggable:!1,initial:{y:1e3,scale:.8,opacity:0,rotate:0},animate:{y:0,scale:1,opacity:1,rotate:0},transition:{duration:.4,ease:"easeOut",delay:.6},onAnimationComplete:()=>{Q(!0)}}),(A||P)&&n.jsx(we.img,{src:be(t),alt:`$${t} bill`,className:"absolute inset-0 w-full h-full object-cover min-w-full min-h-full",style:{width:"100vw",height:"100vh",minHeight:"-webkit-fill-available",objectFit:"cover",objectPosition:"center",margin:0,padding:0,position:"absolute",top:0,left:0,right:0,bottom:0},draggable:!1,initial:{y:0,scale:.8,opacity:0,x:O==="left"?1e3:-1e3},animate:{y:0,scale:1,opacity:1,x:0},transition:{duration:.3,ease:"easeOut"}})]},t)})})}),n.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10",children:n.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full px-6 py-3 shadow-lg",children:n.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",t]})})}),(c==null?void 0:c.isAllowSongRequest)&&!L&&n.jsx(we.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"absolute top-20 left-4 z-10",children:n.jsxs(we.button,{whileTap:{scale:.95},onClick:()=>X(!0),className:"bg-gradient-to-r from-purple-600 to-blue-600 text-white px-3 py-2 rounded-lg shadow-lg backdrop-blur-sm text-sm flex items-center space-x-1.5 hover:from-purple-700 hover:to-blue-700 transition-all duration-200",children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),n.jsx("span",{children:" Request song"})]})}),n.jsx("div",{className:"absolute top-20 right-4 z-10",children:n.jsx(we.div,{className:"bg-green-500/90 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg",animate:r>0?{scale:[1,1.1,1]}:{},transition:{duration:.5},children:n.jsxs("span",{className:"text-white text-sm font-medium",children:["Total: $",r]})})}),y&&n.jsx("div",{className:"absolute inset-0 pointer-events-none z-20",children:[...Array(8)].map((Y,W)=>n.jsx(we.div,{className:"absolute text-2xl",initial:{x:Math.random()*window.innerWidth,y:window.innerHeight+50,opacity:1,scale:0},animate:{y:-100,opacity:[1,1,0],scale:[0,1,.8],rotate:[0,360]},transition:{duration:2,delay:W*.1,ease:"easeOut"},onAnimationComplete:()=>{W===7&&w(!1)},children:W%2===0?"":""},W))}),n.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 z-10",children:n.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-lg px-4 py-2",children:n.jsx("span",{className:"text-white text-sm",children:" Swipe to change   Swipe to tip"})})}),n.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10",children:n.jsx("div",{className:"bg-blue-500/50 backdrop-blur-sm rounded-full p-2",children:n.jsx("span",{className:"text-white text-xs",children:""})})}),n.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10",children:n.jsx("div",{className:"bg-blue-500/50 backdrop-blur-sm rounded-full p-2",children:n.jsx("span",{className:"text-white text-xs",children:""})})}),n.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:n.jsx("div",{className:"bg-green-500/50 backdrop-blur-sm rounded-full p-2",children:n.jsx("span",{className:"text-white text-xs",children:""})})}),n.jsx(Hv,{deviceUuid:(c==null?void 0:c.uuid)||"",userTempId:b,onSongSelect:te,onBackToTip:()=>X(!1),isVisible:L})]}):n.jsxs("div",{className:"desktop-warning",children:[n.jsx("h1",{children:" Mobile Only"}),n.jsx("p",{children:"This tipping interface is designed for mobile devices only. Please open this page on your smartphone or tablet for the best experience."})]}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center",children:n.jsx("div",{className:"text-center",children:n.jsx("p",{className:"text-red-600",children:"Device not found"})})})},Yv=()=>{const[e]=Rc(),t=ct(),[s,r]=j.useState("loading");return j.useEffect(()=>{const i=e.get("setup_intent"),a=e.get("setup_intent_client_secret");r(i&&a?"success":"error")},[e]),n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s==="loading"&&n.jsxs("div",{children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Processing payment setup..."})]}),s==="success"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-green-600 text-6xl mb-4",children:""}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Method Added!"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Your payment method has been successfully added and you can now make tips."}),n.jsx("button",{onClick:()=>t("/dashboard"),className:"btn-primary",children:"Continue"})]}),s==="error"&&n.jsxs("div",{children:[n.jsx("div",{className:"text-red-600 text-6xl mb-4",children:""}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Setup Failed"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"There was an issue setting up your payment method. Please try again."}),n.jsx("button",{onClick:()=>t("/dashboard"),className:"btn-secondary",children:"Go Back"})]})]})})},Gv=()=>{const[e]=Rc(),t=ct();j.useEffect(()=>{console.log("KYC Return - All search params:",Object.fromEntries(e.entries()));const r=e.get("account_id"),i=e.get("error"),a=e.get("state"),o=e.get("code");let c="unknown",h="";i?(console.log("KYC Return - Error detected:",i),c="failed",h="KYC verification failed. Please try again or contact support."):r||o||a?(console.log("KYC Return - Success indicators found:",{accountId:r,code:o,state:a}),c="success",h="KYC verification completed successfully! Your Stripe account is now enabled."):(console.log("KYC Return - No clear indicators, assuming success"),c="success",h="KYC verification completed successfully! Your Stripe account is now enabled.");const l={status:c,message:h,timestamp:new Date().toISOString()};sessionStorage.setItem("kyc_result",JSON.stringify(l)),localStorage.setItem("kyc_result",JSON.stringify(l)),console.log("KYC result stored:",l),s()},[e]);const s=async()=>{var r;try{const i=sessionStorage.getItem("onboarding_email"),a=sessionStorage.getItem("onboarding_password");if(!i||!a){console.error("No onboarding credentials found"),t("/dashboard");return}console.log("Attempting auto-login with email:",i);const o=await pe.login({email:i,password:a});if(o.error){console.error("Auto-login failed:",o.error),t("/dashboard");return}(r=o.data)!=null&&r.accessToken?(localStorage.setItem("token",o.data.accessToken),o.data.refreshToken&&localStorage.setItem("refreshToken",o.data.refreshToken),sessionStorage.removeItem("onboarding_email"),sessionStorage.removeItem("onboarding_password"),console.log("Auto-login successful, navigating to dashboard"),t("/dashboard")):(console.error("No access token received"),t("/dashboard"))}catch(i){console.error("Auto-login error:",i),t("/dashboard")}};return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsx("div",{className:"max-w-md mx-auto text-center",children:n.jsxs("div",{children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Processing KYC verification and logging you in..."}),n.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Redirecting to dashboard..."})]})})})},Xv=()=>{const e=ct(),[t,s]=j.useState(""),[r,i]=j.useState(!0);j.useEffect(()=>{a()},[]);const a=async()=>{try{const o=await fetch("/api/stripe/status");if(o.ok){const c=await o.json();s(c.status||"Unknown")}else s("Error")}catch{s("Error")}finally{i(!1)}};return r?n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-gray-600",children:"Checking Stripe status..."})]})}):n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"max-w-md mx-auto text-center",children:[n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Stripe Status"}),n.jsx("div",{className:"card",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:`text-4xl mb-4 ${t==="active"?"text-green-600":"text-red-600"}`,children:t==="active"?"":""}),n.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:t==="active"?"Stripe is Active":"Stripe is Inactive"}),n.jsx("p",{className:"text-gray-600",children:t==="active"?"Your Stripe account is properly configured and ready to process payments.":"There is an issue with your Stripe configuration. Please check your settings."})]})}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{onClick:()=>e("/dashboard"),className:"btn-primary",children:"Back to Dashboard"})})]})})};var eu={exports:{}};function Qv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var wn={exports:{}};const Zv={},Jv=Object.freeze(Object.defineProperty({__proto__:null,default:Zv},Symbol.toStringTag,{value:"Module"})),ey=iu(Jv);var Ol;function ve(){return Ol||(Ol=1,function(e,t){(function(s,r){e.exports=r()})(fe,function(){var s=s||function(r,i){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof fe<"u"&&fe.crypto&&(a=fe.crypto),!a&&typeof Qv=="function")try{a=ey}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function v(){}return function(y){var w;return v.prototype=y,w=new v,v.prototype=null,w}}(),h={},l=h.lib={},d=l.Base=function(){return{extend:function(v){var y=c(this);return v&&y.mixIn(v),(!y.hasOwnProperty("init")||this.init===y.init)&&(y.init=function(){y.$super.init.apply(this,arguments)}),y.init.prototype=y,y.$super=this,y},create:function(){var v=this.extend();return v.init.apply(v,arguments),v},init:function(){},mixIn:function(v){for(var y in v)v.hasOwnProperty(y)&&(this[y]=v[y]);v.hasOwnProperty("toString")&&(this.toString=v.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=l.WordArray=d.extend({init:function(v,y){v=this.words=v||[],y!=i?this.sigBytes=y:this.sigBytes=v.length*4},toString:function(v){return(v||m).stringify(this)},concat:function(v){var y=this.words,w=v.words,C=this.sigBytes,S=v.sigBytes;if(this.clamp(),C%4)for(var E=0;E<S;E++){var k=w[E>>>2]>>>24-E%4*8&255;y[C+E>>>2]|=k<<24-(C+E)%4*8}else for(var B=0;B<S;B+=4)y[C+B>>>2]=w[B>>>2];return this.sigBytes+=S,this},clamp:function(){var v=this.words,y=this.sigBytes;v[y>>>2]&=4294967295<<32-y%4*8,v.length=r.ceil(y/4)},clone:function(){var v=d.clone.call(this);return v.words=this.words.slice(0),v},random:function(v){for(var y=[],w=0;w<v;w+=4)y.push(o());return new u.init(y,v)}}),f=h.enc={},m=f.Hex={stringify:function(v){for(var y=v.words,w=v.sigBytes,C=[],S=0;S<w;S++){var E=y[S>>>2]>>>24-S%4*8&255;C.push((E>>>4).toString(16)),C.push((E&15).toString(16))}return C.join("")},parse:function(v){for(var y=v.length,w=[],C=0;C<y;C+=2)w[C>>>3]|=parseInt(v.substr(C,2),16)<<24-C%8*4;return new u.init(w,y/2)}},x=f.Latin1={stringify:function(v){for(var y=v.words,w=v.sigBytes,C=[],S=0;S<w;S++){var E=y[S>>>2]>>>24-S%4*8&255;C.push(String.fromCharCode(E))}return C.join("")},parse:function(v){for(var y=v.length,w=[],C=0;C<y;C++)w[C>>>2]|=(v.charCodeAt(C)&255)<<24-C%4*8;return new u.init(w,y)}},b=f.Utf8={stringify:function(v){try{return decodeURIComponent(escape(x.stringify(v)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(v){return x.parse(unescape(encodeURIComponent(v)))}},p=l.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(v){typeof v=="string"&&(v=b.parse(v)),this._data.concat(v),this._nDataBytes+=v.sigBytes},_process:function(v){var y,w=this._data,C=w.words,S=w.sigBytes,E=this.blockSize,k=E*4,B=S/k;v?B=r.ceil(B):B=r.max((B|0)-this._minBufferSize,0);var N=B*E,A=r.min(N*4,S);if(N){for(var F=0;F<N;F+=E)this._doProcessBlock(C,F);y=C.splice(0,N),w.sigBytes-=A}return new u.init(y,A)},clone:function(){var v=d.clone.call(this);return v._data=this._data.clone(),v},_minBufferSize:0});l.Hasher=p.extend({cfg:d.extend(),init:function(v){this.cfg=this.cfg.extend(v),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(v){return this._append(v),this._process(),this},finalize:function(v){v&&this._append(v);var y=this._doFinalize();return y},blockSize:16,_createHelper:function(v){return function(y,w){return new v.init(w).finalize(y)}},_createHmacHelper:function(v){return function(y,w){return new g.HMAC.init(v,w).finalize(y)}}});var g=h.algo={};return h}(Math);return s})}(wn)),wn.exports}var jn={exports:{}},ql;function Xr(){return ql||(ql=1,function(e,t){(function(s,r){e.exports=r(ve())})(fe,function(s){return function(r){var i=s,a=i.lib,o=a.Base,c=a.WordArray,h=i.x64={};h.Word=o.extend({init:function(l,d){this.high=l,this.low=d}}),h.WordArray=o.extend({init:function(l,d){l=this.words=l||[],d!=r?this.sigBytes=d:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,d=l.length,u=[],f=0;f<d;f++){var m=l[f];u.push(m.high),u.push(m.low)}return c.create(u,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),d=l.words=this.words.slice(0),u=d.length,f=0;f<u;f++)d[f]=d[f].clone();return l}})}(),s})}(jn)),jn.exports}var Cn={exports:{}},zl;function ty(){return zl||(zl=1,function(e,t){(function(s,r){e.exports=r(ve())})(fe,function(s){return function(){if(typeof ArrayBuffer=="function"){var r=s,i=r.lib,a=i.WordArray,o=a.init,c=a.init=function(h){if(h instanceof ArrayBuffer&&(h=new Uint8Array(h)),(h instanceof Int8Array||typeof Uint8ClampedArray<"u"&&h instanceof Uint8ClampedArray||h instanceof Int16Array||h instanceof Uint16Array||h instanceof Int32Array||h instanceof Uint32Array||h instanceof Float32Array||h instanceof Float64Array)&&(h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength)),h instanceof Uint8Array){for(var l=h.byteLength,d=[],u=0;u<l;u++)d[u>>>2]|=h[u]<<24-u%4*8;o.call(this,d,l)}else o.apply(this,arguments)};c.prototype=a}}(),s.lib.WordArray})}(Cn)),Cn.exports}var Nn={exports:{}},$l;function sy(){return $l||($l=1,function(e,t){(function(s,r){e.exports=r(ve())})(fe,function(s){return function(){var r=s,i=r.lib,a=i.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(h){for(var l=h.words,d=h.sigBytes,u=[],f=0;f<d;f+=2){var m=l[f>>>2]>>>16-f%4*8&65535;u.push(String.fromCharCode(m))}return u.join("")},parse:function(h){for(var l=h.length,d=[],u=0;u<l;u++)d[u>>>1]|=h.charCodeAt(u)<<16-u%2*16;return a.create(d,l*2)}},o.Utf16LE={stringify:function(h){for(var l=h.words,d=h.sigBytes,u=[],f=0;f<d;f+=2){var m=c(l[f>>>2]>>>16-f%4*8&65535);u.push(String.fromCharCode(m))}return u.join("")},parse:function(h){for(var l=h.length,d=[],u=0;u<l;u++)d[u>>>1]|=c(h.charCodeAt(u)<<16-u%2*16);return a.create(d,l*2)}};function c(h){return h<<8&4278255360|h>>>8&16711935}}(),s.enc.Utf16})}(Nn)),Nn.exports}var Sn={exports:{}},Ul;function Qt(){return Ul||(Ul=1,function(e,t){(function(s,r){e.exports=r(ve())})(fe,function(s){return function(){var r=s,i=r.lib,a=i.WordArray,o=r.enc;o.Base64={stringify:function(h){var l=h.words,d=h.sigBytes,u=this._map;h.clamp();for(var f=[],m=0;m<d;m+=3)for(var x=l[m>>>2]>>>24-m%4*8&255,b=l[m+1>>>2]>>>24-(m+1)%4*8&255,p=l[m+2>>>2]>>>24-(m+2)%4*8&255,g=x<<16|b<<8|p,v=0;v<4&&m+v*.75<d;v++)f.push(u.charAt(g>>>6*(3-v)&63));var y=u.charAt(64);if(y)for(;f.length%4;)f.push(y);return f.join("")},parse:function(h){var l=h.length,d=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var f=0;f<d.length;f++)u[d.charCodeAt(f)]=f}var m=d.charAt(64);if(m){var x=h.indexOf(m);x!==-1&&(l=x)}return c(h,l,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(h,l,d){for(var u=[],f=0,m=0;m<l;m++)if(m%4){var x=d[h.charCodeAt(m-1)]<<m%4*2,b=d[h.charCodeAt(m)]>>>6-m%4*2,p=x|b;u[f>>>2]|=p<<24-f%4*8,f++}return a.create(u,f)}}(),s.enc.Base64})}(Sn)),Sn.exports}var En={exports:{}},Wl;function ry(){return Wl||(Wl=1,function(e,t){(function(s,r){e.exports=r(ve())})(fe,function(s){return function(){var r=s,i=r.lib,a=i.WordArray,o=r.enc;o.Base64url={stringify:function(h,l){l===void 0&&(l=!0);var d=h.words,u=h.sigBytes,f=l?this._safe_map:this._map;h.clamp();for(var m=[],x=0;x<u;x+=3)for(var b=d[x>>>2]>>>24-x%4*8&255,p=d[x+1>>>2]>>>24-(x+1)%4*8&255,g=d[x+2>>>2]>>>24-(x+2)%4*8&255,v=b<<16|p<<8|g,y=0;y<4&&x+y*.75<u;y++)m.push(f.charAt(v>>>6*(3-y)&63));var w=f.charAt(64);if(w)for(;m.length%4;)m.push(w);return m.join("")},parse:function(h,l){l===void 0&&(l=!0);var d=h.length,u=l?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<u.length;m++)f[u.charCodeAt(m)]=m}var x=u.charAt(64);if(x){var b=h.indexOf(x);b!==-1&&(d=b)}return c(h,d,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(h,l,d){for(var u=[],f=0,m=0;m<l;m++)if(m%4){var x=d[h.charCodeAt(m-1)]<<m%4*2,b=d[h.charCodeAt(m)]>>>6-m%4*2,p=x|b;u[f>>>2]|=p<<24-f%4*8,f++}return a.create(u,f)}}(),s.enc.Base64url})}(En)),En.exports}var An={exports:{}},Hl;function Zt(){return Hl||(Hl=1,function(e,t){(function(s,r){e.exports=r(ve())})(fe,function(s){return function(r){var i=s,a=i.lib,o=a.WordArray,c=a.Hasher,h=i.algo,l=[];(function(){for(var b=0;b<64;b++)l[b]=r.abs(r.sin(b+1))*4294967296|0})();var d=h.MD5=c.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(b,p){for(var g=0;g<16;g++){var v=p+g,y=b[v];b[v]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360}var w=this._hash.words,C=b[p+0],S=b[p+1],E=b[p+2],k=b[p+3],B=b[p+4],N=b[p+5],A=b[p+6],F=b[p+7],P=b[p+8],U=b[p+9],O=b[p+10],q=b[p+11],G=b[p+12],Q=b[p+13],L=b[p+14],X=b[p+15],T=w[0],M=w[1],_=w[2],R=w[3];T=u(T,M,_,R,C,7,l[0]),R=u(R,T,M,_,S,12,l[1]),_=u(_,R,T,M,E,17,l[2]),M=u(M,_,R,T,k,22,l[3]),T=u(T,M,_,R,B,7,l[4]),R=u(R,T,M,_,N,12,l[5]),_=u(_,R,T,M,A,17,l[6]),M=u(M,_,R,T,F,22,l[7]),T=u(T,M,_,R,P,7,l[8]),R=u(R,T,M,_,U,12,l[9]),_=u(_,R,T,M,O,17,l[10]),M=u(M,_,R,T,q,22,l[11]),T=u(T,M,_,R,G,7,l[12]),R=u(R,T,M,_,Q,12,l[13]),_=u(_,R,T,M,L,17,l[14]),M=u(M,_,R,T,X,22,l[15]),T=f(T,M,_,R,S,5,l[16]),R=f(R,T,M,_,A,9,l[17]),_=f(_,R,T,M,q,14,l[18]),M=f(M,_,R,T,C,20,l[19]),T=f(T,M,_,R,N,5,l[20]),R=f(R,T,M,_,O,9,l[21]),_=f(_,R,T,M,X,14,l[22]),M=f(M,_,R,T,B,20,l[23]),T=f(T,M,_,R,U,5,l[24]),R=f(R,T,M,_,L,9,l[25]),_=f(_,R,T,M,k,14,l[26]),M=f(M,_,R,T,P,20,l[27]),T=f(T,M,_,R,Q,5,l[28]),R=f(R,T,M,_,E,9,l[29]),_=f(_,R,T,M,F,14,l[30]),M=f(M,_,R,T,G,20,l[31]),T=m(T,M,_,R,N,4,l[32]),R=m(R,T,M,_,P,11,l[33]),_=m(_,R,T,M,q,16,l[34]),M=m(M,_,R,T,L,23,l[35]),T=m(T,M,_,R,S,4,l[36]),R=m(R,T,M,_,B,11,l[37]),_=m(_,R,T,M,F,16,l[38]),M=m(M,_,R,T,O,23,l[39]),T=m(T,M,_,R,Q,4,l[40]),R=m(R,T,M,_,C,11,l[41]),_=m(_,R,T,M,k,16,l[42]),M=m(M,_,R,T,A,23,l[43]),T=m(T,M,_,R,U,4,l[44]),R=m(R,T,M,_,G,11,l[45]),_=m(_,R,T,M,X,16,l[46]),M=m(M,_,R,T,E,23,l[47]),T=x(T,M,_,R,C,6,l[48]),R=x(R,T,M,_,F,10,l[49]),_=x(_,R,T,M,L,15,l[50]),M=x(M,_,R,T,N,21,l[51]),T=x(T,M,_,R,G,6,l[52]),R=x(R,T,M,_,k,10,l[53]),_=x(_,R,T,M,O,15,l[54]),M=x(M,_,R,T,S,21,l[55]),T=x(T,M,_,R,P,6,l[56]),R=x(R,T,M,_,X,10,l[57]),_=x(_,R,T,M,A,15,l[58]),M=x(M,_,R,T,Q,21,l[59]),T=x(T,M,_,R,B,6,l[60]),R=x(R,T,M,_,q,10,l[61]),_=x(_,R,T,M,E,15,l[62]),M=x(M,_,R,T,U,21,l[63]),w[0]=w[0]+T|0,w[1]=w[1]+M|0,w[2]=w[2]+_|0,w[3]=w[3]+R|0},_doFinalize:function(){var b=this._data,p=b.words,g=this._nDataBytes*8,v=b.sigBytes*8;p[v>>>5]|=128<<24-v%32;var y=r.floor(g/4294967296),w=g;p[(v+64>>>9<<4)+15]=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,p[(v+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,b.sigBytes=(p.length+1)*4,this._process();for(var C=this._hash,S=C.words,E=0;E<4;E++){var k=S[E];S[E]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}return C},clone:function(){var b=c.clone.call(this);return b._hash=this._hash.clone(),b}});function u(b,p,g,v,y,w,C){var S=b+(p&g|~p&v)+y+C;return(S<<w|S>>>32-w)+p}function f(b,p,g,v,y,w,C){var S=b+(p&v|g&~v)+y+C;return(S<<w|S>>>32-w)+p}function m(b,p,g,v,y,w,C){var S=b+(p^g^v)+y+C;return(S<<w|S>>>32-w)+p}function x(b,p,g,v,y,w,C){var S=b+(g^(p|~v))+y+C;return(S<<w|S>>>32-w)+p}i.MD5=c._createHelper(d),i.HmacMD5=c._createHmacHelper(d)}(Math),s.MD5})}(An)),An.exports}var kn={exports:{}},Kl;function tu(){return Kl||(Kl=1,function(e,t){(function(s,r){e.exports=r(ve())})(fe,function(s){return function(){var r=s,i=r.lib,a=i.WordArray,o=i.Hasher,c=r.algo,h=[],l=c.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,u){for(var f=this._hash.words,m=f[0],x=f[1],b=f[2],p=f[3],g=f[4],v=0;v<80;v++){if(v<16)h[v]=d[u+v]|0;else{var y=h[v-3]^h[v-8]^h[v-14]^h[v-16];h[v]=y<<1|y>>>31}var w=(m<<5|m>>>27)+g+h[v];v<20?w+=(x&b|~x&p)+1518500249:v<40?w+=(x^b^p)+1859775393:v<60?w+=(x&b|x&p|b&p)-1894007588:w+=(x^b^p)-899497514,g=p,p=b,b=x<<30|x>>>2,x=m,m=w}f[0]=f[0]+m|0,f[1]=f[1]+x|0,f[2]=f[2]+b|0,f[3]=f[3]+p|0,f[4]=f[4]+g|0},_doFinalize:function(){var d=this._data,u=d.words,f=this._nDataBytes*8,m=d.sigBytes*8;return u[m>>>5]|=128<<24-m%32,u[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),u[(m+64>>>9<<4)+15]=f,d.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var d=o.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA1=o._createHelper(l),r.HmacSHA1=o._createHmacHelper(l)}(),s.SHA1})}(kn)),kn.exports}var Dn={exports:{}},Yl;function _a(){return Yl||(Yl=1,function(e,t){(function(s,r){e.exports=r(ve())})(fe,function(s){return function(r){var i=s,a=i.lib,o=a.WordArray,c=a.Hasher,h=i.algo,l=[],d=[];(function(){function m(g){for(var v=r.sqrt(g),y=2;y<=v;y++)if(!(g%y))return!1;return!0}function x(g){return(g-(g|0))*4294967296|0}for(var b=2,p=0;p<64;)m(b)&&(p<8&&(l[p]=x(r.pow(b,1/2))),d[p]=x(r.pow(b,1/3)),p++),b++})();var u=[],f=h.SHA256=c.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(m,x){for(var b=this._hash.words,p=b[0],g=b[1],v=b[2],y=b[3],w=b[4],C=b[5],S=b[6],E=b[7],k=0;k<64;k++){if(k<16)u[k]=m[x+k]|0;else{var B=u[k-15],N=(B<<25|B>>>7)^(B<<14|B>>>18)^B>>>3,A=u[k-2],F=(A<<15|A>>>17)^(A<<13|A>>>19)^A>>>10;u[k]=N+u[k-7]+F+u[k-16]}var P=w&C^~w&S,U=p&g^p&v^g&v,O=(p<<30|p>>>2)^(p<<19|p>>>13)^(p<<10|p>>>22),q=(w<<26|w>>>6)^(w<<21|w>>>11)^(w<<7|w>>>25),G=E+q+P+d[k]+u[k],Q=O+U;E=S,S=C,C=w,w=y+G|0,y=v,v=g,g=p,p=G+Q|0}b[0]=b[0]+p|0,b[1]=b[1]+g|0,b[2]=b[2]+v|0,b[3]=b[3]+y|0,b[4]=b[4]+w|0,b[5]=b[5]+C|0,b[6]=b[6]+S|0,b[7]=b[7]+E|0},_doFinalize:function(){var m=this._data,x=m.words,b=this._nDataBytes*8,p=m.sigBytes*8;return x[p>>>5]|=128<<24-p%32,x[(p+64>>>9<<4)+14]=r.floor(b/4294967296),x[(p+64>>>9<<4)+15]=b,m.sigBytes=x.length*4,this._process(),this._hash},clone:function(){var m=c.clone.call(this);return m._hash=this._hash.clone(),m}});i.SHA256=c._createHelper(f),i.HmacSHA256=c._createHmacHelper(f)}(Math),s.SHA256})}(Dn)),Dn.exports}var Bn={exports:{}},Gl;function ny(){return Gl||(Gl=1,function(e,t){(function(s,r,i){e.exports=r(ve(),_a())})(fe,function(s){return function(){var r=s,i=r.lib,a=i.WordArray,o=r.algo,c=o.SHA256,h=o.SHA224=c.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=c._doFinalize.call(this);return l.sigBytes-=4,l}});r.SHA224=c._createHelper(h),r.HmacSHA224=c._createHmacHelper(h)}(),s.SHA224})}(Bn)),Bn.exports}var Tn={exports:{}},Xl;function su(){return Xl||(Xl=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Xr())})(fe,function(s){return function(){var r=s,i=r.lib,a=i.Hasher,o=r.x64,c=o.Word,h=o.WordArray,l=r.algo;function d(){return c.create.apply(c,arguments)}var u=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],f=[];(function(){for(var x=0;x<80;x++)f[x]=d()})();var m=l.SHA512=a.extend({_doReset:function(){this._hash=new h.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(x,b){for(var p=this._hash.words,g=p[0],v=p[1],y=p[2],w=p[3],C=p[4],S=p[5],E=p[6],k=p[7],B=g.high,N=g.low,A=v.high,F=v.low,P=y.high,U=y.low,O=w.high,q=w.low,G=C.high,Q=C.low,L=S.high,X=S.low,T=E.high,M=E.low,_=k.high,R=k.low,ae=B,H=N,xe=A,ee=F,Ae=P,I=U,K=O,te=q,oe=G,Z=Q,je=L,V=X,se=T,de=M,me=_,be=R,Y=0;Y<80;Y++){var W,re,_e=f[Y];if(Y<16)re=_e.high=x[b+Y*2]|0,W=_e.low=x[b+Y*2+1]|0;else{var et=f[Y-15],Ne=et.high,Pe=et.low,Ue=(Ne>>>1|Pe<<31)^(Ne>>>8|Pe<<24)^Ne>>>7,dt=(Pe>>>1|Ne<<31)^(Pe>>>8|Ne<<24)^(Pe>>>7|Ne<<25),Ie=f[Y-2],tt=Ie.high,We=Ie.low,bs=(tt>>>19|We<<13)^(tt<<3|We>>>29)^tt>>>6,Lt=(We>>>19|tt<<13)^(We<<3|tt>>>29)^(We>>>6|tt<<26),It=f[Y-7],Jt=It.high,ws=It.low,Et=f[Y-16],He=Et.high,es=Et.low;W=dt+ws,re=Ue+Jt+(W>>>0<dt>>>0?1:0),W=W+Lt,re=re+bs+(W>>>0<Lt>>>0?1:0),W=W+es,re=re+He+(W>>>0<es>>>0?1:0),_e.high=re,_e.low=W}var js=oe&je^~oe&se,Vt=Z&V^~Z&de,ts=ae&xe^ae&Ae^xe&Ae,ce=H&ee^H&I^ee&I,ke=(ae>>>28|H<<4)^(ae<<30|H>>>2)^(ae<<25|H>>>7),Be=(H>>>28|ae<<4)^(H<<30|ae>>>2)^(H<<25|ae>>>7),ye=(oe>>>14|Z<<18)^(oe>>>18|Z<<14)^(oe<<23|Z>>>9),xt=(Z>>>14|oe<<18)^(Z>>>18|oe<<14)^(Z<<23|oe>>>9),D=u[Y],ie=D.high,he=D.low,ne=be+xt,J=me+ye+(ne>>>0<be>>>0?1:0),ne=ne+Vt,J=J+js+(ne>>>0<Vt>>>0?1:0),ne=ne+he,J=J+ie+(ne>>>0<he>>>0?1:0),ne=ne+W,J=J+re+(ne>>>0<W>>>0?1:0),Ve=Be+ce,Me=ke+ts+(Ve>>>0<Be>>>0?1:0);me=se,be=de,se=je,de=V,je=oe,V=Z,Z=te+ne|0,oe=K+J+(Z>>>0<te>>>0?1:0)|0,K=Ae,te=I,Ae=xe,I=ee,xe=ae,ee=H,H=ne+Ve|0,ae=J+Me+(H>>>0<ne>>>0?1:0)|0}N=g.low=N+H,g.high=B+ae+(N>>>0<H>>>0?1:0),F=v.low=F+ee,v.high=A+xe+(F>>>0<ee>>>0?1:0),U=y.low=U+I,y.high=P+Ae+(U>>>0<I>>>0?1:0),q=w.low=q+te,w.high=O+K+(q>>>0<te>>>0?1:0),Q=C.low=Q+Z,C.high=G+oe+(Q>>>0<Z>>>0?1:0),X=S.low=X+V,S.high=L+je+(X>>>0<V>>>0?1:0),M=E.low=M+de,E.high=T+se+(M>>>0<de>>>0?1:0),R=k.low=R+be,k.high=_+me+(R>>>0<be>>>0?1:0)},_doFinalize:function(){var x=this._data,b=x.words,p=this._nDataBytes*8,g=x.sigBytes*8;b[g>>>5]|=128<<24-g%32,b[(g+128>>>10<<5)+30]=Math.floor(p/4294967296),b[(g+128>>>10<<5)+31]=p,x.sigBytes=b.length*4,this._process();var v=this._hash.toX32();return v},clone:function(){var x=a.clone.call(this);return x._hash=this._hash.clone(),x},blockSize:1024/32});r.SHA512=a._createHelper(m),r.HmacSHA512=a._createHmacHelper(m)}(),s.SHA512})}(Tn)),Tn.exports}var Pn={exports:{}},Ql;function iy(){return Ql||(Ql=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Xr(),su())})(fe,function(s){return function(){var r=s,i=r.x64,a=i.Word,o=i.WordArray,c=r.algo,h=c.SHA512,l=c.SHA384=h.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var d=h._doFinalize.call(this);return d.sigBytes-=16,d}});r.SHA384=h._createHelper(l),r.HmacSHA384=h._createHmacHelper(l)}(),s.SHA384})}(Pn)),Pn.exports}var Fn={exports:{}},Zl;function ay(){return Zl||(Zl=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Xr())})(fe,function(s){return function(r){var i=s,a=i.lib,o=a.WordArray,c=a.Hasher,h=i.x64,l=h.Word,d=i.algo,u=[],f=[],m=[];(function(){for(var p=1,g=0,v=0;v<24;v++){u[p+5*g]=(v+1)*(v+2)/2%64;var y=g%5,w=(2*p+3*g)%5;p=y,g=w}for(var p=0;p<5;p++)for(var g=0;g<5;g++)f[p+5*g]=g+(2*p+3*g)%5*5;for(var C=1,S=0;S<24;S++){for(var E=0,k=0,B=0;B<7;B++){if(C&1){var N=(1<<B)-1;N<32?k^=1<<N:E^=1<<N-32}C&128?C=C<<1^113:C<<=1}m[S]=l.create(E,k)}})();var x=[];(function(){for(var p=0;p<25;p++)x[p]=l.create()})();var b=d.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var p=this._state=[],g=0;g<25;g++)p[g]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(p,g){for(var v=this._state,y=this.blockSize/2,w=0;w<y;w++){var C=p[g+2*w],S=p[g+2*w+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,S=(S<<8|S>>>24)&16711935|(S<<24|S>>>8)&4278255360;var E=v[w];E.high^=S,E.low^=C}for(var k=0;k<24;k++){for(var B=0;B<5;B++){for(var N=0,A=0,F=0;F<5;F++){var E=v[B+5*F];N^=E.high,A^=E.low}var P=x[B];P.high=N,P.low=A}for(var B=0;B<5;B++)for(var U=x[(B+4)%5],O=x[(B+1)%5],q=O.high,G=O.low,N=U.high^(q<<1|G>>>31),A=U.low^(G<<1|q>>>31),F=0;F<5;F++){var E=v[B+5*F];E.high^=N,E.low^=A}for(var Q=1;Q<25;Q++){var N,A,E=v[Q],L=E.high,X=E.low,T=u[Q];T<32?(N=L<<T|X>>>32-T,A=X<<T|L>>>32-T):(N=X<<T-32|L>>>64-T,A=L<<T-32|X>>>64-T);var M=x[f[Q]];M.high=N,M.low=A}var _=x[0],R=v[0];_.high=R.high,_.low=R.low;for(var B=0;B<5;B++)for(var F=0;F<5;F++){var Q=B+5*F,E=v[Q],ae=x[Q],H=x[(B+1)%5+5*F],xe=x[(B+2)%5+5*F];E.high=ae.high^~H.high&xe.high,E.low=ae.low^~H.low&xe.low}var E=v[0],ee=m[k];E.high^=ee.high,E.low^=ee.low}},_doFinalize:function(){var p=this._data,g=p.words;this._nDataBytes*8;var v=p.sigBytes*8,y=this.blockSize*32;g[v>>>5]|=1<<24-v%32,g[(r.ceil((v+1)/y)*y>>>5)-1]|=128,p.sigBytes=g.length*4,this._process();for(var w=this._state,C=this.cfg.outputLength/8,S=C/8,E=[],k=0;k<S;k++){var B=w[k],N=B.high,A=B.low;N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,A=(A<<8|A>>>24)&16711935|(A<<24|A>>>8)&4278255360,E.push(A),E.push(N)}return new o.init(E,C)},clone:function(){for(var p=c.clone.call(this),g=p._state=this._state.slice(0),v=0;v<25;v++)g[v]=g[v].clone();return p}});i.SHA3=c._createHelper(b),i.HmacSHA3=c._createHmacHelper(b)}(Math),s.SHA3})}(Fn)),Fn.exports}var _n={exports:{}},Jl;function oy(){return Jl||(Jl=1,function(e,t){(function(s,r){e.exports=r(ve())})(fe,function(s){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var i=s,a=i.lib,o=a.WordArray,c=a.Hasher,h=i.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=o.create([0,1518500249,1859775393,2400959708,2840853838]),x=o.create([1352829926,1548603684,1836072691,2053994217,0]),b=h.RIPEMD160=c.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(S,E){for(var k=0;k<16;k++){var B=E+k,N=S[B];S[B]=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360}var A=this._hash.words,F=m.words,P=x.words,U=l.words,O=d.words,q=u.words,G=f.words,Q,L,X,T,M,_,R,ae,H,xe;_=Q=A[0],R=L=A[1],ae=X=A[2],H=T=A[3],xe=M=A[4];for(var ee,k=0;k<80;k+=1)ee=Q+S[E+U[k]]|0,k<16?ee+=p(L,X,T)+F[0]:k<32?ee+=g(L,X,T)+F[1]:k<48?ee+=v(L,X,T)+F[2]:k<64?ee+=y(L,X,T)+F[3]:ee+=w(L,X,T)+F[4],ee=ee|0,ee=C(ee,q[k]),ee=ee+M|0,Q=M,M=T,T=C(X,10),X=L,L=ee,ee=_+S[E+O[k]]|0,k<16?ee+=w(R,ae,H)+P[0]:k<32?ee+=y(R,ae,H)+P[1]:k<48?ee+=v(R,ae,H)+P[2]:k<64?ee+=g(R,ae,H)+P[3]:ee+=p(R,ae,H)+P[4],ee=ee|0,ee=C(ee,G[k]),ee=ee+xe|0,_=xe,xe=H,H=C(ae,10),ae=R,R=ee;ee=A[1]+X+H|0,A[1]=A[2]+T+xe|0,A[2]=A[3]+M+_|0,A[3]=A[4]+Q+R|0,A[4]=A[0]+L+ae|0,A[0]=ee},_doFinalize:function(){var S=this._data,E=S.words,k=this._nDataBytes*8,B=S.sigBytes*8;E[B>>>5]|=128<<24-B%32,E[(B+64>>>9<<4)+14]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,S.sigBytes=(E.length+1)*4,this._process();for(var N=this._hash,A=N.words,F=0;F<5;F++){var P=A[F];A[F]=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360}return N},clone:function(){var S=c.clone.call(this);return S._hash=this._hash.clone(),S}});function p(S,E,k){return S^E^k}function g(S,E,k){return S&E|~S&k}function v(S,E,k){return(S|~E)^k}function y(S,E,k){return S&k|E&~k}function w(S,E,k){return S^(E|~k)}function C(S,E){return S<<E|S>>>32-E}i.RIPEMD160=c._createHelper(b),i.HmacRIPEMD160=c._createHmacHelper(b)}(),s.RIPEMD160})}(_n)),_n.exports}var Rn={exports:{}},ec;function Ra(){return ec||(ec=1,function(e,t){(function(s,r){e.exports=r(ve())})(fe,function(s){(function(){var r=s,i=r.lib,a=i.Base,o=r.enc,c=o.Utf8,h=r.algo;h.HMAC=a.extend({init:function(l,d){l=this._hasher=new l.init,typeof d=="string"&&(d=c.parse(d));var u=l.blockSize,f=u*4;d.sigBytes>f&&(d=l.finalize(d)),d.clamp();for(var m=this._oKey=d.clone(),x=this._iKey=d.clone(),b=m.words,p=x.words,g=0;g<u;g++)b[g]^=1549556828,p[g]^=909522486;m.sigBytes=x.sigBytes=f,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var d=this._hasher,u=d.finalize(l);d.reset();var f=d.finalize(this._oKey.clone().concat(u));return f}})})()})}(Rn)),Rn.exports}var Mn={exports:{}},tc;function ly(){return tc||(tc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),_a(),Ra())})(fe,function(s){return function(){var r=s,i=r.lib,a=i.Base,o=i.WordArray,c=r.algo,h=c.SHA256,l=c.HMAC,d=c.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:h,iterations:25e4}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,f){for(var m=this.cfg,x=l.create(m.hasher,u),b=o.create(),p=o.create([1]),g=b.words,v=p.words,y=m.keySize,w=m.iterations;g.length<y;){var C=x.update(f).finalize(p);x.reset();for(var S=C.words,E=S.length,k=C,B=1;B<w;B++){k=x.finalize(k),x.reset();for(var N=k.words,A=0;A<E;A++)S[A]^=N[A]}b.concat(C),v[0]++}return b.sigBytes=y*4,b}});r.PBKDF2=function(u,f,m){return d.create(m).compute(u,f)}}(),s.PBKDF2})}(Mn)),Mn.exports}var Ln={exports:{}},sc;function Mt(){return sc||(sc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),tu(),Ra())})(fe,function(s){return function(){var r=s,i=r.lib,a=i.Base,o=i.WordArray,c=r.algo,h=c.MD5,l=c.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:h,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,u){for(var f,m=this.cfg,x=m.hasher.create(),b=o.create(),p=b.words,g=m.keySize,v=m.iterations;p.length<g;){f&&x.update(f),f=x.update(d).finalize(u),x.reset();for(var y=1;y<v;y++)f=x.finalize(f),x.reset();b.concat(f)}return b.sigBytes=g*4,b}});r.EvpKDF=function(d,u,f){return l.create(f).compute(d,u)}}(),s.EvpKDF})}(Ln)),Ln.exports}var In={exports:{}},rc;function Le(){return rc||(rc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Mt())})(fe,function(s){s.lib.Cipher||function(r){var i=s,a=i.lib,o=a.Base,c=a.WordArray,h=a.BufferedBlockAlgorithm,l=i.enc;l.Utf8;var d=l.Base64,u=i.algo,f=u.EvpKDF,m=a.Cipher=h.extend({cfg:o.extend(),createEncryptor:function(N,A){return this.create(this._ENC_XFORM_MODE,N,A)},createDecryptor:function(N,A){return this.create(this._DEC_XFORM_MODE,N,A)},init:function(N,A,F){this.cfg=this.cfg.extend(F),this._xformMode=N,this._key=A,this.reset()},reset:function(){h.reset.call(this),this._doReset()},process:function(N){return this._append(N),this._process()},finalize:function(N){N&&this._append(N);var A=this._doFinalize();return A},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function N(A){return typeof A=="string"?B:S}return function(A){return{encrypt:function(F,P,U){return N(P).encrypt(A,F,P,U)},decrypt:function(F,P,U){return N(P).decrypt(A,F,P,U)}}}}()});a.StreamCipher=m.extend({_doFinalize:function(){var N=this._process(!0);return N},blockSize:1});var x=i.mode={},b=a.BlockCipherMode=o.extend({createEncryptor:function(N,A){return this.Encryptor.create(N,A)},createDecryptor:function(N,A){return this.Decryptor.create(N,A)},init:function(N,A){this._cipher=N,this._iv=A}}),p=x.CBC=function(){var N=b.extend();N.Encryptor=N.extend({processBlock:function(F,P){var U=this._cipher,O=U.blockSize;A.call(this,F,P,O),U.encryptBlock(F,P),this._prevBlock=F.slice(P,P+O)}}),N.Decryptor=N.extend({processBlock:function(F,P){var U=this._cipher,O=U.blockSize,q=F.slice(P,P+O);U.decryptBlock(F,P),A.call(this,F,P,O),this._prevBlock=q}});function A(F,P,U){var O,q=this._iv;q?(O=q,this._iv=r):O=this._prevBlock;for(var G=0;G<U;G++)F[P+G]^=O[G]}return N}(),g=i.pad={},v=g.Pkcs7={pad:function(N,A){for(var F=A*4,P=F-N.sigBytes%F,U=P<<24|P<<16|P<<8|P,O=[],q=0;q<P;q+=4)O.push(U);var G=c.create(O,P);N.concat(G)},unpad:function(N){var A=N.words[N.sigBytes-1>>>2]&255;N.sigBytes-=A}};a.BlockCipher=m.extend({cfg:m.cfg.extend({mode:p,padding:v}),reset:function(){var N;m.reset.call(this);var A=this.cfg,F=A.iv,P=A.mode;this._xformMode==this._ENC_XFORM_MODE?N=P.createEncryptor:(N=P.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==N?this._mode.init(this,F&&F.words):(this._mode=N.call(P,this,F&&F.words),this._mode.__creator=N)},_doProcessBlock:function(N,A){this._mode.processBlock(N,A)},_doFinalize:function(){var N,A=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(A.pad(this._data,this.blockSize),N=this._process(!0)):(N=this._process(!0),A.unpad(N)),N},blockSize:128/32});var y=a.CipherParams=o.extend({init:function(N){this.mixIn(N)},toString:function(N){return(N||this.formatter).stringify(this)}}),w=i.format={},C=w.OpenSSL={stringify:function(N){var A,F=N.ciphertext,P=N.salt;return P?A=c.create([1398893684,1701076831]).concat(P).concat(F):A=F,A.toString(d)},parse:function(N){var A,F=d.parse(N),P=F.words;return P[0]==1398893684&&P[1]==1701076831&&(A=c.create(P.slice(2,4)),P.splice(0,4),F.sigBytes-=16),y.create({ciphertext:F,salt:A})}},S=a.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(N,A,F,P){P=this.cfg.extend(P);var U=N.createEncryptor(F,P),O=U.finalize(A),q=U.cfg;return y.create({ciphertext:O,key:F,iv:q.iv,algorithm:N,mode:q.mode,padding:q.padding,blockSize:N.blockSize,formatter:P.format})},decrypt:function(N,A,F,P){P=this.cfg.extend(P),A=this._parse(A,P.format);var U=N.createDecryptor(F,P).finalize(A.ciphertext);return U},_parse:function(N,A){return typeof N=="string"?A.parse(N,this):N}}),E=i.kdf={},k=E.OpenSSL={execute:function(N,A,F,P,U){if(P||(P=c.random(64/8)),U)var O=f.create({keySize:A+F,hasher:U}).compute(N,P);else var O=f.create({keySize:A+F}).compute(N,P);var q=c.create(O.words.slice(A),F*4);return O.sigBytes=A*4,y.create({key:O,iv:q,salt:P})}},B=a.PasswordBasedCipher=S.extend({cfg:S.cfg.extend({kdf:k}),encrypt:function(N,A,F,P){P=this.cfg.extend(P);var U=P.kdf.execute(F,N.keySize,N.ivSize,P.salt,P.hasher);P.iv=U.iv;var O=S.encrypt.call(this,N,A,U.key,P);return O.mixIn(U),O},decrypt:function(N,A,F,P){P=this.cfg.extend(P),A=this._parse(A,P.format);var U=P.kdf.execute(F,N.keySize,N.ivSize,A.salt,P.hasher);P.iv=U.iv;var O=S.decrypt.call(this,N,A,U.key,P);return O}})}()})}(In)),In.exports}var Vn={exports:{}},nc;function cy(){return nc||(nc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Le())})(fe,function(s){return s.mode.CFB=function(){var r=s.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(a,o){var c=this._cipher,h=c.blockSize;i.call(this,a,o,h,c),this._prevBlock=a.slice(o,o+h)}}),r.Decryptor=r.extend({processBlock:function(a,o){var c=this._cipher,h=c.blockSize,l=a.slice(o,o+h);i.call(this,a,o,h,c),this._prevBlock=l}});function i(a,o,c,h){var l,d=this._iv;d?(l=d.slice(0),this._iv=void 0):l=this._prevBlock,h.encryptBlock(l,0);for(var u=0;u<c;u++)a[o+u]^=l[u]}return r}(),s.mode.CFB})}(Vn)),Vn.exports}var On={exports:{}},ic;function dy(){return ic||(ic=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Le())})(fe,function(s){return s.mode.CTR=function(){var r=s.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(a,o){var c=this._cipher,h=c.blockSize,l=this._iv,d=this._counter;l&&(d=this._counter=l.slice(0),this._iv=void 0);var u=d.slice(0);c.encryptBlock(u,0),d[h-1]=d[h-1]+1|0;for(var f=0;f<h;f++)a[o+f]^=u[f]}});return r.Decryptor=i,r}(),s.mode.CTR})}(On)),On.exports}var qn={exports:{}},ac;function uy(){return ac||(ac=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Le())})(fe,function(s){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return s.mode.CTRGladman=function(){var r=s.lib.BlockCipherMode.extend();function i(c){if((c>>24&255)===255){var h=c>>16&255,l=c>>8&255,d=c&255;h===255?(h=0,l===255?(l=0,d===255?d=0:++d):++l):++h,c=0,c+=h<<16,c+=l<<8,c+=d}else c+=1<<24;return c}function a(c){return(c[0]=i(c[0]))===0&&(c[1]=i(c[1])),c}var o=r.Encryptor=r.extend({processBlock:function(c,h){var l=this._cipher,d=l.blockSize,u=this._iv,f=this._counter;u&&(f=this._counter=u.slice(0),this._iv=void 0),a(f);var m=f.slice(0);l.encryptBlock(m,0);for(var x=0;x<d;x++)c[h+x]^=m[x]}});return r.Decryptor=o,r}(),s.mode.CTRGladman})}(qn)),qn.exports}var zn={exports:{}},oc;function hy(){return oc||(oc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Le())})(fe,function(s){return s.mode.OFB=function(){var r=s.lib.BlockCipherMode.extend(),i=r.Encryptor=r.extend({processBlock:function(a,o){var c=this._cipher,h=c.blockSize,l=this._iv,d=this._keystream;l&&(d=this._keystream=l.slice(0),this._iv=void 0),c.encryptBlock(d,0);for(var u=0;u<h;u++)a[o+u]^=d[u]}});return r.Decryptor=i,r}(),s.mode.OFB})}(zn)),zn.exports}var $n={exports:{}},lc;function fy(){return lc||(lc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Le())})(fe,function(s){return s.mode.ECB=function(){var r=s.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(i,a){this._cipher.encryptBlock(i,a)}}),r.Decryptor=r.extend({processBlock:function(i,a){this._cipher.decryptBlock(i,a)}}),r}(),s.mode.ECB})}($n)),$n.exports}var Un={exports:{}},cc;function my(){return cc||(cc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Le())})(fe,function(s){return s.pad.AnsiX923={pad:function(r,i){var a=r.sigBytes,o=i*4,c=o-a%o,h=a+c-1;r.clamp(),r.words[h>>>2]|=c<<24-h%4*8,r.sigBytes+=c},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},s.pad.Ansix923})}(Un)),Un.exports}var Wn={exports:{}},dc;function xy(){return dc||(dc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Le())})(fe,function(s){return s.pad.Iso10126={pad:function(r,i){var a=i*4,o=a-r.sigBytes%a;r.concat(s.lib.WordArray.random(o-1)).concat(s.lib.WordArray.create([o<<24],1))},unpad:function(r){var i=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=i}},s.pad.Iso10126})}(Wn)),Wn.exports}var Hn={exports:{}},uc;function py(){return uc||(uc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Le())})(fe,function(s){return s.pad.Iso97971={pad:function(r,i){r.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(r,i)},unpad:function(r){s.pad.ZeroPadding.unpad(r),r.sigBytes--}},s.pad.Iso97971})}(Hn)),Hn.exports}var Kn={exports:{}},hc;function gy(){return hc||(hc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Le())})(fe,function(s){return s.pad.ZeroPadding={pad:function(r,i){var a=i*4;r.clamp(),r.sigBytes+=a-(r.sigBytes%a||a)},unpad:function(r){for(var i=r.words,a=r.sigBytes-1,a=r.sigBytes-1;a>=0;a--)if(i[a>>>2]>>>24-a%4*8&255){r.sigBytes=a+1;break}}},s.pad.ZeroPadding})}(Kn)),Kn.exports}var Yn={exports:{}},fc;function vy(){return fc||(fc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Le())})(fe,function(s){return s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding})}(Yn)),Yn.exports}var Gn={exports:{}},mc;function yy(){return mc||(mc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Le())})(fe,function(s){return function(r){var i=s,a=i.lib,o=a.CipherParams,c=i.enc,h=c.Hex,l=i.format;l.Hex={stringify:function(d){return d.ciphertext.toString(h)},parse:function(d){var u=h.parse(d);return o.create({ciphertext:u})}}}(),s.format.Hex})}(Gn)),Gn.exports}var Xn={exports:{}},xc;function by(){return xc||(xc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Qt(),Zt(),Mt(),Le())})(fe,function(s){return function(){var r=s,i=r.lib,a=i.BlockCipher,o=r.algo,c=[],h=[],l=[],d=[],u=[],f=[],m=[],x=[],b=[],p=[];(function(){for(var y=[],w=0;w<256;w++)w<128?y[w]=w<<1:y[w]=w<<1^283;for(var C=0,S=0,w=0;w<256;w++){var E=S^S<<1^S<<2^S<<3^S<<4;E=E>>>8^E&255^99,c[C]=E,h[E]=C;var k=y[C],B=y[k],N=y[B],A=y[E]*257^E*16843008;l[C]=A<<24|A>>>8,d[C]=A<<16|A>>>16,u[C]=A<<8|A>>>24,f[C]=A;var A=N*16843009^B*65537^k*257^C*16843008;m[E]=A<<24|A>>>8,x[E]=A<<16|A>>>16,b[E]=A<<8|A>>>24,p[E]=A,C?(C=k^y[y[y[N^k]]],S^=y[y[S]]):C=S=1}})();var g=[0,1,2,4,8,16,32,64,128,27,54],v=o.AES=a.extend({_doReset:function(){var y;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var w=this._keyPriorReset=this._key,C=w.words,S=w.sigBytes/4,E=this._nRounds=S+6,k=(E+1)*4,B=this._keySchedule=[],N=0;N<k;N++)N<S?B[N]=C[N]:(y=B[N-1],N%S?S>6&&N%S==4&&(y=c[y>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[y&255]):(y=y<<8|y>>>24,y=c[y>>>24]<<24|c[y>>>16&255]<<16|c[y>>>8&255]<<8|c[y&255],y^=g[N/S|0]<<24),B[N]=B[N-S]^y);for(var A=this._invKeySchedule=[],F=0;F<k;F++){var N=k-F;if(F%4)var y=B[N];else var y=B[N-4];F<4||N<=4?A[F]=y:A[F]=m[c[y>>>24]]^x[c[y>>>16&255]]^b[c[y>>>8&255]]^p[c[y&255]]}}},encryptBlock:function(y,w){this._doCryptBlock(y,w,this._keySchedule,l,d,u,f,c)},decryptBlock:function(y,w){var C=y[w+1];y[w+1]=y[w+3],y[w+3]=C,this._doCryptBlock(y,w,this._invKeySchedule,m,x,b,p,h);var C=y[w+1];y[w+1]=y[w+3],y[w+3]=C},_doCryptBlock:function(y,w,C,S,E,k,B,N){for(var A=this._nRounds,F=y[w]^C[0],P=y[w+1]^C[1],U=y[w+2]^C[2],O=y[w+3]^C[3],q=4,G=1;G<A;G++){var Q=S[F>>>24]^E[P>>>16&255]^k[U>>>8&255]^B[O&255]^C[q++],L=S[P>>>24]^E[U>>>16&255]^k[O>>>8&255]^B[F&255]^C[q++],X=S[U>>>24]^E[O>>>16&255]^k[F>>>8&255]^B[P&255]^C[q++],T=S[O>>>24]^E[F>>>16&255]^k[P>>>8&255]^B[U&255]^C[q++];F=Q,P=L,U=X,O=T}var Q=(N[F>>>24]<<24|N[P>>>16&255]<<16|N[U>>>8&255]<<8|N[O&255])^C[q++],L=(N[P>>>24]<<24|N[U>>>16&255]<<16|N[O>>>8&255]<<8|N[F&255])^C[q++],X=(N[U>>>24]<<24|N[O>>>16&255]<<16|N[F>>>8&255]<<8|N[P&255])^C[q++],T=(N[O>>>24]<<24|N[F>>>16&255]<<16|N[P>>>8&255]<<8|N[U&255])^C[q++];y[w]=Q,y[w+1]=L,y[w+2]=X,y[w+3]=T},keySize:256/32});r.AES=a._createHelper(v)}(),s.AES})}(Xn)),Xn.exports}var Qn={exports:{}},pc;function wy(){return pc||(pc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Qt(),Zt(),Mt(),Le())})(fe,function(s){return function(){var r=s,i=r.lib,a=i.WordArray,o=i.BlockCipher,c=r.algo,h=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=c.DES=o.extend({_doReset:function(){for(var g=this._key,v=g.words,y=[],w=0;w<56;w++){var C=h[w]-1;y[w]=v[C>>>5]>>>31-C%32&1}for(var S=this._subKeys=[],E=0;E<16;E++){for(var k=S[E]=[],B=d[E],w=0;w<24;w++)k[w/6|0]|=y[(l[w]-1+B)%28]<<31-w%6,k[4+(w/6|0)]|=y[28+(l[w+24]-1+B)%28]<<31-w%6;k[0]=k[0]<<1|k[0]>>>31;for(var w=1;w<7;w++)k[w]=k[w]>>>(w-1)*4+3;k[7]=k[7]<<5|k[7]>>>27}for(var N=this._invSubKeys=[],w=0;w<16;w++)N[w]=S[15-w]},encryptBlock:function(g,v){this._doCryptBlock(g,v,this._subKeys)},decryptBlock:function(g,v){this._doCryptBlock(g,v,this._invSubKeys)},_doCryptBlock:function(g,v,y){this._lBlock=g[v],this._rBlock=g[v+1],x.call(this,4,252645135),x.call(this,16,65535),b.call(this,2,858993459),b.call(this,8,16711935),x.call(this,1,1431655765);for(var w=0;w<16;w++){for(var C=y[w],S=this._lBlock,E=this._rBlock,k=0,B=0;B<8;B++)k|=u[B][((E^C[B])&f[B])>>>0];this._lBlock=E,this._rBlock=S^k}var N=this._lBlock;this._lBlock=this._rBlock,this._rBlock=N,x.call(this,1,1431655765),b.call(this,8,16711935),b.call(this,2,858993459),x.call(this,16,65535),x.call(this,4,252645135),g[v]=this._lBlock,g[v+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function x(g,v){var y=(this._lBlock>>>g^this._rBlock)&v;this._rBlock^=y,this._lBlock^=y<<g}function b(g,v){var y=(this._rBlock>>>g^this._lBlock)&v;this._lBlock^=y,this._rBlock^=y<<g}r.DES=o._createHelper(m);var p=c.TripleDES=o.extend({_doReset:function(){var g=this._key,v=g.words;if(v.length!==2&&v.length!==4&&v.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var y=v.slice(0,2),w=v.length<4?v.slice(0,2):v.slice(2,4),C=v.length<6?v.slice(0,2):v.slice(4,6);this._des1=m.createEncryptor(a.create(y)),this._des2=m.createEncryptor(a.create(w)),this._des3=m.createEncryptor(a.create(C))},encryptBlock:function(g,v){this._des1.encryptBlock(g,v),this._des2.decryptBlock(g,v),this._des3.encryptBlock(g,v)},decryptBlock:function(g,v){this._des3.decryptBlock(g,v),this._des2.encryptBlock(g,v),this._des1.decryptBlock(g,v)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(p)}(),s.TripleDES})}(Qn)),Qn.exports}var Zn={exports:{}},gc;function jy(){return gc||(gc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Qt(),Zt(),Mt(),Le())})(fe,function(s){return function(){var r=s,i=r.lib,a=i.StreamCipher,o=r.algo,c=o.RC4=a.extend({_doReset:function(){for(var d=this._key,u=d.words,f=d.sigBytes,m=this._S=[],x=0;x<256;x++)m[x]=x;for(var x=0,b=0;x<256;x++){var p=x%f,g=u[p>>>2]>>>24-p%4*8&255;b=(b+m[x]+g)%256;var v=m[x];m[x]=m[b],m[b]=v}this._i=this._j=0},_doProcessBlock:function(d,u){d[u]^=h.call(this)},keySize:256/32,ivSize:0});function h(){for(var d=this._S,u=this._i,f=this._j,m=0,x=0;x<4;x++){u=(u+1)%256,f=(f+d[u])%256;var b=d[u];d[u]=d[f],d[f]=b,m|=d[(d[u]+d[f])%256]<<24-x*8}return this._i=u,this._j=f,m}r.RC4=a._createHelper(c);var l=o.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)h.call(this)}});r.RC4Drop=a._createHelper(l)}(),s.RC4})}(Zn)),Zn.exports}var Jn={exports:{}},vc;function Cy(){return vc||(vc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Qt(),Zt(),Mt(),Le())})(fe,function(s){return function(){var r=s,i=r.lib,a=i.StreamCipher,o=r.algo,c=[],h=[],l=[],d=o.Rabbit=a.extend({_doReset:function(){for(var f=this._key.words,m=this.cfg.iv,x=0;x<4;x++)f[x]=(f[x]<<8|f[x]>>>24)&16711935|(f[x]<<24|f[x]>>>8)&4278255360;var b=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],p=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var x=0;x<4;x++)u.call(this);for(var x=0;x<8;x++)p[x]^=b[x+4&7];if(m){var g=m.words,v=g[0],y=g[1],w=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,C=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,S=w>>>16|C&4294901760,E=C<<16|w&65535;p[0]^=w,p[1]^=S,p[2]^=C,p[3]^=E,p[4]^=w,p[5]^=S,p[6]^=C,p[7]^=E;for(var x=0;x<4;x++)u.call(this)}},_doProcessBlock:function(f,m){var x=this._X;u.call(this),c[0]=x[0]^x[5]>>>16^x[3]<<16,c[1]=x[2]^x[7]>>>16^x[5]<<16,c[2]=x[4]^x[1]>>>16^x[7]<<16,c[3]=x[6]^x[3]>>>16^x[1]<<16;for(var b=0;b<4;b++)c[b]=(c[b]<<8|c[b]>>>24)&16711935|(c[b]<<24|c[b]>>>8)&4278255360,f[m+b]^=c[b]},blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,x=0;x<8;x++)h[x]=m[x];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<h[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<h[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<h[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<h[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<h[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<h[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<h[6]>>>0?1:0)|0,this._b=m[7]>>>0<h[7]>>>0?1:0;for(var x=0;x<8;x++){var b=f[x]+m[x],p=b&65535,g=b>>>16,v=((p*p>>>17)+p*g>>>15)+g*g,y=((b&4294901760)*b|0)+((b&65535)*b|0);l[x]=v^y}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}r.Rabbit=a._createHelper(d)}(),s.Rabbit})}(Jn)),Jn.exports}var ei={exports:{}},yc;function Ny(){return yc||(yc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Qt(),Zt(),Mt(),Le())})(fe,function(s){return function(){var r=s,i=r.lib,a=i.StreamCipher,o=r.algo,c=[],h=[],l=[],d=o.RabbitLegacy=a.extend({_doReset:function(){var f=this._key.words,m=this.cfg.iv,x=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],b=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var p=0;p<4;p++)u.call(this);for(var p=0;p<8;p++)b[p]^=x[p+4&7];if(m){var g=m.words,v=g[0],y=g[1],w=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,C=(y<<8|y>>>24)&16711935|(y<<24|y>>>8)&4278255360,S=w>>>16|C&4294901760,E=C<<16|w&65535;b[0]^=w,b[1]^=S,b[2]^=C,b[3]^=E,b[4]^=w,b[5]^=S,b[6]^=C,b[7]^=E;for(var p=0;p<4;p++)u.call(this)}},_doProcessBlock:function(f,m){var x=this._X;u.call(this),c[0]=x[0]^x[5]>>>16^x[3]<<16,c[1]=x[2]^x[7]>>>16^x[5]<<16,c[2]=x[4]^x[1]>>>16^x[7]<<16,c[3]=x[6]^x[3]>>>16^x[1]<<16;for(var b=0;b<4;b++)c[b]=(c[b]<<8|c[b]>>>24)&16711935|(c[b]<<24|c[b]>>>8)&4278255360,f[m+b]^=c[b]},blockSize:128/32,ivSize:64/32});function u(){for(var f=this._X,m=this._C,x=0;x<8;x++)h[x]=m[x];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<h[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<h[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<h[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<h[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<h[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<h[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<h[6]>>>0?1:0)|0,this._b=m[7]>>>0<h[7]>>>0?1:0;for(var x=0;x<8;x++){var b=f[x]+m[x],p=b&65535,g=b>>>16,v=((p*p>>>17)+p*g>>>15)+g*g,y=((b&4294901760)*b|0)+((b&65535)*b|0);l[x]=v^y}f[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,f[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,f[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,f[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,f[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,f[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,f[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,f[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}r.RabbitLegacy=a._createHelper(d)}(),s.RabbitLegacy})}(ei)),ei.exports}var ti={exports:{}},bc;function Sy(){return bc||(bc=1,function(e,t){(function(s,r,i){e.exports=r(ve(),Qt(),Zt(),Mt(),Le())})(fe,function(s){return function(){var r=s,i=r.lib,a=i.BlockCipher,o=r.algo;const c=16,h=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var d={pbox:[],sbox:[]};function u(p,g){let v=g>>24&255,y=g>>16&255,w=g>>8&255,C=g&255,S=p.sbox[0][v]+p.sbox[1][y];return S=S^p.sbox[2][w],S=S+p.sbox[3][C],S}function f(p,g,v){let y=g,w=v,C;for(let S=0;S<c;++S)y=y^p.pbox[S],w=u(p,y)^w,C=y,y=w,w=C;return C=y,y=w,w=C,w=w^p.pbox[c],y=y^p.pbox[c+1],{left:y,right:w}}function m(p,g,v){let y=g,w=v,C;for(let S=c+1;S>1;--S)y=y^p.pbox[S],w=u(p,y)^w,C=y,y=w,w=C;return C=y,y=w,w=C,w=w^p.pbox[1],y=y^p.pbox[0],{left:y,right:w}}function x(p,g,v){for(let E=0;E<4;E++){p.sbox[E]=[];for(let k=0;k<256;k++)p.sbox[E][k]=l[E][k]}let y=0;for(let E=0;E<c+2;E++)p.pbox[E]=h[E]^g[y],y++,y>=v&&(y=0);let w=0,C=0,S=0;for(let E=0;E<c+2;E+=2)S=f(p,w,C),w=S.left,C=S.right,p.pbox[E]=w,p.pbox[E+1]=C;for(let E=0;E<4;E++)for(let k=0;k<256;k+=2)S=f(p,w,C),w=S.left,C=S.right,p.sbox[E][k]=w,p.sbox[E][k+1]=C;return!0}var b=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var p=this._keyPriorReset=this._key,g=p.words,v=p.sigBytes/4;x(d,g,v)}},encryptBlock:function(p,g){var v=f(d,p[g],p[g+1]);p[g]=v.left,p[g+1]=v.right},decryptBlock:function(p,g){var v=m(d,p[g],p[g+1]);p[g]=v.left,p[g+1]=v.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=a._createHelper(b)}(),s.Blowfish})}(ti)),ti.exports}(function(e,t){(function(s,r,i){e.exports=r(ve(),Xr(),ty(),sy(),Qt(),ry(),Zt(),tu(),_a(),ny(),su(),iy(),ay(),oy(),Ra(),ly(),Mt(),Le(),cy(),dy(),uy(),hy(),fy(),my(),xy(),py(),gy(),vy(),yy(),by(),wy(),jy(),Cy(),Ny(),Sy())})(fe,function(s){return s})})(eu);var Ey=eu.exports;const ns=au(Ey),Ay=async()=>{const e="8216EB35-BB77-49AD-94CA-A7C3520DC464",t="F5cEUty4UwQL2EyW",r=ns.enc.Utf8.parse("CHqcPp7MN3mTY3nF6TWHdG8dHPVSgJBj"),i=ns.enc.Utf8.parse(t),o=ns.AES.encrypt(e,r,{iv:i,mode:ns.mode.CBC,padding:ns.pad.Pkcs7}).ciphertext.toString(ns.enc.Base64);return sessionStorage.setItem("xapikeyNoAccessToken",o),localStorage.setItem("xapikeyNoAccessToken",o),console.log("Generated API key:",o),o},ky=()=>{var xe,ee,Ae;const[e,t]=j.useState({firstName:"",lastName:"",email:"",phone:"",bio:"",stageName:"",password:"",confirmPassword:"",serialNumber:"",deviceNickname:"",isAllowSongRequest:null}),[s,r]=j.useState({}),[i,a]=j.useState(!1),[o,c]=j.useState(1),[h,l]=j.useState(!1),[d,u]=j.useState(!1),[f,m]=j.useState(!1),[x,b]=j.useState(""),[p,g]=j.useState(!1),v=ct();j.useEffect(()=>{(async()=>{try{await Ay(),l(!0)}catch(K){console.error("Failed to generate API key:",K)}})()},[]);const y=[{id:1,title:"Personal Info",subtitle:"Tell us about yourself",icon:"",description:"Basic contact information and bio"},{id:2,title:"Create Password",subtitle:"Set up your account security",icon:"",description:"Create a secure password for login (creates your profile)"},{id:3,title:"Email Verification",subtitle:"Verify your email address",icon:"",description:"Enter the verification code sent to your email"},{id:4,title:"Device Setup",subtitle:"Register your Tipply device",icon:"",description:"Device ID and nickname"},{id:5,title:"KYC Verification",subtitle:"Identity verification with Stripe",icon:"",description:"Security & compliance"},{id:6,title:"Complete Setup",subtitle:"Finish onboarding",icon:"",description:"Ready to start accepting tips"}],w=I=>{const{name:K,value:te}=I.target;t(oe=>({...oe,[K]:te})),r(oe=>({...oe,[K]:""})),K==="serialNumber"&&(m(!1),u(!1))},C=()=>e.password.length<6?"Password must be at least 6 characters long":e.password!==e.confirmPassword?"Passwords do not match":null,S=async()=>{if(!e.email.trim())return r(I=>({...I,email:"Email is required to send verification code"})),!1;try{a(!0);const I=await pe.sendOnboardingVerification(e.email);return I.error?(r(K=>({...K,email:I.error||"Failed to send verification code"})),!1):(g(!0),!0)}catch{return r(K=>({...K,email:"Failed to send verification code. Please try again."})),!1}finally{a(!1)}},E=async()=>{if(!x.trim())return r(I=>({...I,verificationCode:"Verification code is required"})),!1;try{const I=await pe.validateOnboardingCode(e.email,x);return I.error?(r(K=>({...K,verificationCode:I.error||"Failed to verify code"})),!1):(r(K=>({...K,verificationCode:""})),!0)}catch{return r(K=>({...K,verificationCode:"Failed to verify code. Please try again."})),!1}},k=async()=>{var K;const I=e.serialNumber.trim();if(!I)return{isValid:!1,error:"Serial Number is required"};try{const te=await pe.checkDeviceExists(I);if(te.error)return{isValid:!1,error:te.error};if((K=te.data)!=null&&K.exists){const oe=te.data.device;return{isValid:!1,error:"Serial Number already exists",details:{ownerName:oe.ownerName,ownerEmail:oe.ownerEmail,nickname:oe.nickname,createdAt:oe.createdAt}}}return{isValid:!0,error:null}}catch{return{isValid:!1,error:"Failed to validate serial number"}}},B=async()=>{var K,te;const I=e.serialNumber.trim();if(!I)return{isValid:!1,error:"Serial Number is required"};u(!0),m(!1);try{const oe=await pe.checkDetectedDeviceBySerialNumber(I);if(oe.error){const Z=oe.error||"Failed to validate serial number";return r(je=>({...je,serialNumber:Z})),m(!0),u(!1),{isValid:!1,error:Z}}if(!((K=oe.data)!=null&&K.exists)){const Z=((te=oe.data)==null?void 0:te.message)||"Serial Number not found or device is not available for registration";return r(je=>({...je,serialNumber:Z})),m(!0),u(!1),{isValid:!1,error:Z}}return r(Z=>({...Z,serialNumber:""})),m(!0),u(!1),{isValid:!0,error:null}}catch{const Z="Failed to validate serial number";return r(je=>({...je,serialNumber:Z})),m(!0),u(!1),{isValid:!1,error:Z}}},N=()=>{const I={};return e.firstName.trim()||(I.firstName="First name is required"),e.lastName.trim()||(I.lastName="Last name is required"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(I.email="Please enter a valid email address"):I.email="Email is required",r(I),Object.keys(I).length===0},A=async()=>{if(o<6)if(o===1){if(!N())return;await P(),c(o+1)}else if(o===2){const I=C();if(I){r(K=>({...K,password:I}));return}r(K=>({...K,password:"",confirmPassword:""})),await U(),c(o+1)}else if(o===3){if(!p)return await S(),void 0;if(!await E())return;c(o+1)}else if(o===4){if(!f||s.serialNumber)if(e.serialNumber.trim()){if(!(await B()).isValid)return}else{r(I=>({...I,serialNumber:"Serial Number is required"}));return}if(e.isAllowSongRequest===null){r(I=>({...I,isAllowSongRequest:"Please select whether you want to enable song requests from your audience."}));return}r(I=>({...I,isAllowSongRequest:""})),await O(),c(o+1)}else o===5&&await q();else Q()},F=()=>{o>1&&(c(o-1),r({}))},P=async()=>{a(!0);try{console.log("Personal info saved for onboarding")}catch(I){console.error("Failed to save personal info:",I)}finally{a(!1)}},U=async()=>{a(!0);try{const I=await pe.createProfileOnboarding({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,password:e.password});if(I.error)throw new Error(I.error);console.log("Profile created and password set successfully for onboarding")}catch(I){console.error("Failed to create profile:",I)}finally{a(!1)}},O=async()=>{a(!0);try{const I=await k();if(!I.isValid){if(r(te=>({...te,serialNumber:I.error||"Device validation failed"})),I.details){const te=I.details,oe=` Serial Number Already Exists

This serial number is already registered to:
 Owner: ${te.ownerName}
 Email: ${te.ownerEmail}
 Nickname: ${te.nickname||"No nickname"}
 Registered: ${new Date(te.createdAt).toLocaleDateString()}

Please use a different serial number or contact support if this is your device.`;alert(oe)}return}const K=await pe.registerDeviceOnboarding({serialNumber:e.serialNumber,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,nickname:e.deviceNickname,isAllowSongRequest:e.isAllowSongRequest||!1});if(K.error){if(K.error.includes("already exists")){r(te=>({...te,serialNumber:"This device is already registered. Please use a different serial number or contact support if this is your device."}));return}throw new Error(K.error)}console.log("Device registered successfully for onboarding")}catch(I){console.error("Failed to register device:",I),r(K=>({...K,serialNumber:I instanceof Error?I.message:"Failed to register device. Please try again."}))}finally{a(!1)}},q=async()=>{var I,K;a(!0);try{sessionStorage.setItem("onboarding_email",e.email),sessionStorage.setItem("onboarding_password",e.password),console.log("Starting KYC process with serial number:",e.serialNumber);const te=await pe.createConnectAccount({serialNumber:e.serialNumber,firstName:e.firstName,lastName:e.lastName,email:e.email});if(console.log("CreateConnectAccount response:",te),te.error)throw new Error(te.error);if(((I=te.data)==null?void 0:I.status)==="processing"){console.log("Received processing status, starting polling..."),await G();return}if((K=te.data)!=null&&K.onboardingUrl){console.log("Received immediate onboarding URL, redirecting..."),window.location.href=te.data.onboardingUrl;return}else throw console.error("Unexpected response format:",te.data),new Error("No onboarding URL received from Stripe")}catch(te){console.error("Failed to start KYC process:",te);const oe=te instanceof Error?te.message:String(te);if((oe.includes("timeout")||oe.includes("network")||oe.includes("creation_error"))&&window.confirm("The KYC process encountered an issue. Would you like to try again?")){a(!1),setTimeout(()=>{q()},2e3);return}a(!1)}},G=async()=>{console.log(`Starting polling for device: ${e.serialNumber}`);for(let te=1;te<=180;te++)try{console.log(`Polling for onboarding URL, attempt ${te}/180`);const oe=await pe.getConnectAccountStatus(e.serialNumber);if(console.log(`Status response for attempt ${te}:`,oe),oe.error){console.error("Error polling status:",oe.error),await new Promise(je=>setTimeout(je,1e3*2));continue}const Z=oe.data;if(console.log("Status data:",Z),Z!=null&&Z.onboardingUrl){console.log("Onboarding URL received, redirecting to Stripe"),window.location.href=Z.onboardingUrl;return}if(Z!=null&&Z.error)throw new Error(Z.error);if((Z==null?void 0:Z.status)==="timeout_error")throw new Error("Stripe Connect account creation timed out. Please try again.");if((Z==null?void 0:Z.status)==="network_error")throw new Error("Network error during Stripe Connect account creation. Please try again.");if((Z==null?void 0:Z.status)==="creation_error")throw new Error("Error during Stripe Connect account creation. Please try again.");(Z==null?void 0:Z.status)==="processing"&&(console.log("Still processing, waiting..."),te===30&&console.warn("Stripe account creation is taking longer than expected. This may be due to high load or network issues."),te===60&&console.log("Stripe Connect account creation typically takes 1-3 minutes. Please be patient..."),te===120&&console.warn("Stripe Connect account creation is taking longer than usual. This may indicate an issue.")),await new Promise(je=>setTimeout(je,1e3))}catch(oe){console.error(`Error during polling attempt ${te}:`,oe);const Z=oe instanceof Error?oe.message:String(oe);if(Z.includes("timeout")||Z.includes("network")||Z.includes("creation_error")){if(te>=170)throw new Error(`Stripe Connect account creation failed: ${Z}`);await new Promise(je=>setTimeout(je,1e3*3));continue}if(te===180)throw new Error("Stripe Connect account creation is taking longer than expected (3 minutes). The process may still be running in the background. Please check your dashboard or try again.");await new Promise(je=>setTimeout(je,1e3))}throw new Error("Stripe Connect account creation is taking longer than expected (3 minutes). The process may still be running in the background. Please check your dashboard or try again.")},Q=async()=>{a(!0);try{v("/dashboard")}catch(I){console.error("Onboarding failed:",I)}finally{a(!1)}},L=()=>n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Personal Information"}),n.jsx("p",{className:"text-gray-600",children:"Let's start with your basic details and tell us about yourself"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-gray-700",children:"First Name *"}),n.jsx("input",{type:"text",id:"firstName",name:"firstName",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your first name",value:e.firstName,onChange:w}),s.firstName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.firstName})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"lastName",className:"block text-sm font-semibold text-gray-700",children:"Last Name *"}),n.jsx("input",{type:"text",id:"lastName",name:"lastName",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your last name",value:e.lastName,onChange:w}),s.lastName&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.lastName})]})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"stageName",className:"block text-sm font-semibold text-gray-700",children:"Stage Name"}),n.jsx("input",{type:"text",id:"stageName",name:"stageName",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Your stage name or artist name",value:e.stageName,onChange:w}),n.jsx("p",{className:"text-sm text-gray-500",children:"This is how you'll appear to your audience"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700",children:"Email Address *"}),n.jsx("input",{type:"email",id:"email",name:"email",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"your.email@example.com",value:e.email,onChange:w}),s.email&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.email})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700",children:"Phone Number"}),n.jsx("input",{type:"tel",id:"phone",name:"phone",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"+1 (555) 123-4567",value:e.phone,onChange:w}),s.phone&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.phone})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"bio",className:"block text-sm font-semibold text-gray-700",children:"Bio"}),n.jsx("textarea",{id:"bio",name:"bio",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Tell your audience a bit about yourself...",value:e.bio,onChange:w}),s.bio&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.bio}),n.jsx("p",{className:"text-sm text-gray-500",children:"A short description that will appear on your tipping page"})]})]}),X=()=>n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create Your Password"}),n.jsx("p",{className:"text-gray-600",children:"Set up a secure password to protect your account"})]}),n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Password Requirements"}),n.jsx("p",{className:"text-blue-700 mb-4",children:"Your password will be used to log into your Tipply dashboard and manage your account."}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-blue-800",children:"At least 6 characters long"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-blue-800",children:"Use a combination of letters, numbers, and symbols"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-blue-800",children:"Avoid using personal information"})]})]})]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700",children:"Password *"}),n.jsx("input",{type:"password",id:"password",name:"password",required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${s.password?"border-red-500 focus:ring-red-200":"border-gray-300"}`,placeholder:"Enter your password",value:e.password,onChange:w}),s.password&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.password}),n.jsx("p",{className:"text-sm text-gray-500",children:"Minimum 6 characters"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700",children:"Confirm Password *"}),n.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Confirm your password",value:e.confirmPassword,onChange:w}),s.confirmPassword&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.confirmPassword})]})]})]}),T=()=>n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Verify Your Email"}),n.jsx("p",{className:"text-gray-600",children:"We've sent a verification code to your email address"})]}),n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Check Your Email"}),n.jsxs("p",{className:"text-blue-700 mb-4",children:["We've sent a 6-digit verification code to ",n.jsx("strong",{children:e.email}),". Please check your inbox and enter the code below."]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-blue-800",children:"Check your email inbox (and spam folder)"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-blue-800",children:"Enter the 6-digit code below"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-blue-800",children:"Code expires in 5 minutes"})]})]})]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"verificationCode",className:"block text-sm font-semibold text-gray-700",children:"Verification Code *"}),n.jsx("input",{type:"text",id:"verificationCode",name:"verificationCode",required:!0,maxLength:6,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 text-center text-2xl font-mono tracking-widest ${s.verificationCode?"border-red-500 focus:ring-red-200":"border-gray-300"}`,placeholder:"000000",value:x,onChange:I=>{b(I.target.value.replace(/\D/g,"")),r(K=>({...K,verificationCode:""}))}}),s.verificationCode&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.verificationCode}),n.jsx("p",{className:"text-sm text-gray-500",children:"Enter the 6-digit code from your email"})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("button",{type:"button",onClick:S,disabled:i,className:"text-primary-600 hover:text-primary-700 font-medium transition-colors duration-200 disabled:opacity-50",children:i?"Sending...":"Resend Code"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Didn't receive the code? Check your spam folder"})]})]})]}),M=()=>n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Device Registration"}),n.jsx("p",{className:"text-gray-600",children:"Register your Tipply device to start accepting tips"})]}),n.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Device Setup Instructions"}),n.jsx("p",{className:"text-blue-700 mb-4",children:"You'll need your Tipply device ID to complete this step. This is typically found on the device itself or in the device documentation."}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-blue-800",children:"Locate your device ID (usually a UUID)"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-blue-800",children:"Give your device a memorable nickname"})]}),n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),n.jsx("span",{className:"text-blue-800",children:"We'll generate a QR code for your audience"})]})]})]})]})}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"serialNumber",className:"block text-sm font-semibold text-gray-700",children:"Serial Number *"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",id:"serialNumber",name:"serialNumber",required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${s.serialNumber?"border-red-500 focus:ring-red-200":"border-gray-300"}`,placeholder:"12345678901234567890",value:e.serialNumber,onChange:w,onBlur:async()=>{e.serialNumber.trim()&&await B()}}),d&&n.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:n.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-600"})})]}),s.serialNumber&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.serialNumber}),f&&!s.serialNumber&&e.serialNumber.trim()&&n.jsx("p",{className:"text-green-500 text-xs mt-1",children:" Serial Number validated successfully"}),n.jsx("p",{className:"text-sm text-gray-500",children:"Enter the serial number from your Tipply device (16-20 characters)"})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx("label",{htmlFor:"deviceNickname",className:"block text-sm font-semibold text-gray-700",children:"Device Nickname"}),n.jsx("input",{type:"text",id:"deviceNickname",name:"deviceNickname",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., Main Stage, Bar Counter, etc.",value:e.deviceNickname,onChange:w}),s.deviceNickname&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.deviceNickname}),n.jsx("p",{className:"text-sm text-gray-500",children:"A friendly name to help you identify this device"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700",children:"Would you like to enable song requests from your audience? *"}),n.jsx("p",{className:"text-sm text-gray-500 mb-4",children:`If you select "Yes", you'll be able to create a song catalog for your audience to choose from once you're logged in. This allows your audience to request specific songs when they tip you.`}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center cursor-pointer p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx("input",{type:"radio",name:"isAllowSongRequest",checked:e.isAllowSongRequest===!0,onChange:()=>t(I=>({...I,isAllowSongRequest:!0})),className:"mr-4 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Yes, enable song requests"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Your audience can request songs when they tip"})]})]}),n.jsxs("label",{className:"flex items-center cursor-pointer p-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[n.jsx("input",{type:"radio",name:"isAllowSongRequest",checked:e.isAllowSongRequest===!1,onChange:()=>t(I=>({...I,isAllowSongRequest:!1})),className:"mr-4 h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),n.jsxs("div",{children:[n.jsx("span",{className:"text-sm font-medium text-gray-700",children:"No, disable song requests"}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Standard tipping without song requests"})]})]})]}),s.isAllowSongRequest&&n.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.isAllowSongRequest})]})]})]}),_=()=>n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"KYC Verification"}),n.jsx("p",{className:"text-gray-600",children:"Complete identity verification with Stripe to receive payments"})]}),n.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-lg font-semibold text-green-900 mb-2",children:"Stripe Connect KYC Process"}),n.jsx("p",{className:"text-green-700 mb-4",children:"To comply with financial regulations and ensure secure transactions, we need to verify your identity through Stripe Connect. This process is quick, secure, and required to receive payments."}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-sm font-medium text-green-800",children:"Government ID verification"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-sm font-medium text-green-800",children:"Address verification"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-sm font-medium text-green-800",children:"Business verification"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-sm font-medium text-green-800",children:"Secure payment processing"})]})})]})]})]})}),n.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n.jsxs("p",{className:"text-yellow-800 text-sm",children:[n.jsx("strong",{children:"Note:"})," You'll be redirected to Stripe's secure platform to complete the verification process. After completion, you'll be redirected back to Tipply."]})]})})]}),R=()=>n.jsxs("div",{className:"space-y-8",children:[n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-6xl mb-4",children:""}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Setup Complete!"}),n.jsx("p",{className:"text-gray-600",children:"You're all set to start accepting tips"})]}),n.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-6",children:n.jsxs("div",{className:"flex items-start space-x-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:n.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"text-lg font-semibold text-purple-900 mb-2",children:"Welcome to Tipply!"}),n.jsx("p",{className:"text-purple-700 mb-4",children:"Your account is now fully set up and ready to accept tips. You can access your dashboard to view analytics, manage your devices, and download QR codes for your audience."}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-sm font-medium text-purple-800",children:"View your dashboard"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Download QR codes"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Manage devices"})]})}),n.jsx("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),n.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Track earnings"})]})})]})]})]})})]}),ae=()=>{switch(o){case 1:return L();case 2:return X();case 3:return T();case 4:return M();case 5:return _();case 6:return R();default:return L()}},H=()=>o<5?y[o]:null;return h?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:n.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"text-center mb-12",children:[n.jsx("div",{className:"mx-auto w-36 h-36 overflow-visible rounded-2xl mb-6",children:n.jsx("img",{src:"/images/tipply_logo.png",alt:"Tipply Logo",className:"w-full h-full object-contain",style:{transform:"scale(1.25)",objectPosition:"center"}})}),n.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Welcome to Tipply"}),n.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Let's get you set up to start accepting tips in just a few minutes"})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[n.jsx("div",{className:"lg:col-span-1",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Setup Progress"}),n.jsx("div",{className:"space-y-4",children:y.map(I=>n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center text-lg font-medium transition-all duration-200 ${I.id<o?"bg-green-100 text-green-600":I.id===o?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-400"}`,children:I.id<o?"":I.icon}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:`text-sm font-medium ${I.id<=o?"text-gray-900":"text-gray-500"}`,children:I.title}),n.jsx("p",{className:`text-xs ${I.id<=o?"text-gray-600":"text-gray-400"}`,children:I.subtitle})]})]},I.id))}),n.jsxs("div",{className:"mt-6",children:[n.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-2",children:[n.jsx("span",{children:"Progress"}),n.jsxs("span",{children:[Math.round(o/6*100),"%"]})]}),n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:n.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 h-2 rounded-full transition-all duration-500",style:{width:`${o/6*100}%`}})})]})]})}),n.jsx("div",{className:"lg:col-span-2",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[ae(),H()&&n.jsx("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"text-2xl",children:(xe=H())==null?void 0:xe.icon}),n.jsxs("div",{children:[n.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Next: ",(ee=H())==null?void 0:ee.title]}),n.jsx("p",{className:"text-xs text-blue-700",children:(Ae=H())==null?void 0:Ae.description})]})]})}),n.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[n.jsx("button",{type:"button",onClick:F,disabled:o===1,className:"px-6 py-3 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:" Back"}),n.jsx("button",{type:"button",onClick:A,disabled:i||o===3&&(d||!f||!!s.serialNumber),className:"px-8 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-medium rounded-lg hover:from-primary-700 hover:to-primary-800 focus:ring-4 focus:ring-primary-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i?n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),n.jsx("span",{children:"Processing..."})]}):o===5?"Go to Dashboard":o===5?"Start KYC Process":"Continue"})]})]})})]}),n.jsx("div",{className:"mt-8 text-center",children:n.jsx("button",{onClick:()=>v("/login"),className:"text-primary-600 hover:text-primary-700 font-medium transition-colors duration-200",children:" Back to Sign In"})})]})}):n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600",children:"Initializing secure connection..."})]})})},Dy=()=>{const e=ct();return n.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:n.jsxs("div",{className:"max-w-md mx-auto text-center",children:[n.jsx("div",{className:"text-6xl font-bold text-gray-300 mb-4",children:"404"}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Page Not Found"}),n.jsx("p",{className:"text-gray-600 mb-6",children:"The page you're looking for doesn't exist."}),n.jsx("button",{onClick:()=>e("/"),className:"btn-primary",children:"Go Home"})]})})};function By(){return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs(ch,{children:[n.jsx(Ye,{path:"/",element:n.jsx(Ya,{})}),n.jsx(Ye,{path:"/login",element:n.jsx(Ya,{})}),n.jsx(Ye,{path:"/forgot-password",element:n.jsx(zh,{})}),n.jsx(Ye,{path:"/onboarding",element:n.jsx(ky,{})}),n.jsx(Ye,{path:"/dashboard",element:n.jsx(Sg,{})}),n.jsx(Ye,{path:"/profile",element:n.jsx(Eg,{})}),n.jsx(Ye,{path:"/add-device",element:n.jsx(Ag,{})}),n.jsx(Ye,{path:"/manage-devices",element:n.jsx(kg,{})}),n.jsx(Ye,{path:"/tip/:deviceId",element:n.jsx(Kv,{})}),n.jsx(Ye,{path:"/stripe-return",element:n.jsx(Yv,{})}),n.jsx(Ye,{path:"/kyc-return",element:n.jsx(Gv,{})}),n.jsx(Ye,{path:"/stripe-status",element:n.jsx(Xv,{})}),n.jsx(Ye,{path:"*",element:n.jsx(Dy,{})})]}),n.jsx(Oh,{position:"top-center",richColors:!0})]})}si.createRoot(document.getElementById("root")).render(n.jsx($.StrictMode,{children:n.jsx(fh,{children:n.jsx(By,{})})}));
