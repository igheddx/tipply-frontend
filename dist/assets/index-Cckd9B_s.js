import{r as A,a as vl,b as eu,R as U,c as tu,d as su,e as Q,g as ru}from"./vendor-CFo_r9hK.js";import{l as nu,E as iu,u as au,a as ou,C as Ta}from"./stripe-DUVnjbzk.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=s(n);fetch(n.href,a)}})();var yl={exports:{}},Br={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lu=A,cu=Symbol.for("react.element"),du=Symbol.for("react.fragment"),uu=Object.prototype.hasOwnProperty,fu=lu.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hu={key:!0,ref:!0,__self:!0,__source:!0};function bl(e,t,s){var r,n={},a=null,o=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)uu.call(t,r)&&!hu.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)n[r]===void 0&&(n[r]=t[r]);return{$$typeof:cu,type:e,key:a,ref:o,props:n,_owner:fu.current}}Br.Fragment=du;Br.jsx=bl;Br.jsxs=bl;yl.exports=Br;var i=yl.exports,Jn={},_a=vl;Jn.createRoot=_a.createRoot,Jn.hydrateRoot=_a.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ks(){return ks=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},ks.apply(this,arguments)}var Et;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Et||(Et={}));const Ra="popstate";function xu(e){e===void 0&&(e={});function t(r,n){let{pathname:a,search:o,hash:c}=r.location;return ei("",{pathname:a,search:o,hash:c},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(r,n){return typeof n=="string"?n:Cl(n)}return pu(t,s,null,e)}function we(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wl(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mu(){return Math.random().toString(36).substr(2,8)}function Ia(e,t){return{usr:e.state,key:e.key,idx:t}}function ei(e,t,s,r){return s===void 0&&(s=null),ks({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?os(t):t,{state:s,key:t&&t.key||r||mu()})}function Cl(e){let{pathname:t="/",search:s="",hash:r=""}=e;return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function os(e){let t={};if(e){let s=e.indexOf("#");s>=0&&(t.hash=e.substr(s),e=e.substr(0,s));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function pu(e,t,s,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:a=!1}=r,o=n.history,c=Et.Pop,f=null,l=d();l==null&&(l=0,o.replaceState(ks({},o.state,{idx:l}),""));function d(){return(o.state||{idx:null}).idx}function u(){c=Et.Pop;let p=d(),b=p==null?null:p-l;l=p,f&&f({action:c,location:y.location,delta:b})}function h(p,b){c=Et.Push;let g=ei(y.location,p,b);l=d()+1;let v=Ia(g,l),w=y.createHref(g);try{o.pushState(v,"",w)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;n.location.assign(w)}a&&f&&f({action:c,location:y.location,delta:1})}function x(p,b){c=Et.Replace;let g=ei(y.location,p,b);l=d();let v=Ia(g,l),w=y.createHref(g);o.replaceState(v,"",w),a&&f&&f({action:c,location:y.location,delta:0})}function m(p){let b=n.location.origin!=="null"?n.location.origin:n.location.href,g=typeof p=="string"?p:Cl(p);return g=g.replace(/ $/,"%20"),we(b,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,b)}let y={get action(){return c},get location(){return e(n,o)},listen(p){if(f)throw new Error("A history only accepts one active listener");return n.addEventListener(Ra,u),f=p,()=>{n.removeEventListener(Ra,u),f=null}},createHref(p){return t(n,p)},createURL:m,encodeLocation(p){let b=m(p);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:x,go(p){return o.go(p)}};return y}var Ma;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ma||(Ma={}));function gu(e,t,s){return s===void 0&&(s="/"),vu(e,t,s)}function vu(e,t,s,r){let n=typeof t=="string"?os(t):t,a=Dl(n.pathname||"/",s);if(a==null)return null;let o=El(e);yu(o);let c=null;for(let f=0;c==null&&f<o.length;++f){let l=Fu(a);c=Nu(o[f],l)}return c}function El(e,t,s,r){t===void 0&&(t=[]),s===void 0&&(s=[]),r===void 0&&(r="");let n=(a,o,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};f.relativePath.startsWith("/")&&(we(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let l=Lt([r,f.relativePath]),d=s.concat(f);a.children&&a.children.length>0&&(we(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),El(a.children,t,d,l)),!(a.path==null&&!a.index)&&t.push({path:l,score:ju(l,a.index),routesMeta:d})};return e.forEach((a,o)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))n(a,o);else for(let f of Al(a.path))n(a,o,f)}),t}function Al(e){let t=e.split("/");if(t.length===0)return[];let[s,...r]=t,n=s.endsWith("?"),a=s.replace(/\?$/,"");if(r.length===0)return n?[a,""]:[a];let o=Al(r.join("/")),c=[];return c.push(...o.map(f=>f===""?a:[a,f].join("/"))),n&&c.push(...o),c.map(f=>e.startsWith("/")&&f===""?"/":f)}function yu(e){e.sort((t,s)=>t.score!==s.score?s.score-t.score:Bu(t.routesMeta.map(r=>r.childrenIndex),s.routesMeta.map(r=>r.childrenIndex)))}const bu=/^:[\w-]+$/,wu=3,Cu=2,Eu=1,Au=10,Du=-2,La=e=>e==="*";function ju(e,t){let s=e.split("/"),r=s.length;return s.some(La)&&(r+=Du),t&&(r+=Cu),s.filter(n=>!La(n)).reduce((n,a)=>n+(bu.test(a)?wu:a===""?Eu:Au),r)}function Bu(e,t){return e.length===t.length&&e.slice(0,-1).every((r,n)=>r===t[n])?e[e.length-1]-t[t.length-1]:0}function Nu(e,t,s){let{routesMeta:r}=e,n={},a="/",o=[];for(let c=0;c<r.length;++c){let f=r[c],l=c===r.length-1,d=a==="/"?t:t.slice(a.length)||"/",u=Su({path:f.relativePath,caseSensitive:f.caseSensitive,end:l},d),h=f.route;if(!u)return null;Object.assign(n,u.params),o.push({params:n,pathname:Lt([a,u.pathname]),pathnameBase:Mu(Lt([a,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(a=Lt([a,u.pathnameBase]))}return o}function Su(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[s,r]=ku(e.path,e.caseSensitive,e.end),n=t.match(s);if(!n)return null;let a=n[0],o=a.replace(/(.)\/+$/,"$1"),c=n.slice(1);return{params:r.reduce((l,d,u)=>{let{paramName:h,isOptional:x}=d;if(h==="*"){let y=c[u]||"";o=a.slice(0,a.length-y.length).replace(/(.)\/+$/,"$1")}const m=c[u];return x&&!m?l[h]=void 0:l[h]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:a,pathnameBase:o,pattern:e}}function ku(e,t,s){t===void 0&&(t=!1),s===void 0&&(s=!0),wl(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,t?void 0:"i"),r]}function Fu(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wl(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Dl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let s=t.endsWith("/")?t.length-1:t.length,r=e.charAt(s);return r&&r!=="/"?null:e.slice(s)||"/"}function Pu(e,t){t===void 0&&(t="/");let{pathname:s,search:r="",hash:n=""}=typeof e=="string"?os(e):e;return{pathname:s?s.startsWith("/")?s:Tu(s,t):t,search:Lu(r),hash:Vu(n)}}function Tu(e,t){let s=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function Kr(e,t,s,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _u(e){return e.filter((t,s)=>s===0||t.route.path&&t.route.path.length>0)}function Ru(e,t){let s=_u(e);return t?s.map((r,n)=>n===s.length-1?r.pathname:r.pathnameBase):s.map(r=>r.pathnameBase)}function Iu(e,t,s,r){r===void 0&&(r=!1);let n;typeof e=="string"?n=os(e):(n=ks({},e),we(!n.pathname||!n.pathname.includes("?"),Kr("?","pathname","search",n)),we(!n.pathname||!n.pathname.includes("#"),Kr("#","pathname","hash",n)),we(!n.search||!n.search.includes("#"),Kr("#","search","hash",n)));let a=e===""||n.pathname==="",o=a?"/":n.pathname,c;if(o==null)c=s;else{let u=t.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),u-=1;n.pathname=h.join("/")}c=u>=0?t[u]:"/"}let f=Pu(n,c),l=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&s.endsWith("/");return!f.pathname.endsWith("/")&&(l||d)&&(f.pathname+="/"),f}const Lt=e=>e.join("/").replace(/\/\/+/g,"/"),Mu=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Lu=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Vu=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Ou(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const jl=["post","put","patch","delete"];new Set(jl);const Uu=["get",...jl];new Set(Uu);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fs(){return Fs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r])}return e},Fs.apply(this,arguments)}const Ri=A.createContext(null),zu=A.createContext(null),Nr=A.createContext(null),Sr=A.createContext(null),zt=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Bl=A.createContext(null);function kr(){return A.useContext(Sr)!=null}function Ii(){return kr()||we(!1),A.useContext(Sr).location}function Nl(e){A.useContext(Nr).static||A.useLayoutEffect(e)}function st(){let{isDataRoute:e}=A.useContext(zt);return e?sf():Hu()}function Hu(){kr()||we(!1);let e=A.useContext(Ri),{basename:t,future:s,navigator:r}=A.useContext(Nr),{matches:n}=A.useContext(zt),{pathname:a}=Ii(),o=JSON.stringify(Ru(n,s.v7_relativeSplatPath)),c=A.useRef(!1);return Nl(()=>{c.current=!0}),A.useCallback(function(l,d){if(d===void 0&&(d={}),!c.current)return;if(typeof l=="number"){r.go(l);return}let u=Iu(l,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Lt([t,u.pathname])),(d.replace?r.replace:r.push)(u,d.state,d)},[t,r,o,a,e])}function $u(){let{matches:e}=A.useContext(zt),t=e[e.length-1];return t?t.params:{}}function Wu(e,t){return qu(e,t)}function qu(e,t,s,r){kr()||we(!1);let{navigator:n}=A.useContext(Nr),{matches:a}=A.useContext(zt),o=a[a.length-1],c=o?o.params:{};o&&o.pathname;let f=o?o.pathnameBase:"/";o&&o.route;let l=Ii(),d;if(t){var u;let p=typeof t=="string"?os(t):t;f==="/"||(u=p.pathname)!=null&&u.startsWith(f)||we(!1),d=p}else d=l;let h=d.pathname||"/",x=h;if(f!=="/"){let p=f.replace(/^\//,"").split("/");x="/"+h.replace(/^\//,"").split("/").slice(p.length).join("/")}let m=gu(e,{pathname:x}),y=Qu(m&&m.map(p=>Object.assign({},p,{params:Object.assign({},c,p.params),pathname:Lt([f,n.encodeLocation?n.encodeLocation(p.pathname).pathname:p.pathname]),pathnameBase:p.pathnameBase==="/"?f:Lt([f,n.encodeLocation?n.encodeLocation(p.pathnameBase).pathname:p.pathnameBase])})),a,s,r);return t&&y?A.createElement(Sr.Provider,{value:{location:Fs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Et.Pop}},y):y}function Ku(){let e=tf(),t=Ou(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),s=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},t),s?A.createElement("pre",{style:n},s):null,null)}const Yu=A.createElement(Ku,null);class Gu extends A.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){console.error("React Router caught the following error during render",t,s)}render(){return this.state.error!==void 0?A.createElement(zt.Provider,{value:this.props.routeContext},A.createElement(Bl.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xu(e){let{routeContext:t,match:s,children:r}=e,n=A.useContext(Ri);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),A.createElement(zt.Provider,{value:t},r)}function Qu(e,t,s,r){var n;if(t===void 0&&(t=[]),s===void 0&&(s=null),r===void 0&&(r=null),e==null){var a;if(!s)return null;if(s.errors)e=s.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!s.initialized&&s.matches.length>0)e=s.matches;else return null}let o=e,c=(n=s)==null?void 0:n.errors;if(c!=null){let d=o.findIndex(u=>u.route.id&&(c==null?void 0:c[u.route.id])!==void 0);d>=0||we(!1),o=o.slice(0,Math.min(o.length,d+1))}let f=!1,l=-1;if(s&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let u=o[d];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(l=d),u.route.id){let{loaderData:h,errors:x}=s,m=u.route.loader&&h[u.route.id]===void 0&&(!x||x[u.route.id]===void 0);if(u.route.lazy||m){f=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((d,u,h)=>{let x,m=!1,y=null,p=null;s&&(x=c&&u.route.id?c[u.route.id]:void 0,y=u.route.errorElement||Yu,f&&(l<0&&h===0?(rf("route-fallback"),m=!0,p=null):l===h&&(m=!0,p=u.route.hydrateFallbackElement||null)));let b=t.concat(o.slice(0,h+1)),g=()=>{let v;return x?v=y:m?v=p:u.route.Component?v=A.createElement(u.route.Component,null):u.route.element?v=u.route.element:v=d,A.createElement(Xu,{match:u,routeContext:{outlet:d,matches:b,isDataRoute:s!=null},children:v})};return s&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?A.createElement(Gu,{location:s.location,revalidation:s.revalidation,component:y,error:x,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):g()},null)}var Sl=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Sl||{}),kl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(kl||{});function Zu(e){let t=A.useContext(Ri);return t||we(!1),t}function Ju(e){let t=A.useContext(zu);return t||we(!1),t}function ef(e){let t=A.useContext(zt);return t||we(!1),t}function Fl(e){let t=ef(),s=t.matches[t.matches.length-1];return s.route.id||we(!1),s.route.id}function tf(){var e;let t=A.useContext(Bl),s=Ju(),r=Fl();return t!==void 0?t:(e=s.errors)==null?void 0:e[r]}function sf(){let{router:e}=Zu(Sl.UseNavigateStable),t=Fl(kl.UseNavigateStable),s=A.useRef(!1);return Nl(()=>{s.current=!0}),A.useCallback(function(n,a){a===void 0&&(a={}),s.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Fs({fromRouteId:t},a)))},[e,t])}const Va={};function rf(e,t,s){Va[e]||(Va[e]=!0)}function nf(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Ve(e){we(!1)}function af(e){let{basename:t="/",children:s=null,location:r,navigationType:n=Et.Pop,navigator:a,static:o=!1,future:c}=e;kr()&&we(!1);let f=t.replace(/^\/*/,"/"),l=A.useMemo(()=>({basename:f,navigator:a,static:o,future:Fs({v7_relativeSplatPath:!1},c)}),[f,c,a,o]);typeof r=="string"&&(r=os(r));let{pathname:d="/",search:u="",hash:h="",state:x=null,key:m="default"}=r,y=A.useMemo(()=>{let p=Dl(d,f);return p==null?null:{location:{pathname:p,search:u,hash:h,state:x,key:m},navigationType:n}},[f,d,u,h,x,m,n]);return y==null?null:A.createElement(Nr.Provider,{value:l},A.createElement(Sr.Provider,{children:s,value:y}))}function of(e){let{children:t,location:s}=e;return Wu(ti(t),s)}new Promise(()=>{});function ti(e,t){t===void 0&&(t=[]);let s=[];return A.Children.forEach(e,(r,n)=>{if(!A.isValidElement(r))return;let a=[...t,n];if(r.type===A.Fragment){s.push.apply(s,ti(r.props.children,a));return}r.type!==Ve&&we(!1),!r.props.index||!r.props.children||we(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=ti(r.props.children,a)),s.push(o)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function si(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,s)=>{let r=e[s];return t.concat(Array.isArray(r)?r.map(n=>[s,n]):[[s,r]])},[]))}function lf(e,t){let s=si(e);return t&&t.forEach((r,n)=>{s.has(n)||t.getAll(n).forEach(a=>{s.append(n,a)})}),s}const cf="6";try{window.__reactRouterVersion=cf}catch{}const df="startTransition",Oa=eu[df];function uf(e){let{basename:t,children:s,future:r,window:n}=e,a=A.useRef();a.current==null&&(a.current=xu({window:n,v5Compat:!0}));let o=a.current,[c,f]=A.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},d=A.useCallback(u=>{l&&Oa?Oa(()=>f(u)):f(u)},[f,l]);return A.useLayoutEffect(()=>o.listen(d),[o,d]),A.useEffect(()=>nf(r),[r]),A.createElement(af,{basename:t,children:s,location:c.location,navigationType:c.action,navigator:o,future:r})}var Ua;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ua||(Ua={}));var za;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(za||(za={}));function Pl(e){let t=A.useRef(si(e)),s=A.useRef(!1),r=Ii(),n=A.useMemo(()=>lf(r.search,s.current?null:t.current),[r.search]),a=st(),o=A.useCallback((c,f)=>{const l=si(typeof c=="function"?c(n):c);s.current=!0,a("?"+l,f)},[a,n]);return[n,o]}function ff(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}const hf=e=>{switch(e){case"success":return pf;case"info":return vf;case"warning":return gf;case"error":return yf;default:return null}},xf=Array(12).fill(0),mf=({visible:e,className:t})=>U.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},U.createElement("div",{className:"sonner-spinner"},xf.map((s,r)=>U.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),pf=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),gf=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),vf=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),yf=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},U.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),bf=U.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},U.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),U.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),wf=()=>{const[e,t]=U.useState(document.hidden);return U.useEffect(()=>{const s=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),e};let ri=1;class Cf{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const s=this.subscribers.indexOf(t);this.subscribers.splice(s,1)}),this.publish=t=>{this.subscribers.forEach(s=>s(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var s;const{message:r,...n}=t,a=typeof(t==null?void 0:t.id)=="number"||((s=t.id)==null?void 0:s.length)>0?t.id:ri++,o=this.toasts.find(f=>f.id===a),c=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),o?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...t,id:a,title:r}),{...f,...t,id:a,dismissible:c,title:r}):f):this.addToast({title:r,...n,dismissible:c,id:a}),a},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:t,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(r=>r({id:s.id,dismiss:!0}))}),t),this.message=(t,s)=>this.create({...s,message:t}),this.error=(t,s)=>this.create({...s,message:t,type:"error"}),this.success=(t,s)=>this.create({...s,type:"success",message:t}),this.info=(t,s)=>this.create({...s,type:"info",message:t}),this.warning=(t,s)=>this.create({...s,type:"warning",message:t}),this.loading=(t,s)=>this.create({...s,type:"loading",message:t}),this.promise=(t,s)=>{if(!s)return;let r;s.loading!==void 0&&(r=this.create({...s,promise:t,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const n=Promise.resolve(t instanceof Function?t():t);let a=r!==void 0,o;const c=n.then(async l=>{if(o=["resolve",l],U.isValidElement(l))a=!1,this.create({id:r,type:"default",message:l});else if(Af(l)&&!l.ok){a=!1;const u=typeof s.error=="function"?await s.error(`HTTP error! status: ${l.status}`):s.error,h=typeof s.description=="function"?await s.description(`HTTP error! status: ${l.status}`):s.description,m=typeof u=="object"&&!U.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:h,...m})}else if(l instanceof Error){a=!1;const u=typeof s.error=="function"?await s.error(l):s.error,h=typeof s.description=="function"?await s.description(l):s.description,m=typeof u=="object"&&!U.isValidElement(u)?u:{message:u};this.create({id:r,type:"error",description:h,...m})}else if(s.success!==void 0){a=!1;const u=typeof s.success=="function"?await s.success(l):s.success,h=typeof s.description=="function"?await s.description(l):s.description,m=typeof u=="object"&&!U.isValidElement(u)?u:{message:u};this.create({id:r,type:"success",description:h,...m})}}).catch(async l=>{if(o=["reject",l],s.error!==void 0){a=!1;const d=typeof s.error=="function"?await s.error(l):s.error,u=typeof s.description=="function"?await s.description(l):s.description,x=typeof d=="object"&&!U.isValidElement(d)?d:{message:d};this.create({id:r,type:"error",description:u,...x})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),s.finally==null||s.finally.call(s)}),f=()=>new Promise((l,d)=>c.then(()=>o[0]==="reject"?d(o[1]):l(o[1])).catch(d));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(t,s)=>{const r=(s==null?void 0:s.id)||ri++;return this.create({jsx:t(r),id:r,...s}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Re=new Cf,Ef=(e,t)=>{const s=(t==null?void 0:t.id)||ri++;return Re.addToast({title:e,...t,id:s}),s},Af=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Df=Ef,jf=()=>Re.toasts,Bf=()=>Re.getActiveToasts(),ot=Object.assign(Df,{success:Re.success,info:Re.info,warning:Re.warning,error:Re.error,custom:Re.custom,message:Re.message,promise:Re.promise,dismiss:Re.dismiss,loading:Re.loading},{getHistory:jf,getToasts:Bf});ff("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function nr(e){return e.label!==void 0}const Nf=3,Sf="24px",kf="16px",Ha=4e3,Ff=356,Pf=14,Tf=45,_f=200;function at(...e){return e.filter(Boolean).join(" ")}function Rf(e){const[t,s]=e.split("-"),r=[];return t&&r.push(t),s&&r.push(s),r}const If=e=>{var t,s,r,n,a,o,c,f,l;const{invert:d,toast:u,unstyled:h,interacting:x,setHeights:m,visibleToasts:y,heights:p,index:b,toasts:g,expanded:v,removeToast:w,defaultRichColors:C,closeButton:E,style:D,cancelButtonStyle:B,actionButtonStyle:F,className:j="",descriptionClassName:N="",duration:P,position:T,gap:H,expandByDefault:$,classNames:L,icons:z,closeButtonAriaLabel:M="Close toast"}=e,[k,W]=U.useState(null),[S,_]=U.useState(null),[R,I]=U.useState(!1),[Z,q]=U.useState(!1),[ie,Y]=U.useState(!1),[Ee,Ae]=U.useState(!1),[Ft,Ue]=U.useState(!1),[De,me]=U.useState(0),[vt,rt]=U.useState(0),ze=U.useRef(u.duration||P||Ha),nt=U.useRef(null),ke=U.useRef(null),He=b===0,Fe=b+1<=y,ne=u.type,je=u.dismissible!==!1,yt=u.className||"",Wt=u.descriptionClassName||"",ae=U.useMemo(()=>p.findIndex(G=>G.toastId===u.id)||0,[p,u.id]),Xe=U.useMemo(()=>{var G;return(G=u.closeButton)!=null?G:E},[u.closeButton,E]),V=U.useMemo(()=>u.duration||P||Ha,[u.duration,P]),se=U.useRef(0),re=U.useRef(0),ue=U.useRef(0),te=U.useRef(null),[bt,ht]=T.split("-"),Qe=U.useMemo(()=>p.reduce((G,pe,be)=>be>=ae?G:G+pe.height,0),[p,ae]),tr=wf(),Wr=u.invert||d,qt=ne==="loading";re.current=U.useMemo(()=>ae*H+Qe,[ae,Qe]),U.useEffect(()=>{ze.current=V},[V]),U.useEffect(()=>{I(!0)},[]),U.useEffect(()=>{const G=ke.current;if(G){const pe=G.getBoundingClientRect().height;return rt(pe),m(be=>[{toastId:u.id,height:pe,position:u.position},...be]),()=>m(be=>be.filter(Pe=>Pe.toastId!==u.id))}},[m,u.id]),U.useLayoutEffect(()=>{if(!R)return;const G=ke.current,pe=G.style.height;G.style.height="auto";const be=G.getBoundingClientRect().height;G.style.height=pe,rt(be),m(Pe=>Pe.find(ge=>ge.toastId===u.id)?Pe.map(ge=>ge.toastId===u.id?{...ge,height:be}:ge):[{toastId:u.id,height:be,position:u.position},...Pe])},[R,u.title,u.description,m,u.id,u.jsx,u.action,u.cancel]);const it=U.useCallback(()=>{q(!0),me(re.current),m(G=>G.filter(pe=>pe.toastId!==u.id)),setTimeout(()=>{w(u)},_f)},[u,w,m,re]);U.useEffect(()=>{if(u.promise&&ne==="loading"||u.duration===1/0||u.type==="loading")return;let G;return v||x||tr?(()=>{if(ue.current<se.current){const Pe=new Date().getTime()-se.current;ze.current=ze.current-Pe}ue.current=new Date().getTime()})():(()=>{ze.current!==1/0&&(se.current=new Date().getTime(),G=setTimeout(()=>{u.onAutoClose==null||u.onAutoClose.call(u,u),it()},ze.current))})(),()=>clearTimeout(G)},[v,x,u,ne,tr,it]),U.useEffect(()=>{u.delete&&(it(),u.onDismiss==null||u.onDismiss.call(u,u))},[it,u.delete]);function sr(){var G;if(z!=null&&z.loading){var pe;return U.createElement("div",{className:at(L==null?void 0:L.loader,u==null||(pe=u.classNames)==null?void 0:pe.loader,"sonner-loader"),"data-visible":ne==="loading"},z.loading)}return U.createElement(mf,{className:at(L==null?void 0:L.loader,u==null||(G=u.classNames)==null?void 0:G.loader),visible:ne==="loading"})}const qr=u.icon||(z==null?void 0:z[ne])||hf(ne);var fs,rr;return U.createElement("li",{tabIndex:0,ref:ke,className:at(j,yt,L==null?void 0:L.toast,u==null||(t=u.classNames)==null?void 0:t.toast,L==null?void 0:L.default,L==null?void 0:L[ne],u==null||(s=u.classNames)==null?void 0:s[ne]),"data-sonner-toast":"","data-rich-colors":(fs=u.richColors)!=null?fs:C,"data-styled":!(u.jsx||u.unstyled||h),"data-mounted":R,"data-promise":!!u.promise,"data-swiped":Ft,"data-removed":Z,"data-visible":Fe,"data-y-position":bt,"data-x-position":ht,"data-index":b,"data-front":He,"data-swiping":ie,"data-dismissible":je,"data-type":ne,"data-invert":Wr,"data-swipe-out":Ee,"data-swipe-direction":S,"data-expanded":!!(v||$&&R),style:{"--index":b,"--toasts-before":b,"--z-index":g.length-b,"--offset":`${Z?De:re.current}px`,"--initial-height":$?"auto":`${vt}px`,...D,...u.style},onDragEnd:()=>{Y(!1),W(null),te.current=null},onPointerDown:G=>{G.button!==2&&(qt||!je||(nt.current=new Date,me(re.current),G.target.setPointerCapture(G.pointerId),G.target.tagName!=="BUTTON"&&(Y(!0),te.current={x:G.clientX,y:G.clientY})))},onPointerUp:()=>{var G,pe,be;if(Ee||!je)return;te.current=null;const Pe=Number(((G=ke.current)==null?void 0:G.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Kt=Number(((pe=ke.current)==null?void 0:pe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ge=new Date().getTime()-((be=nt.current)==null?void 0:be.getTime()),_e=k==="x"?Pe:Kt,Pt=Math.abs(_e)/ge;if(Math.abs(_e)>=Tf||Pt>.11){me(re.current),u.onDismiss==null||u.onDismiss.call(u,u),_(k==="x"?Pe>0?"right":"left":Kt>0?"down":"up"),it(),Ae(!0);return}else{var oe,ve;(oe=ke.current)==null||oe.style.setProperty("--swipe-amount-x","0px"),(ve=ke.current)==null||ve.style.setProperty("--swipe-amount-y","0px")}Ue(!1),Y(!1),W(null)},onPointerMove:G=>{var pe,be,Pe;if(!te.current||!je||((pe=window.getSelection())==null?void 0:pe.toString().length)>0)return;const ge=G.clientY-te.current.y,_e=G.clientX-te.current.x;var Pt;const oe=(Pt=e.swipeDirections)!=null?Pt:Rf(T);!k&&(Math.abs(_e)>1||Math.abs(ge)>1)&&W(Math.abs(_e)>Math.abs(ge)?"x":"y");let ve={x:0,y:0};const hs=xt=>1/(1.5+Math.abs(xt)/20);if(k==="y"){if(oe.includes("top")||oe.includes("bottom"))if(oe.includes("top")&&ge<0||oe.includes("bottom")&&ge>0)ve.y=ge;else{const xt=ge*hs(ge);ve.y=Math.abs(xt)<Math.abs(ge)?xt:ge}}else if(k==="x"&&(oe.includes("left")||oe.includes("right")))if(oe.includes("left")&&_e<0||oe.includes("right")&&_e>0)ve.x=_e;else{const xt=_e*hs(_e);ve.x=Math.abs(xt)<Math.abs(_e)?xt:_e}(Math.abs(ve.x)>0||Math.abs(ve.y)>0)&&Ue(!0),(be=ke.current)==null||be.style.setProperty("--swipe-amount-x",`${ve.x}px`),(Pe=ke.current)==null||Pe.style.setProperty("--swipe-amount-y",`${ve.y}px`)}},Xe&&!u.jsx&&ne!=="loading"?U.createElement("button",{"aria-label":M,"data-disabled":qt,"data-close-button":!0,onClick:qt||!je?()=>{}:()=>{it(),u.onDismiss==null||u.onDismiss.call(u,u)},className:at(L==null?void 0:L.closeButton,u==null||(r=u.classNames)==null?void 0:r.closeButton)},(rr=z==null?void 0:z.close)!=null?rr:bf):null,(ne||u.icon||u.promise)&&u.icon!==null&&((z==null?void 0:z[ne])!==null||u.icon)?U.createElement("div",{"data-icon":"",className:at(L==null?void 0:L.icon,u==null||(n=u.classNames)==null?void 0:n.icon)},u.promise||u.type==="loading"&&!u.icon?u.icon||sr():null,u.type!=="loading"?qr:null):null,U.createElement("div",{"data-content":"",className:at(L==null?void 0:L.content,u==null||(a=u.classNames)==null?void 0:a.content)},U.createElement("div",{"data-title":"",className:at(L==null?void 0:L.title,u==null||(o=u.classNames)==null?void 0:o.title)},u.jsx?u.jsx:typeof u.title=="function"?u.title():u.title),u.description?U.createElement("div",{"data-description":"",className:at(N,Wt,L==null?void 0:L.description,u==null||(c=u.classNames)==null?void 0:c.description)},typeof u.description=="function"?u.description():u.description):null),U.isValidElement(u.cancel)?u.cancel:u.cancel&&nr(u.cancel)?U.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||B,onClick:G=>{nr(u.cancel)&&je&&(u.cancel.onClick==null||u.cancel.onClick.call(u.cancel,G),it())},className:at(L==null?void 0:L.cancelButton,u==null||(f=u.classNames)==null?void 0:f.cancelButton)},u.cancel.label):null,U.isValidElement(u.action)?u.action:u.action&&nr(u.action)?U.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||F,onClick:G=>{nr(u.action)&&(u.action.onClick==null||u.action.onClick.call(u.action,G),!G.defaultPrevented&&it())},className:at(L==null?void 0:L.actionButton,u==null||(l=u.classNames)==null?void 0:l.actionButton)},u.action.label):null)};function $a(){if(typeof window>"u"||typeof document>"u")return"ltr";const e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function Mf(e,t){const s={};return[e,t].forEach((r,n)=>{const a=n===1,o=a?"--mobile-offset":"--offset",c=a?kf:Sf;function f(l){["top","right","bottom","left"].forEach(d=>{s[`${o}-${d}`]=typeof l=="number"?`${l}px`:l})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(l=>{r[l]===void 0?s[`${o}-${l}`]=c:s[`${o}-${l}`]=typeof r[l]=="number"?`${r[l]}px`:r[l]}):f(c)}),s}const Lf=U.forwardRef(function(t,s){const{invert:r,position:n="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:c,className:f,offset:l,mobileOffset:d,theme:u="light",richColors:h,duration:x,style:m,visibleToasts:y=Nf,toastOptions:p,dir:b=$a(),gap:g=Pf,icons:v,containerAriaLabel:w="Notifications"}=t,[C,E]=U.useState([]),D=U.useMemo(()=>Array.from(new Set([n].concat(C.filter(S=>S.position).map(S=>S.position)))),[C,n]),[B,F]=U.useState([]),[j,N]=U.useState(!1),[P,T]=U.useState(!1),[H,$]=U.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=U.useRef(null),z=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=U.useRef(null),k=U.useRef(!1),W=U.useCallback(S=>{E(_=>{var R;return(R=_.find(I=>I.id===S.id))!=null&&R.delete||Re.dismiss(S.id),_.filter(({id:I})=>I!==S.id)})},[]);return U.useEffect(()=>Re.subscribe(S=>{if(S.dismiss){requestAnimationFrame(()=>{E(_=>_.map(R=>R.id===S.id?{...R,delete:!0}:R))});return}setTimeout(()=>{tu.flushSync(()=>{E(_=>{const R=_.findIndex(I=>I.id===S.id);return R!==-1?[..._.slice(0,R),{..._[R],...S},..._.slice(R+1)]:[S,..._]})})})}),[C]),U.useEffect(()=>{if(u!=="system"){$(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;const S=window.matchMedia("(prefers-color-scheme: dark)");try{S.addEventListener("change",({matches:_})=>{$(_?"dark":"light")})}catch{S.addListener(({matches:R})=>{try{$(R?"dark":"light")}catch(I){console.error(I)}})}},[u]),U.useEffect(()=>{C.length<=1&&N(!1)},[C]),U.useEffect(()=>{const S=_=>{var R;if(a.every(q=>_[q]||_.code===q)){var Z;N(!0),(Z=L.current)==null||Z.focus()}_.code==="Escape"&&(document.activeElement===L.current||(R=L.current)!=null&&R.contains(document.activeElement))&&N(!1)};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[a]),U.useEffect(()=>{if(L.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,k.current=!1)}},[L.current]),U.createElement("section",{ref:s,"aria-label":`${w} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},D.map((S,_)=>{var R;const[I,Z]=S.split("-");return C.length?U.createElement("ol",{key:S,dir:b==="auto"?$a():b,tabIndex:-1,ref:L,className:f,"data-sonner-toaster":!0,"data-sonner-theme":H,"data-y-position":I,"data-x-position":Z,style:{"--front-toast-height":`${((R=B[0])==null?void 0:R.height)||0}px`,"--width":`${Ff}px`,"--gap":`${g}px`,...m,...Mf(l,d)},onBlur:q=>{k.current&&!q.currentTarget.contains(q.relatedTarget)&&(k.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||k.current||(k.current=!0,M.current=q.relatedTarget)},onMouseEnter:()=>N(!0),onMouseMove:()=>N(!0),onMouseLeave:()=>{P||N(!1)},onDragEnd:()=>N(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||T(!0)},onPointerUp:()=>T(!1)},C.filter(q=>!q.position&&_===0||q.position===S).map((q,ie)=>{var Y,Ee;return U.createElement(If,{key:q.id,icons:v,index:ie,toast:q,defaultRichColors:h,duration:(Y=p==null?void 0:p.duration)!=null?Y:x,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:r,visibleToasts:y,closeButton:(Ee=p==null?void 0:p.closeButton)!=null?Ee:c,interacting:P,position:S,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,closeButtonAriaLabel:p==null?void 0:p.closeButtonAriaLabel,removeToast:W,toasts:C.filter(Ae=>Ae.position==q.position),heights:B.filter(Ae=>Ae.position==q.position),setHeights:F,expandByDefault:o,gap:g,expanded:j,swipeDirections:t.swipeDirections})})):null}))}),Yr={},Gr=(Yr==null?void 0:Yr.VITE_API_URL)||"http://localhost:5000";class Vf{async request(t,s={},r=!1){const n=`${Gr}${t}`,a=localStorage.getItem("token"),o=r?localStorage.getItem("xapikeyNoAccessToken"):null,c={headers:{"Content-Type":"application/json",...a&&{Authorization:`Bearer ${a}`},...o&&{"x-api-key":o},...s.headers},...s};try{const f=await fetch(n,c);if(f.status===401){const d=localStorage.getItem("refreshToken");if(d)try{const u=await fetch(`${Gr}/api/auth/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:d})});if(u.ok){const h=await u.json();localStorage.setItem("token",h.accessToken),h.refreshToken&&localStorage.setItem("refreshToken",h.refreshToken);const x={...c,headers:{...c.headers,Authorization:`Bearer ${h.accessToken}`}},m=await fetch(n,x);if(!m.ok){const p=await m.json().catch(()=>({}));throw new Error(p.error||`HTTP ${m.status}: ${m.statusText}`)}return{data:await m.json()}}}catch(u){return console.error("Token refresh failed:",u),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),window.location.href="/login",{error:"Authentication expired. Please log in again."}}}if(!f.ok){const d=await f.json().catch(()=>({}));throw new Error(d.error||`HTTP ${f.status}: ${f.statusText}`)}return{data:await f.json()}}catch(f){return console.error("API request failed:",f),{error:f instanceof Error?f.message:"Unknown error occurred"}}}async getProfile(){return this.request("/api/profiles/me")}async updateProfile(t){return this.request("/api/profiles/me",{method:"PUT",body:JSON.stringify(t)})}async getDashboardStats(){return this.request("/api/profiles/dashboard")}async addDevice(t){return this.request("/api/devices/add",{method:"POST",body:JSON.stringify(t)})}async getDevices(){return this.request("/api/devices/my-devices")}async getDeletedDevices(){return this.request("/api/devices/my-deleted-devices")}async softDeleteDevice(t){return this.request(`/api/devices/${t}/soft-delete`,{method:"POST"})}async restoreDevice(t){return this.request(`/api/devices/${t}/restore`,{method:"POST"})}async getDevice(t){return this.request(`/api/devices/${t}`)}async downloadQRCode(t){const s=localStorage.getItem("token"),r=`${Gr}/api/devices/${t}/qr`;try{const n=await fetch(r,{headers:{Authorization:`Bearer ${s}`}});if(!n.ok)throw new Error(`HTTP ${n.status}: ${n.statusText}`);return await n.blob()}catch(n){return console.error("Failed to download QR code:",n),null}}async createConnectAccount(t){return this.request("/api/stripe/connect-account",{method:"POST",body:JSON.stringify(t)},!0)}async getConnectAccountStatus(t){return this.request(`/api/stripe/connect-account/${t}/status`)}async login(t){return this.request("/api/auth/login",{method:"POST",body:JSON.stringify(t)})}async register(t){return this.request("/api/auth/register",{method:"POST",body:JSON.stringify(t)},!0)}async setPassword(t,s){return s?this.request("/api/auth/set-password-onboarding",{method:"POST",body:JSON.stringify({password:t,email:s})},!0):this.request("/api/auth/set-password",{method:"POST",body:JSON.stringify({password:t})})}async createProfileOnboarding(t){return this.request("/api/auth/create-profile-onboarding",{method:"POST",body:JSON.stringify(t)},!0)}async changePassword(t,s){return this.request("/api/auth/change-password",{method:"POST",body:JSON.stringify({currentPassword:t,newPassword:s})})}async registerDeviceOnboarding(t){return this.request("/api/devices/register",{method:"POST",body:JSON.stringify(t)},!0)}async deleteDeviceDebug(t){return this.request(`/api/devices/debug/${t}`,{method:"DELETE"},!0)}async checkDeviceExists(t){return this.request(`/api/devices/check-exists/${t}`,{method:"GET"},!0)}async submitTip(t){return this.request("/api/tips",{method:"POST",body:JSON.stringify(t)})}async getDashboardMetrics(t){return this.request(`/api/tips/dashboard-metrics/${t}`)}async getRecentTips(t){return this.request(`/api/tips/recent-tips/${t}`)}}const fe=new Vf,Wa=()=>{const[e,t]=A.useState(""),[s,r]=A.useState(""),[n,a]=A.useState(!1),[o,c]=A.useState(""),f=st(),l=async u=>{var h;u.preventDefault(),a(!0),c("");try{const x=await fe.login({email:e,password:s});if(x.error){c(x.error);return}if((h=x.data)!=null&&h.accessToken){localStorage.setItem("token",x.data.accessToken),x.data.refreshToken&&localStorage.setItem("refreshToken",x.data.refreshToken);const m=sessionStorage.getItem("kyc_result");m&&(localStorage.setItem("kyc_result",m),sessionStorage.removeItem("kyc_result"),console.log("KYC result moved to localStorage for dashboard display")),f("/dashboard")}else c("Login failed. Please try again.")}catch{c("Login failed. Please try again.")}finally{a(!1)}},d=()=>{f("/onboarding")};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-r from-primary-600 to-primary-700 rounded-2xl flex items-center justify-center mb-4",children:i.jsx("span",{className:"text-2xl font-bold text-white",children:"T"})}),i.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Welcome back"}),i.jsx("p",{className:"text-gray-600",children:"Sign in to manage your tipping devices"})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[i.jsxs("form",{onSubmit:l,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Email address"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"})})}),i.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your email",value:e,onChange:u=>t(u.target.value)})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),i.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your password",value:s,onChange:u=>r(u.target.value)})]})]}),o&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("span",{className:"text-red-600 text-sm",children:o})]})}),i.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-primary-600 to-primary-700 text-white font-semibold py-3 px-4 rounded-lg hover:from-primary-700 hover:to-primary-800 focus:ring-4 focus:ring-primary-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:n?i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Signing in..."})]}):"Sign in"})]}),i.jsx("div",{className:"mt-8",children:i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-gray-200"})}),i.jsx("div",{className:"relative flex justify-center text-sm",children:i.jsx("span",{className:"px-4 bg-white text-gray-500",children:"New to Tipply?"})})]})}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{onClick:d,className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 text-white font-semibold py-3 px-4 rounded-lg hover:from-green-700 hover:to-emerald-700 focus:ring-4 focus:ring-green-200 transition-all duration-200",children:i.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[i.jsx("span",{children:"Get Started"}),i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7l5 5m0 0l-5 5m5-5H6"})})]})})})]}),i.jsx("div",{className:"mt-8 text-center",children:i.jsx("p",{className:"text-sm text-gray-500",children:"Secure  Fast  Reliable"})})]})})},Of=()=>{const[e,t]=A.useState(null),[s,r]=A.useState(null),[n,a]=A.useState([]),[o,c]=A.useState(!0),[f,l]=A.useState("overview"),[d,u]=A.useState(!1),[h,x]=A.useState([]),[m,y]=A.useState({}),[p,b]=A.useState("unknown"),[g,v]=A.useState(null),[w,C]=A.useState(!1),[E,D]=A.useState({deviceUuid:"",nickname:""}),[B,F]=A.useState({}),[j,N]=A.useState(!1),[P,T]=A.useState(!1),[H,$]=A.useState([]),[L,z]=A.useState(!1),[M,k]=A.useState(null),[W,S]=A.useState(null),[_,R]=A.useState(!1),[I,Z]=A.useState(null),q=st();A.useEffect(()=>{if(!localStorage.getItem("token")){console.log("No authentication token found, redirecting to login"),q("/login");return}Ee(),Ae(),ie(),He()},[q]);const ie=async()=>{try{const V=await fe.getProfile();V.data&&v(V.data)}catch(V){console.error("Error fetching user profile:",V)}},Y=()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),q("/login")},Ee=async()=>{try{const V=await fe.getProfile();if(V.error&&V.error.includes("401")){console.log("Authentication failed, redirecting to login"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),q("/login");return}if(V.data){const re=await fe.getDashboardMetrics(V.data.id);re.data&&r(re.data);const ue=await fe.getRecentTips(V.data.id);ue.data&&a(ue.data.map(te=>({id:te.id,amount:te.amount,deviceNickname:"Device",createdAt:te.createdAt,status:te.status})))}const se=await fe.getDashboardStats();if(se.error&&se.error.includes("401")){console.log("Authentication failed, redirecting to login"),localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),q("/login");return}t(se.data)}catch(V){if(console.error("Error fetching dashboard stats:",V),V instanceof Error&&V.message.includes("401")){localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),q("/login");return}}finally{c(!1)}},Ae=async()=>{try{const V=await fe.getDevices();if(V.error||!V.data){console.log("No devices found or error getting devices");return}const se=V.data,re=[],ue={};for(const te of se)if(te.stripeAccountId)try{const bt=await fe.getConnectAccountStatus(te.uuid);if(bt.data){const ht=bt.data;ue[te.uuid]=ht.VerificationStatus||ht.verificationStatus||"Unknown";const Qe=ht.VerificationStatus||ht.verificationStatus||"unknown";Qe.toLowerCase()==="verified"?(re.push(te.uuid),p!=="verified"&&b("verified")):Qe.toLowerCase()==="pending"||Qe.toLowerCase()==="pending_verification"||Qe.toLowerCase()==="incomplete"||Qe.toLowerCase()==="requires_verification"?p!=="verified"&&b("pending"):p!=="verified"&&p!=="pending"&&b("not_verified")}}catch(bt){console.error(`Error checking status for device ${te.uuid}:`,bt),ue[te.uuid]="Error"}else ue[te.uuid]="Not Setup";x(re),y(ue)}catch(V){console.error("Error checking Stripe Connect status:",V)}},Ft=()=>{u(!1)},Ue=()=>{C(!0),l("addDevice")},De=()=>{C(!1),T(!1),l("overview"),D({deviceUuid:"",nickname:""}),F({})},me=(V,se)=>{D(re=>({...re,[V]:se})),B[V]&&F(re=>({...re,[V]:""}))},vt=()=>{const V={};return E.deviceUuid.trim()?E.deviceUuid.length!==36&&(V.deviceUuid="Device UUID must be 36 characters"):V.deviceUuid="Device UUID is required",E.nickname.trim()||(V.nickname="Device nickname is required"),F(V),Object.keys(V).length===0},rt=async()=>{try{return{hasStripeAccount:!!((e==null?void 0:e.devices.some(re=>m[re.uuid]==="Enabled"))||h.length>0),isKycVerified:p==="verified"}}catch(V){return console.error("Error checking Stripe status:",V),{hasStripeAccount:!1,isKycVerified:!1}}},ze=async()=>{if(vt()){N(!0);try{await Ae(),await new Promise(re=>setTimeout(re,500));const{hasStripeAccount:V,isKycVerified:se}=await rt();if(!V||!se){T(!0);return}await nt()}catch(V){console.error("Error adding device:",V),F({submit:"Failed to add device. Please try again."})}finally{N(!1)}}},nt=async()=>{try{const V=await fe.addDevice({deviceUuid:E.deviceUuid,nickname:E.nickname});if(V.error)throw new Error(V.error);await Ee(),await Ae(),C(!1),l("devices"),D({deviceUuid:"",nickname:""}),F({})}catch(V){console.error("Error adding device:",V),F({submit:"Failed to add device. Please try again."})}},ke=async(V,se)=>{try{const re=await fe.downloadQRCode(V);if(re){const ue=window.URL.createObjectURL(re),te=document.createElement("a");te.href=ue,te.download=`qr-code-${se||V}.png`,document.body.appendChild(te),te.click(),window.URL.revokeObjectURL(ue),document.body.removeChild(te)}}catch(re){console.error("Error downloading QR code:",re)}},He=async()=>{try{const V=await fe.getDeletedDevices();V.data&&$(V.data)}catch(V){console.error("Error fetching deleted devices:",V)}},Fe=async V=>{Z(V),R(!0)},ne=async()=>{if(I){k(I.id);try{const V=await fe.softDeleteDevice(I.id);V.data?(Ee(),He(),R(!1),Z(null)):alert("Failed to delete device: "+(V.error||"Unknown error"))}catch(V){console.error("Error deleting device:",V),alert("Error deleting device")}finally{k(null)}}},je=()=>{R(!1),Z(null)},yt=async V=>{S(V);try{const se=await fe.restoreDevice(V);se.data?(Ee(),He()):alert("Failed to restore device: "+(se.error||"Unknown error"))}catch(se){console.error("Error restoring device:",se),alert("Error restoring device")}finally{S(null)}},Wt=()=>{z(!L),L||He()},ae=V=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(V),Xe=V=>new Date(V).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})}):e?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[d&&i.jsx("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 w-full max-w-md",style:{top:"16px"},children:i.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 shadow-lg",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),i.jsxs("div",{className:"ml-3 flex-1",children:[i.jsx("h3",{className:"text-sm font-medium text-green-800",children:"Stripe Account Verified! "}),i.jsx("div",{className:"mt-2 text-sm text-green-700",children:i.jsxs("p",{children:["Your Stripe Connect account is now enabled and ready to receive payments!",h.length>0&&i.jsxs("span",{className:"block mt-1",children:["Verified devices: ",h.join(", ")]})]})})]}),i.jsx("div",{className:"ml-auto pl-3",children:i.jsx("button",{onClick:Ft,className:"inline-flex text-green-400 hover:text-green-600 focus:outline-none focus:text-green-600",children:i.jsx("svg",{className:"h-5 w-5",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})})]})})}),i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center py-6",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Tipply"}),i.jsxs("p",{className:"text-gray-600",children:["Welcome back, ",(g==null?void 0:g.firstName)||(g==null?void 0:g.stageName)||"Performer","! Here's your tipping overview"]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[p==="verified"&&i.jsxs("div",{className:"flex items-center space-x-2 bg-green-50 border border-green-200 rounded-lg px-3 py-2",children:[i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-sm font-medium text-green-800",children:"KYC Verified"})]}),p==="pending"&&i.jsxs("div",{className:"flex items-center space-x-2 bg-yellow-50 border border-yellow-200 rounded-lg px-3 py-2",children:[i.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"KYC Pending"})]}),h.length>0&&i.jsxs("div",{className:"flex items-center space-x-2 bg-blue-50 border border-blue-200 rounded-lg px-3 py-2",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Stripe Verified"})]})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>q("/profile"),className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",title:"Profile",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),i.jsx("button",{onClick:Y,className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",title:"Logout",children:i.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[i.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 border border-blue-200 rounded-xl shadow-sm p-6 transform hover:scale-105 transition-all duration-200",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-10 h-10 bg-blue-500 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-blue-700",children:"Pending Balance"}),i.jsx("p",{className:"text-2xl font-bold text-blue-900",children:s?ae(s.pendingPayouts):"$0.00"}),i.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Awaiting payout cycle"})]})]})}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-5 h-5 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Tips"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s?ae(s.pendingTips):"$0.00"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Awaiting processing"})]})]})}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Earnings"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ae(s?s.totalEarnings:e.totalTipsReceived)})]})]})}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Today's Tips"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ae(s?s.todaysTips:e.todayTipsReceived)}),i.jsx("p",{className:"text-sm text-gray-500",children:s?`${Math.round(s.todaysTips)} tips`:`${e.todayTipsCount} tips`})]})]})}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})})})}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Devices"}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e.activeDevices}),i.jsxs("p",{className:"text-sm text-gray-500",children:["of ",e.totalDevices," total"]})]})]})}),i.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})})})}),i.jsxs("div",{className:"ml-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),s&&s.trendPercentage>0&&i.jsxs("div",{className:`flex items-center space-x-1 ${s.trendDirection==="up"?"text-green-600":"text-red-600"}`,children:[s.trendDirection==="up"?i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z",clipRule:"evenodd"})}):i.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M16.707 10.293a1 1 0 010 1.414l-6 6a1 1 0 01-1.414 0l-6-6a1 1 0 111.414-1.414L9 14.586V3a1 1 0 012 0v11.586l4.293-4.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),i.jsxs("span",{className:"text-xs font-medium",children:[s.trendPercentage.toFixed(1),"%"]})]})]}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ae(s?s.thisMonthTips:e.thisMonthTipsReceived)}),i.jsx("p",{className:"text-sm text-gray-500",children:s?`${Math.round(s.thisMonthTips)} tips`:`${e.thisMonthTipsCount} tips`})]})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm mb-8",children:[i.jsx("div",{className:"border-b border-gray-200",children:i.jsx("nav",{className:"flex space-x-8 px-6",children:w?i.jsxs("div",{className:"flex items-center justify-between w-full",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("button",{onClick:De,className:"flex items-center space-x-2 text-gray-500 hover:text-gray-700 transition-colors",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),i.jsx("span",{children:"Back to Dashboard"})]})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Add New Device"})]}):i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>l("overview"),className:`py-4 px-1 border-b-2 font-medium text-sm ${f==="overview"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overview"}),i.jsx("button",{onClick:()=>l("devices"),className:`py-4 px-1 border-b-2 font-medium text-sm ${f==="devices"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Devices"}),i.jsx("button",{onClick:()=>l("tips"),className:`py-4 px-1 border-b-2 font-medium text-sm ${f==="tips"?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Recent Tips"})]})})}),i.jsxs("div",{className:"p-6",children:[f==="overview"&&i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Weekly Performance"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-600",children:"This Week"}),i.jsx("span",{className:"font-semibold",children:ae(s?s.thisWeekTips||0:e.thisWeekTipsReceived)})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-600",children:"Tips Count"}),i.jsx("span",{className:"font-semibold",children:s?s.thisWeekTipsCount||0:e.thisWeekTipsCount})]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-600",children:"Average per Tip"}),i.jsx("span",{className:"font-semibold",children:s&&s.thisWeekTipsCount&&s.thisWeekTipsCount>0?ae(s.thisWeekTips/s.thisWeekTipsCount):e.thisWeekTipsCount>0?ae(e.thisWeekTipsReceived/e.thisWeekTipsCount):"$0.00"})]})]})]}),i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("button",{onClick:Ue,className:"w-full text-left p-3 bg-white rounded-lg border border-green-200 hover:border-green-300 transition-colors",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Add New Device"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Register another Tipply device"})]})]})}),i.jsx("button",{onClick:()=>l("devices"),className:"w-full text-left p-3 bg-white rounded-lg border border-green-200 hover:border-green-300 transition-colors",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-900",children:"Download QR Codes"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Get QR codes for your devices"})]})]})})]})]})]})}),f==="devices"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Your Devices"}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsxs("button",{onClick:Ae,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),i.jsx("span",{children:"Refresh Status"})]}),i.jsx("button",{onClick:Ue,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Add Device"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.devices.map(V=>{const se=m[V.uuid]||"Unknown",re=se==="Enabled",ue=se==="Pending"||se==="Incomplete",te=se==="Not Setup"||se==="Unknown";return i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:V.nickname||"Unnamed Device"}),re&&i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[i.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Verified"]}),ue&&i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[i.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Pending"]}),te&&i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:[i.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})}),"Setup Required"]})]}),i.jsx("p",{className:"text-sm text-gray-500",children:V.uuid})]}),i.jsx("div",{className:`w-3 h-3 rounded-full ${V.isOnline?"bg-green-500":"bg-gray-400"}`})]}),i.jsxs("div",{className:"space-y-3 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Total Tips"}),i.jsx("span",{className:"font-medium",children:V.totalTipsCount})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Total Earned"}),i.jsx("span",{className:"font-medium",children:ae(V.totalTipsReceived)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Last Tip"}),i.jsx("span",{className:"font-medium",children:Xe(V.lastTipReceived)})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"Device Status"}),i.jsx("span",{className:`font-medium ${V.isOnline?"text-green-600":"text-gray-600"}`,children:V.isOnline?"Online":"Offline"})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>ke(V.id,V.nickname),className:"flex-1 px-3 py-2 bg-primary-600 text-white text-sm rounded-lg hover:bg-primary-700 transition-colors",children:"Download QR"}),i.jsx("button",{onClick:()=>window.open(V.qrCodeUrl,"_blank"),className:"px-3 py-2 bg-gray-200 text-gray-700 text-sm rounded-lg hover:bg-gray-300 transition-colors",children:"View"}),i.jsx("button",{onClick:()=>Fe(V),disabled:M===V.id,className:"px-3 py-2 bg-red-100 text-red-700 text-sm rounded-lg hover:bg-red-200 transition-colors disabled:opacity-50",children:M===V.id?"Deleting...":"Delete"})]})]},V.id)})}),i.jsxs("div",{className:"mt-8",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Deleted Devices"}),i.jsxs("button",{onClick:Wt,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),i.jsxs("span",{children:[L?"Hide":"Show"," Deleted Devices"]})]})]}),L&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.length===0?i.jsx("div",{className:"col-span-full text-center py-8",children:i.jsx("p",{className:"text-gray-500",children:"No deleted devices found."})}):H.map(V=>i.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 border border-gray-200 opacity-75",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:V.nickname||"Unnamed Device"}),i.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[i.jsx("svg",{className:"w-3 h-3 mr-1",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}),"Deleted"]})]}),i.jsx("p",{className:"text-sm text-gray-500",children:V.uuid}),V.deletedAt&&i.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Deleted on ",Xe(V.deletedAt)]})]})}),i.jsx("div",{className:"flex space-x-2",children:i.jsx("button",{onClick:()=>yt(V.id),disabled:W===V.id,className:"flex-1 px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50",children:W===V.id?"Restoring...":"Restore"})})]},V.id))})]}),e.devices.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"})})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No devices yet"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first Tipply device"}),i.jsx("button",{onClick:Ue,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Add Your First Device"})]})]}),f==="tips"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Tips (Today)"}),i.jsx("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Device"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(V=>i.jsxs("tr",{className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:"text-lg font-semibold text-gray-900",children:ae(V.amount)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:"text-sm text-gray-900",children:V.deviceNickname})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:"text-sm text-gray-500",children:Xe(V.createdAt)})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${V.status==="processed"?"bg-green-100 text-green-800":V.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:V.status})})]},V.id))})]})})}),n.length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})}),i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No tips today"}),i.jsx("p",{className:"text-gray-500",children:"Tips from today (both pending and processed) will appear here once you start receiving them"})]})]}),f==="addDevice"&&i.jsx("div",{className:"space-y-6",children:P?i.jsx("div",{children:i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"w-6 h-6 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Stripe Setup Required"}),i.jsx("p",{className:"text-yellow-700 mb-4",children:"Before adding a new device, you need to complete your Stripe Connect account setup and KYC verification."}),i.jsx("div",{className:"flex space-x-4",children:i.jsx("button",{onClick:De,className:"px-4 py-2 bg-yellow-100 text-yellow-800 rounded-lg hover:bg-yellow-200 transition-colors",children:"Back to Dashboard"})})]})]})})}):i.jsx("div",{children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Add New Device"}),i.jsx("p",{className:"text-gray-600",children:"Enter your device details to add it to your account."})]}),i.jsxs("form",{onSubmit:V=>{V.preventDefault(),ze()},className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"deviceUuid",className:"block text-sm font-medium text-gray-700 mb-2",children:"Device UUID *"}),i.jsx("input",{type:"text",id:"deviceUuid",value:E.deviceUuid,onChange:V=>me("deviceUuid",V.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${B.deviceUuid?"border-red-500 focus:ring-red-200":"border-gray-300"}`,placeholder:"e.g., f47ac10b-58cc-4372-a567-0e02b2c3d47f"}),B.deviceUuid&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.deviceUuid}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Enter the 36-character UUID from your Tipply device"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"nickname",className:"block text-sm font-medium text-gray-700 mb-2",children:"Device Nickname *"}),i.jsx("input",{type:"text",id:"nickname",value:E.nickname,onChange:V=>me("nickname",V.target.value),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${B.nickname?"border-red-500 focus:ring-red-200":"border-gray-300"}`,placeholder:"e.g., Main Stage, Bar Counter, VIP Room"}),B.nickname&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:B.nickname}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Give your device a friendly name for easy identification"})]}),B.submit&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsx("p",{className:"text-red-600 text-sm",children:B.submit})}),i.jsxs("div",{className:"flex space-x-4 pt-4",children:[i.jsx("button",{type:"button",onClick:De,className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:j,className:"px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:j?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),i.jsx("span",{children:"Adding Device..."})]}):i.jsx("span",{children:"Add Device"})})]})]})]})})})]})]})]}),_&&I&&i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50",children:i.jsxs("div",{className:"relative p-8 border w-96 shadow-lg rounded-md bg-white",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Confirm Deletion"}),i.jsxs("p",{className:"text-gray-600 mt-2",children:['Are you sure you want to delete the device "',I.nickname||I.uuid,'"? This action cannot be undone.']})]}),i.jsxs("div",{className:"items-center px-4 py-3",children:[i.jsx("button",{onClick:ne,className:"px-4 py-2 bg-red-600 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500",children:"Delete"}),i.jsx("button",{onClick:je,className:"mt-3 px-4 py-2 bg-gray-200 text-gray-800 text-base font-medium rounded-md w-full shadow-sm hover:bg-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-500",children:"Cancel"})]})]})})]}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-600",children:"Failed to load dashboard data"}),i.jsx("button",{onClick:Ee,className:"mt-4 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Retry"})]})})},Uf=()=>{const[e,t]=A.useState(null),[s,r]=A.useState(!1),[n,a]=A.useState(!1),[o,c]=A.useState(!0),[f,l]=A.useState(!1),[d,u]=A.useState(""),[h,x]=A.useState(""),[m,y]=A.useState({firstName:"",lastName:"",email:"",phone:"",stageName:"",bio:""}),[p,b]=A.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[g,v]=A.useState({}),[w,C]=A.useState({}),E=st();A.useEffect(()=>{D()},[]);const D=async()=>{try{c(!0);const k=await fe.getProfile();if(k.error){u("Failed to load profile");return}const W=k.data;t(W),y({firstName:W.firstName||"",lastName:W.lastName||"",email:W.email||"",phone:W.phone||"",stageName:W.stageName||"",bio:W.bio||""})}catch{u("Failed to load profile")}finally{c(!1)}},B=()=>{r(!0),u(""),x("")},F=()=>{r(!1),y({firstName:(e==null?void 0:e.firstName)||"",lastName:(e==null?void 0:e.lastName)||"",email:(e==null?void 0:e.email)||"",phone:(e==null?void 0:e.phone)||"",stageName:(e==null?void 0:e.stageName)||"",bio:(e==null?void 0:e.bio)||""}),C({})},j=(k,W)=>{y(S=>({...S,[k]:W})),w[k]&&C(S=>({...S,[k]:""}))},N=()=>{const k={};return m.firstName.trim()||(k.firstName="First name is required"),m.lastName.trim()||(k.lastName="Last name is required"),m.email.trim()?/\S+@\S+\.\S+/.test(m.email)||(k.email="Email is invalid"):k.email="Email is required",C(k),Object.keys(k).length===0},P=async()=>{if(N())try{l(!0),u("");const k=await fe.updateProfile(m);if(k.error){u(k.error);return}t(m),r(!1),x("Profile updated successfully!"),setTimeout(()=>x(""),3e3)}catch{u("Failed to update profile")}finally{l(!1)}},T=()=>{a(!0),b({currentPassword:"",newPassword:"",confirmPassword:""}),v({}),u(""),x("")},H=()=>{a(!1),v({})},$=(k,W)=>{b(S=>({...S,[k]:W})),g[k]&&v(S=>({...S,[k]:""}))},L=()=>{const k={};return p.currentPassword||(k.currentPassword="Current password is required"),p.newPassword?p.newPassword.length<6&&(k.newPassword="Password must be at least 6 characters"):k.newPassword="New password is required",p.confirmPassword?p.newPassword!==p.confirmPassword&&(k.confirmPassword="Passwords do not match"):k.confirmPassword="Please confirm your new password",v(k),Object.keys(k).length===0},z=async()=>{if(L())try{l(!0),u("");const k=await fe.changePassword(p.currentPassword,p.newPassword);if(k.error){u(k.error);return}a(!1),x("Password changed successfully!"),setTimeout(()=>x(""),3e3)}catch{u("Failed to change password")}finally{l(!1)}},M=()=>{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),E("/login")};return o?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-8 h-8 border-4 border-primary-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading profile..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"flex justify-between items-center h-16",children:[i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("button",{onClick:()=>E("/dashboard"),className:"flex items-center space-x-2 text-gray-500 hover:text-gray-700 transition-colors",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),i.jsx("span",{children:"Back to Dashboard"})]})}),i.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Profile"}),i.jsx("button",{onClick:M,className:"p-2 text-gray-500 hover:text-gray-700 transition-colors",title:"Logout",children:i.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})})]})})}),i.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-8",children:[d&&i.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsx("p",{className:"text-red-600 text-sm",children:d})}),h&&i.jsx("div",{className:"mb-6 bg-green-50 border border-green-200 rounded-lg p-4",children:i.jsx("p",{className:"text-green-600 text-sm",children:h})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6 max-w-2xl",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Personal Information"}),!s&&i.jsx("button",{onClick:B,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:"Edit Profile"})]}),s?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"First Name *"}),i.jsx("input",{type:"text",value:m.firstName,onChange:k=>j("firstName",k.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${w.firstName?"border-red-500":"border-gray-300"}`}),w.firstName&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.firstName})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Last Name *"}),i.jsx("input",{type:"text",value:m.lastName,onChange:k=>j("lastName",k.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${w.lastName?"border-red-500":"border-gray-300"}`}),w.lastName&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.lastName})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Stage Name"}),i.jsx("input",{type:"text",value:m.stageName,onChange:k=>j("stageName",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Your stage name (optional)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),i.jsx("input",{type:"email",value:m.email,onChange:k=>j("email",k.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${w.email?"border-red-500":"border-gray-300"}`}),w.email&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:w.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone"}),i.jsx("input",{type:"tel",value:m.phone,onChange:k=>j("phone",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Your phone number (optional)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bio"}),i.jsx("textarea",{value:m.bio,onChange:k=>j("bio",k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:4,placeholder:"Write a brief bio about yourself (optional)"})]}),i.jsxs("div",{className:"flex space-x-4 pt-4",children:[i.jsx("button",{onClick:F,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:P,disabled:f,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Saving...":"Save Changes"})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"First Name"}),i.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.firstName)||"Not set"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Name"}),i.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.lastName)||"Not set"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stage Name"}),i.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.stageName)||"Not set"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.email)||"Not set"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.phone)||"Not set"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bio"}),i.jsx("p",{className:"text-gray-900",children:(e==null?void 0:e.bio)||"Not set"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 max-w-2xl",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Security"}),!n&&i.jsx("button",{onClick:T,className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"Change Password"})]}),n?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Password *"}),i.jsx("input",{type:"password",value:p.currentPassword,onChange:k=>$("currentPassword",k.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${g.currentPassword?"border-red-500":"border-gray-300"}`}),g.currentPassword&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.currentPassword})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password *"}),i.jsx("input",{type:"password",value:p.newPassword,onChange:k=>$("newPassword",k.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${g.newPassword?"border-red-500":"border-gray-300"}`}),g.newPassword&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.newPassword})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirm New Password *"}),i.jsx("input",{type:"password",value:p.confirmPassword,onChange:k=>$("confirmPassword",k.target.value),className:`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent ${g.confirmPassword?"border-red-500":"border-gray-300"}`}),g.confirmPassword&&i.jsx("p",{className:"text-red-500 text-sm mt-1",children:g.confirmPassword})]}),i.jsxs("div",{className:"flex space-x-4 pt-4",children:[i.jsx("button",{onClick:H,className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:z,disabled:f,className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Changing Password...":"Change Password"})]})]}):i.jsx("div",{children:i.jsx("p",{className:"text-gray-600",children:"Keep your account secure by using a strong password."})})]})]})]})},zf=()=>{const[e,t]=A.useState(""),[s,r]=A.useState(!1),[n,a]=A.useState(""),[o,c]=A.useState(""),[f,l]=A.useState(""),d=st(),u=async h=>{h.preventDefault(),r(!0),a(""),c("");try{const x=await fetch("/api/devices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!x.ok)throw new Error("Failed to create device");const m=await x.json();c("Device created successfully!"),l(`/api/devices/${m.id}/qr`)}catch{a("Failed to create device. Please try again.")}finally{r(!1)}};return i.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-3xl font-extrabold text-gray-900",children:"Register New Device"}),i.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Create a new tipping device"})]}),i.jsxs("form",{onSubmit:u,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"deviceName",className:"block text-sm font-medium text-gray-700",children:"Device Name"}),i.jsx("input",{id:"deviceName",type:"text",required:!0,className:"input-field mt-1",placeholder:"Enter device name",value:e,onChange:h=>t(h.target.value)})]}),n&&i.jsx("div",{className:"text-red-600 text-sm text-center",children:n}),o&&i.jsx("div",{className:"text-green-600 text-sm text-center",children:o}),i.jsx("button",{type:"submit",disabled:s,className:"btn-primary w-full",children:s?"Creating...":"Create Device"})]}),f&&i.jsxs("div",{className:"mt-8 text-center",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"QR Code for Device"}),i.jsx("div",{className:"bg-white p-4 rounded-lg shadow",children:i.jsx("img",{src:f,alt:"Device QR Code",className:"mx-auto",style:{maxWidth:"200px"}})}),i.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Scan this QR code to access the tipping interface"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:()=>d("/dashboard"),className:"btn-secondary",children:"Back to Dashboard"})})]})})},Hf=()=>{const[e,t]=A.useState([]),[s,r]=A.useState(!0),[n,a]=A.useState(""),o=st();A.useEffect(()=>{c()},[]);const c=async()=>{try{const l=await fetch("/api/devices");if(!l.ok)throw new Error("Failed to fetch devices");const d=await l.json();t(d)}catch{a("Failed to load devices")}finally{r(!1)}},f=async(l,d)=>{try{const u=await fetch(`/api/devices/${l}/qr`);if(!u.ok)throw new Error("Failed to download QR code");const h=await u.blob(),x=window.URL.createObjectURL(h),m=document.createElement("a");m.href=x,m.download=`tipply-qr-${d}.png`,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(x)}catch(u){console.error("Failed to download QR code:",u)}};return s?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading devices..."})]})}):i.jsx("div",{className:"min-h-screen bg-gray-50",children:i.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[i.jsxs("div",{className:"flex justify-between items-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Manage Devices"}),i.jsx("button",{onClick:()=>o("/add-device"),className:"btn-primary",children:"Add Device"})]}),n&&i.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4 mb-6",children:i.jsx("p",{className:"text-red-600",children:n})}),e.length===0?i.jsxs("div",{className:"card text-center py-12",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No devices found"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by creating your first tipping device"}),i.jsx("button",{onClick:()=>o("/add-device"),className:"btn-primary",children:"Create Device"})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(l=>i.jsxs("div",{className:"card",children:[i.jsxs("div",{className:"flex justify-between items-start mb-4",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900",children:l.name}),i.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${l.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l.isActive?"Active":"Inactive"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("p",{children:["ID: ",l.id]}),i.jsxs("p",{children:["Created: ",new Date(l.createdAt).toLocaleDateString()]})]}),i.jsxs("div",{className:"mt-4 space-y-2",children:[i.jsx("button",{onClick:()=>f(l.id,l.name),className:"btn-secondary w-full",children:"Download QR Code"}),i.jsx("button",{onClick:()=>o(`/tip/${l.id}`),className:"btn-primary w-full",children:"View Tipping Page"})]})]},l.id))}),i.jsx("div",{className:"mt-8",children:i.jsx("button",{onClick:()=>o("/dashboard"),className:"btn-secondary",children:"Back to Dashboard"})})]})})})},Mi=A.createContext({});function Li(e){const t=A.useRef(null);return t.current===null&&(t.current=e()),t.current}const Vi=typeof window<"u",Tl=Vi?A.useLayoutEffect:A.useEffect,Fr=A.createContext(null);function Oi(e,t){e.indexOf(t)===-1&&e.push(t)}function Ui(e,t){const s=e.indexOf(t);s>-1&&e.splice(s,1)}const pt=(e,t,s)=>s>t?t:s<e?e:s;let zi=()=>{};const gt={},_l=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function Rl(e){return typeof e=="object"&&e!==null}const Il=e=>/^0[^.\s]+$/u.test(e);function Hi(e){let t;return()=>(t===void 0&&(t=e()),t)}const Ge=e=>e,$f=(e,t)=>s=>t(e(s)),Ks=(...e)=>e.reduce($f),Ps=(e,t,s)=>{const r=t-e;return r===0?1:(s-e)/r};class $i{constructor(){this.subscriptions=[]}add(t){return Oi(this.subscriptions,t),()=>Ui(this.subscriptions,t)}notify(t,s,r){const n=this.subscriptions.length;if(n)if(n===1)this.subscriptions[0](t,s,r);else for(let a=0;a<n;a++){const o=this.subscriptions[a];o&&o(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ct=e=>e*1e3,dt=e=>e/1e3;function Ml(e,t){return t?e*(1e3/t):0}const Ll=(e,t,s)=>(((1-3*s+3*t)*e+(3*s-6*t))*e+3*t)*e,Wf=1e-7,qf=12;function Kf(e,t,s,r,n){let a,o,c=0;do o=t+(s-t)/2,a=Ll(o,r,n)-e,a>0?s=o:t=o;while(Math.abs(a)>Wf&&++c<qf);return o}function Ys(e,t,s,r){if(e===t&&s===r)return Ge;const n=a=>Kf(a,0,1,e,s);return a=>a===0||a===1?a:Ll(n(a),t,r)}const Vl=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Ol=e=>t=>1-e(1-t),Ul=Ys(.33,1.53,.69,.99),Wi=Ol(Ul),zl=Vl(Wi),Hl=e=>(e*=2)<1?.5*Wi(e):.5*(2-Math.pow(2,-10*(e-1))),qi=e=>1-Math.sin(Math.acos(e)),$l=Ol(qi),Wl=Vl(qi),Yf=Ys(.42,0,1,1),Gf=Ys(0,0,.58,1),ql=Ys(.42,0,.58,1),Xf=e=>Array.isArray(e)&&typeof e[0]!="number",Kl=e=>Array.isArray(e)&&typeof e[0]=="number",Qf={linear:Ge,easeIn:Yf,easeInOut:ql,easeOut:Gf,circIn:qi,circInOut:Wl,circOut:$l,backIn:Wi,backInOut:zl,backOut:Ul,anticipate:Hl},Zf=e=>typeof e=="string",qa=e=>{if(Kl(e)){zi(e.length===4);const[t,s,r,n]=e;return Ys(t,s,r,n)}else if(Zf(e))return Qf[e];return e},ir=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Jf(e,t){let s=new Set,r=new Set,n=!1,a=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function f(d){o.has(d)&&(l.schedule(d),e()),d(c)}const l={schedule:(d,u=!1,h=!1)=>{const m=h&&n?s:r;return u&&o.add(d),m.has(d)||m.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(c=d,n){a=!0;return}n=!0,[s,r]=[r,s],s.forEach(f),s.clear(),n=!1,a&&(a=!1,l.process(d))}};return l}const eh=40;function Yl(e,t){let s=!1,r=!0;const n={delta:0,timestamp:0,isProcessing:!1},a=()=>s=!0,o=ir.reduce((v,w)=>(v[w]=Jf(a),v),{}),{setup:c,read:f,resolveKeyframes:l,preUpdate:d,update:u,preRender:h,render:x,postRender:m}=o,y=()=>{const v=gt.useManualTiming?n.timestamp:performance.now();s=!1,gt.useManualTiming||(n.delta=r?1e3/60:Math.max(Math.min(v-n.timestamp,eh),1)),n.timestamp=v,n.isProcessing=!0,c.process(n),f.process(n),l.process(n),d.process(n),u.process(n),h.process(n),x.process(n),m.process(n),n.isProcessing=!1,s&&t&&(r=!1,e(y))},p=()=>{s=!0,r=!0,n.isProcessing||e(y)};return{schedule:ir.reduce((v,w)=>{const C=o[w];return v[w]=(E,D=!1,B=!1)=>(s||p(),C.schedule(E,D,B)),v},{}),cancel:v=>{for(let w=0;w<ir.length;w++)o[ir[w]].cancel(v)},state:n,steps:o}}const{schedule:le,cancel:Bt,state:Be,steps:Xr}=Yl(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ge,!0);let dr;function th(){dr=void 0}const Le={now:()=>(dr===void 0&&Le.set(Be.isProcessing||gt.useManualTiming?Be.timestamp:performance.now()),dr),set:e=>{dr=e,queueMicrotask(th)}},Gl=e=>t=>typeof t=="string"&&t.startsWith(e),Ki=Gl("--"),sh=Gl("var(--"),Yi=e=>sh(e)?rh.test(e.split("/*")[0].trim()):!1,rh=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ls={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Ts={...ls,transform:e=>pt(0,1,e)},ar={...ls,default:1},ws=e=>Math.round(e*1e5)/1e5,Gi=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nh(e){return e==null}const ih=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xi=(e,t)=>s=>!!(typeof s=="string"&&ih.test(s)&&s.startsWith(e)||t&&!nh(s)&&Object.prototype.hasOwnProperty.call(s,t)),Xl=(e,t,s)=>r=>{if(typeof r!="string")return r;const[n,a,o,c]=r.match(Gi);return{[e]:parseFloat(n),[t]:parseFloat(a),[s]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},ah=e=>pt(0,255,e),Qr={...ls,transform:e=>Math.round(ah(e))},It={test:Xi("rgb","red"),parse:Xl("red","green","blue"),transform:({red:e,green:t,blue:s,alpha:r=1})=>"rgba("+Qr.transform(e)+", "+Qr.transform(t)+", "+Qr.transform(s)+", "+ws(Ts.transform(r))+")"};function oh(e){let t="",s="",r="",n="";return e.length>5?(t=e.substring(1,3),s=e.substring(3,5),r=e.substring(5,7),n=e.substring(7,9)):(t=e.substring(1,2),s=e.substring(2,3),r=e.substring(3,4),n=e.substring(4,5),t+=t,s+=s,r+=r,n+=n),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:n?parseInt(n,16)/255:1}}const ni={test:Xi("#"),parse:oh,transform:It.transform},Gs=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ct=Gs("deg"),ut=Gs("%"),K=Gs("px"),lh=Gs("vh"),ch=Gs("vw"),Ka={...ut,parse:e=>ut.parse(e)/100,transform:e=>ut.transform(e*100)},Qt={test:Xi("hsl","hue"),parse:Xl("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(e)+", "+ut.transform(ws(t))+", "+ut.transform(ws(s))+", "+ws(Ts.transform(r))+")"},ye={test:e=>It.test(e)||ni.test(e)||Qt.test(e),parse:e=>It.test(e)?It.parse(e):Qt.test(e)?Qt.parse(e):ni.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?It.transform(e):Qt.transform(e),getAnimatableNone:e=>{const t=ye.parse(e);return t.alpha=0,ye.transform(t)}},dh=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function uh(e){var t,s;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Gi))==null?void 0:t.length)||0)+(((s=e.match(dh))==null?void 0:s.length)||0)>0}const Ql="number",Zl="color",fh="var",hh="var(",Ya="${}",xh=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function _s(e){const t=e.toString(),s=[],r={color:[],number:[],var:[]},n=[];let a=0;const c=t.replace(xh,f=>(ye.test(f)?(r.color.push(a),n.push(Zl),s.push(ye.parse(f))):f.startsWith(hh)?(r.var.push(a),n.push(fh),s.push(f)):(r.number.push(a),n.push(Ql),s.push(parseFloat(f))),++a,Ya)).split(Ya);return{values:s,split:c,indexes:r,types:n}}function Jl(e){return _s(e).values}function ec(e){const{split:t,types:s}=_s(e),r=t.length;return n=>{let a="";for(let o=0;o<r;o++)if(a+=t[o],n[o]!==void 0){const c=s[o];c===Ql?a+=ws(n[o]):c===Zl?a+=ye.transform(n[o]):a+=n[o]}return a}}const mh=e=>typeof e=="number"?0:ye.test(e)?ye.getAnimatableNone(e):e;function ph(e){const t=Jl(e);return ec(e)(t.map(mh))}const Nt={test:uh,parse:Jl,createTransformer:ec,getAnimatableNone:ph};function Zr(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function gh({hue:e,saturation:t,lightness:s,alpha:r}){e/=360,t/=100,s/=100;let n=0,a=0,o=0;if(!t)n=a=o=s;else{const c=s<.5?s*(1+t):s+t-s*t,f=2*s-c;n=Zr(f,c,e+1/3),a=Zr(f,c,e),o=Zr(f,c,e-1/3)}return{red:Math.round(n*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:r}}function gr(e,t){return s=>s>0?t:e}const ce=(e,t,s)=>e+(t-e)*s,Jr=(e,t,s)=>{const r=e*e,n=s*(t*t-r)+r;return n<0?0:Math.sqrt(n)},vh=[ni,It,Qt],yh=e=>vh.find(t=>t.test(e));function Ga(e){const t=yh(e);if(!t)return!1;let s=t.parse(e);return t===Qt&&(s=gh(s)),s}const Xa=(e,t)=>{const s=Ga(e),r=Ga(t);if(!s||!r)return gr(e,t);const n={...s};return a=>(n.red=Jr(s.red,r.red,a),n.green=Jr(s.green,r.green,a),n.blue=Jr(s.blue,r.blue,a),n.alpha=ce(s.alpha,r.alpha,a),It.transform(n))},ii=new Set(["none","hidden"]);function bh(e,t){return ii.has(e)?s=>s<=0?e:t:s=>s>=1?t:e}function wh(e,t){return s=>ce(e,t,s)}function Qi(e){return typeof e=="number"?wh:typeof e=="string"?Yi(e)?gr:ye.test(e)?Xa:Ah:Array.isArray(e)?tc:typeof e=="object"?ye.test(e)?Xa:Ch:gr}function tc(e,t){const s=[...e],r=s.length,n=e.map((a,o)=>Qi(a)(a,t[o]));return a=>{for(let o=0;o<r;o++)s[o]=n[o](a);return s}}function Ch(e,t){const s={...e,...t},r={};for(const n in s)e[n]!==void 0&&t[n]!==void 0&&(r[n]=Qi(e[n])(e[n],t[n]));return n=>{for(const a in r)s[a]=r[a](n);return s}}function Eh(e,t){const s=[],r={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const a=t.types[n],o=e.indexes[a][r[a]],c=e.values[o]??0;s[n]=c,r[a]++}return s}const Ah=(e,t)=>{const s=Nt.createTransformer(t),r=_s(e),n=_s(t);return r.indexes.var.length===n.indexes.var.length&&r.indexes.color.length===n.indexes.color.length&&r.indexes.number.length>=n.indexes.number.length?ii.has(e)&&!n.values.length||ii.has(t)&&!r.values.length?bh(e,t):Ks(tc(Eh(r,n),n.values),s):gr(e,t)};function sc(e,t,s){return typeof e=="number"&&typeof t=="number"&&typeof s=="number"?ce(e,t,s):Qi(e)(e,t)}const Dh=e=>{const t=({timestamp:s})=>e(s);return{start:(s=!0)=>le.update(t,s),stop:()=>Bt(t),now:()=>Be.isProcessing?Be.timestamp:Le.now()}},rc=(e,t,s=10)=>{let r="";const n=Math.max(Math.round(t/s),2);for(let a=0;a<n;a++)r+=Math.round(e(a/(n-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},vr=2e4;function Zi(e){let t=0;const s=50;let r=e.next(t);for(;!r.done&&t<vr;)t+=s,r=e.next(t);return t>=vr?1/0:t}function jh(e,t=100,s){const r=s({...e,keyframes:[0,t]}),n=Math.min(Zi(r),vr);return{type:"keyframes",ease:a=>r.next(n*a).value/t,duration:dt(n)}}const Bh=5;function nc(e,t,s){const r=Math.max(t-Bh,0);return Ml(s-e(r),t-r)}const he={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},en=.001;function Nh({duration:e=he.duration,bounce:t=he.bounce,velocity:s=he.velocity,mass:r=he.mass}){let n,a,o=1-t;o=pt(he.minDamping,he.maxDamping,o),e=pt(he.minDuration,he.maxDuration,dt(e)),o<1?(n=l=>{const d=l*o,u=d*e,h=d-s,x=ai(l,o),m=Math.exp(-u);return en-h/x*m},a=l=>{const u=l*o*e,h=u*s+s,x=Math.pow(o,2)*Math.pow(l,2)*e,m=Math.exp(-u),y=ai(Math.pow(l,2),o);return(-n(l)+en>0?-1:1)*((h-x)*m)/y}):(n=l=>{const d=Math.exp(-l*e),u=(l-s)*e+1;return-en+d*u},a=l=>{const d=Math.exp(-l*e),u=(s-l)*(e*e);return d*u});const c=5/e,f=kh(n,a,c);if(e=ct(e),isNaN(f))return{stiffness:he.stiffness,damping:he.damping,duration:e};{const l=Math.pow(f,2)*r;return{stiffness:l,damping:o*2*Math.sqrt(r*l),duration:e}}}const Sh=12;function kh(e,t,s){let r=s;for(let n=1;n<Sh;n++)r=r-e(r)/t(r);return r}function ai(e,t){return e*Math.sqrt(1-t*t)}const Fh=["duration","bounce"],Ph=["stiffness","damping","mass"];function Qa(e,t){return t.some(s=>e[s]!==void 0)}function Th(e){let t={velocity:he.velocity,stiffness:he.stiffness,damping:he.damping,mass:he.mass,isResolvedFromDuration:!1,...e};if(!Qa(e,Ph)&&Qa(e,Fh))if(e.visualDuration){const s=e.visualDuration,r=2*Math.PI/(s*1.2),n=r*r,a=2*pt(.05,1,1-(e.bounce||0))*Math.sqrt(n);t={...t,mass:he.mass,stiffness:n,damping:a}}else{const s=Nh(e);t={...t,...s,mass:he.mass},t.isResolvedFromDuration=!0}return t}function yr(e=he.visualDuration,t=he.bounce){const s=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:n}=s;const a=s.keyframes[0],o=s.keyframes[s.keyframes.length-1],c={done:!1,value:a},{stiffness:f,damping:l,mass:d,duration:u,velocity:h,isResolvedFromDuration:x}=Th({...s,velocity:-dt(s.velocity||0)}),m=h||0,y=l/(2*Math.sqrt(f*d)),p=o-a,b=dt(Math.sqrt(f/d)),g=Math.abs(p)<5;r||(r=g?he.restSpeed.granular:he.restSpeed.default),n||(n=g?he.restDelta.granular:he.restDelta.default);let v;if(y<1){const C=ai(b,y);v=E=>{const D=Math.exp(-y*b*E);return o-D*((m+y*b*p)/C*Math.sin(C*E)+p*Math.cos(C*E))}}else if(y===1)v=C=>o-Math.exp(-b*C)*(p+(m+b*p)*C);else{const C=b*Math.sqrt(y*y-1);v=E=>{const D=Math.exp(-y*b*E),B=Math.min(C*E,300);return o-D*((m+y*b*p)*Math.sinh(B)+C*p*Math.cosh(B))/C}}const w={calculatedDuration:x&&u||null,next:C=>{const E=v(C);if(x)c.done=C>=u;else{let D=C===0?m:0;y<1&&(D=C===0?ct(m):nc(v,C,E));const B=Math.abs(D)<=r,F=Math.abs(o-E)<=n;c.done=B&&F}return c.value=c.done?o:E,c},toString:()=>{const C=Math.min(Zi(w),vr),E=rc(D=>w.next(C*D).value,C,30);return C+"ms "+E},toTransition:()=>{}};return w}yr.applyToOptions=e=>{const t=jh(e,100,yr);return e.ease=t.ease,e.duration=ct(t.duration),e.type="keyframes",e};function oi({keyframes:e,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:n=10,bounceStiffness:a=500,modifyTarget:o,min:c,max:f,restDelta:l=.5,restSpeed:d}){const u=e[0],h={done:!1,value:u},x=B=>c!==void 0&&B<c||f!==void 0&&B>f,m=B=>c===void 0?f:f===void 0||Math.abs(c-B)<Math.abs(f-B)?c:f;let y=s*t;const p=u+y,b=o===void 0?p:o(p);b!==p&&(y=b-u);const g=B=>-y*Math.exp(-B/r),v=B=>b+g(B),w=B=>{const F=g(B),j=v(B);h.done=Math.abs(F)<=l,h.value=h.done?b:j};let C,E;const D=B=>{x(h.value)&&(C=B,E=yr({keyframes:[h.value,m(h.value)],velocity:nc(v,B,h.value),damping:n,stiffness:a,restDelta:l,restSpeed:d}))};return D(0),{calculatedDuration:null,next:B=>{let F=!1;return!E&&C===void 0&&(F=!0,w(B),D(B)),C!==void 0&&B>=C?E.next(B-C):(!F&&w(B),h)}}}function _h(e,t,s){const r=[],n=s||gt.mix||sc,a=e.length-1;for(let o=0;o<a;o++){let c=n(e[o],e[o+1]);if(t){const f=Array.isArray(t)?t[o]||Ge:t;c=Ks(f,c)}r.push(c)}return r}function Rh(e,t,{clamp:s=!0,ease:r,mixer:n}={}){const a=e.length;if(zi(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const c=_h(t,r,n),f=c.length,l=d=>{if(o&&d<e[0])return t[0];let u=0;if(f>1)for(;u<e.length-2&&!(d<e[u+1]);u++);const h=Ps(e[u],e[u+1],d);return c[u](h)};return s?d=>l(pt(e[0],e[a-1],d)):l}function Ih(e,t){const s=e[e.length-1];for(let r=1;r<=t;r++){const n=Ps(0,t,r);e.push(ce(s,1,n))}}function Mh(e){const t=[0];return Ih(t,e.length-1),t}function Lh(e,t){return e.map(s=>s*t)}function Vh(e,t){return e.map(()=>t||ql).splice(0,e.length-1)}function Cs({duration:e=300,keyframes:t,times:s,ease:r="easeInOut"}){const n=Xf(r)?r.map(qa):qa(r),a={done:!1,value:t[0]},o=Lh(s&&s.length===t.length?s:Mh(t),e),c=Rh(o,t,{ease:Array.isArray(n)?n:Vh(t,n)});return{calculatedDuration:e,next:f=>(a.value=c(f),a.done=f>=e,a)}}const Oh=e=>e!==null;function Ji(e,{repeat:t,repeatType:s="loop"},r,n=1){const a=e.filter(Oh),c=n<0||t&&s!=="loop"&&t%2===1?0:a.length-1;return!c||r===void 0?a[c]:r}const Uh={decay:oi,inertia:oi,tween:Cs,keyframes:Cs,spring:yr};function ic(e){typeof e.type=="string"&&(e.type=Uh[e.type])}class ea{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,s){return this.finished.then(t,s)}}const zh=e=>e/100;class ta extends ea{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,n;const{motionValue:s}=this.options;s&&s.updatedAt!==Le.now()&&this.tick(Le.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(n=(r=this.options).onStop)==null||n.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;ic(t);const{type:s=Cs,repeat:r=0,repeatDelay:n=0,repeatType:a,velocity:o=0}=t;let{keyframes:c}=t;const f=s||Cs;f!==Cs&&typeof c[0]!="number"&&(this.mixKeyframes=Ks(zh,sc(c[0],c[1])),c=[0,100]);const l=f({...t,keyframes:c});a==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...c].reverse(),velocity:-o})),l.calculatedDuration===null&&(l.calculatedDuration=Zi(l));const{calculatedDuration:d}=l;this.calculatedDuration=d,this.resolvedDuration=d+n,this.totalDuration=this.resolvedDuration*(r+1)-n,this.generator=l}updateTime(t){const s=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(t,s=!1){const{generator:r,totalDuration:n,mixKeyframes:a,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:l=0,keyframes:d,repeat:u,repeatType:h,repeatDelay:x,type:m,onUpdate:y,finalKeyframe:p}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-n/this.speed,this.startTime)),s?this.currentTime=t:this.updateTime(t);const b=this.currentTime-l*(this.playbackSpeed>=0?1:-1),g=this.playbackSpeed>=0?b<0:b>n;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=n);let v=this.currentTime,w=r;if(u){const B=Math.min(this.currentTime,n)/c;let F=Math.floor(B),j=B%1;!j&&B>=1&&(j=1),j===1&&F--,F=Math.min(F,u+1),!!(F%2)&&(h==="reverse"?(j=1-j,x&&(j-=x/c)):h==="mirror"&&(w=o)),v=pt(0,1,j)*c}const C=g?{done:!1,value:d[0]}:w.next(v);a&&(C.value=a(C.value));let{done:E}=C;!g&&f!==null&&(E=this.playbackSpeed>=0?this.currentTime>=n:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return D&&m!==oi&&(C.value=Ji(d,this.options,p,this.speed)),y&&y(C.value),D&&this.finish(),C}then(t,s){return this.finished.then(t,s)}get duration(){return dt(this.calculatedDuration)}get time(){return dt(this.currentTime)}set time(t){var s;t=ct(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(s=this.driver)==null||s.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Le.now());const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=dt(this.currentTime))}play(){var n,a;if(this.isStopped)return;const{driver:t=Dh,startTime:s}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),(a=(n=this.options).onPlay)==null||a.call(n);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=s??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Le.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,s;this.notifyFinished(),this.teardown(),this.state="finished",(s=(t=this.options).onComplete)==null||s.call(t)}cancel(){var t,s;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(s=(t=this.options).onCancel)==null||s.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var s;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(s=this.driver)==null||s.stop(),t.observe(this)}}function Hh(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Mt=e=>e*180/Math.PI,li=e=>{const t=Mt(Math.atan2(e[1],e[0]));return ci(t)},$h={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:li,rotateZ:li,skewX:e=>Mt(Math.atan(e[1])),skewY:e=>Mt(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},ci=e=>(e=e%360,e<0&&(e+=360),e),Za=li,Ja=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),eo=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),Wh={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Ja,scaleY:eo,scale:e=>(Ja(e)+eo(e))/2,rotateX:e=>ci(Mt(Math.atan2(e[6],e[5]))),rotateY:e=>ci(Mt(Math.atan2(-e[2],e[0]))),rotateZ:Za,rotate:Za,skewX:e=>Mt(Math.atan(e[4])),skewY:e=>Mt(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function di(e){return e.includes("scale")?1:0}function ui(e,t){if(!e||e==="none")return di(t);const s=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,n;if(s)r=Wh,n=s;else{const c=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=$h,n=c}if(!n)return di(t);const a=r[t],o=n[1].split(",").map(Kh);return typeof a=="function"?a(o):o[a]}const qh=(e,t)=>{const{transform:s="none"}=getComputedStyle(e);return ui(s,t)};function Kh(e){return parseFloat(e.trim())}const cs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ds=new Set(cs),to=e=>e===ls||e===K,Yh=new Set(["x","y","z"]),Gh=cs.filter(e=>!Yh.has(e));function Xh(e){const t=[];return Gh.forEach(s=>{const r=e.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const Vt={width:({x:e},{paddingLeft:t="0",paddingRight:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),height:({y:e},{paddingTop:t="0",paddingBottom:s="0"})=>e.max-e.min-parseFloat(t)-parseFloat(s),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>ui(t,"x"),y:(e,{transform:t})=>ui(t,"y")};Vt.translateX=Vt.x;Vt.translateY=Vt.y;const Ot=new Set;let fi=!1,hi=!1,xi=!1;function ac(){if(hi){const e=Array.from(Ot).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),s=new Map;t.forEach(r=>{const n=Xh(r);n.length&&(s.set(r,n),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const n=s.get(r);n&&n.forEach(([a,o])=>{var c;(c=r.getValue(a))==null||c.set(o)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}hi=!1,fi=!1,Ot.forEach(e=>e.complete(xi)),Ot.clear()}function oc(){Ot.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(hi=!0)})}function Qh(){xi=!0,oc(),ac(),xi=!1}class sa{constructor(t,s,r,n,a,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=n,this.element=a,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Ot.add(this),fi||(fi=!0,le.read(oc),le.resolveKeyframes(ac))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:n}=this;if(t[0]===null){const a=n==null?void 0:n.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&s){const c=r.readValue(s,o);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=o),n&&a===void 0&&n.set(t[0])}Hh(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ot.delete(this)}cancel(){this.state==="scheduled"&&(Ot.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Zh=e=>e.startsWith("--");function Jh(e,t,s){Zh(t)?e.style.setProperty(t,s):e.style[t]=s}const ex=Hi(()=>window.ScrollTimeline!==void 0),tx={};function sx(e,t){const s=Hi(e);return()=>tx[t]??s()}const lc=sx(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ys=([e,t,s,r])=>`cubic-bezier(${e}, ${t}, ${s}, ${r})`,so={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ys([0,.65,.55,1]),circOut:ys([.55,0,1,.45]),backIn:ys([.31,.01,.66,-.59]),backOut:ys([.33,1.53,.69,.99])};function cc(e,t){if(e)return typeof e=="function"?lc()?rc(e,t):"ease-out":Kl(e)?ys(e):Array.isArray(e)?e.map(s=>cc(s,t)||so.easeOut):so[e]}function rx(e,t,s,{delay:r=0,duration:n=300,repeat:a=0,repeatType:o="loop",ease:c="easeOut",times:f}={},l=void 0){const d={[t]:s};f&&(d.offset=f);const u=cc(c,n);Array.isArray(u)&&(d.easing=u);const h={delay:r,duration:n,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"};return l&&(h.pseudoElement=l),e.animate(d,h)}function dc(e){return typeof e=="function"&&"applyToOptions"in e}function nx({type:e,...t}){return dc(e)&&lc()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class ix extends ea{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:s,name:r,keyframes:n,pseudoElement:a,allowFlatten:o=!1,finalKeyframe:c,onComplete:f}=t;this.isPseudoElement=!!a,this.allowFlatten=o,this.options=t,zi(typeof t.type!="string");const l=nx(t);this.animation=rx(s,r,n,l,a),l.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!a){const d=Ji(n,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(d):Jh(s,r,d),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,s;(s=(t=this.animation).finish)==null||s.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,s;this.isPseudoElement||(s=(t=this.animation).commitStyles)==null||s.call(t)}get duration(){var s,r;const t=((r=(s=this.animation.effect)==null?void 0:s.getComputedTiming)==null?void 0:r.call(s).duration)||0;return dt(Number(t))}get time(){return dt(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ct(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:s}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&ex()?(this.animation.timeline=t,Ge):s(this)}}const uc={anticipate:Hl,backInOut:zl,circInOut:Wl};function ax(e){return e in uc}function ox(e){typeof e.ease=="string"&&ax(e.ease)&&(e.ease=uc[e.ease])}const ro=10;class lx extends ix{constructor(t){ox(t),ic(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:s,onUpdate:r,onComplete:n,element:a,...o}=this.options;if(!s)return;if(t!==void 0){s.set(t);return}const c=new ta({...o,autoplay:!1}),f=ct(this.finishedTime??this.time);s.setWithVelocity(c.sample(f-ro).value,c.sample(f).value,ro),c.stop()}}const no=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Nt.test(e)||e==="0")&&!e.startsWith("url("));function cx(e){const t=e[0];if(e.length===1)return!0;for(let s=0;s<e.length;s++)if(e[s]!==t)return!0}function dx(e,t,s,r){const n=e[0];if(n===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=no(n,t),c=no(a,t);return!o||!c?!1:cx(e)||(s==="spring"||dc(s))&&r}const ux=new Set(["opacity","clipPath","filter","transform"]),fx=Hi(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function hx(e){var d;const{motionValue:t,name:s,repeatDelay:r,repeatType:n,damping:a,type:o}=e;if(!(((d=t==null?void 0:t.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:l}=t.owner.getProps();return fx()&&s&&ux.has(s)&&(s!=="transform"||!l)&&!f&&!r&&n!=="mirror"&&a!==0&&o!=="inertia"}const xx=40;class mx extends ea{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:n=0,repeatDelay:a=0,repeatType:o="loop",keyframes:c,name:f,motionValue:l,element:d,...u}){var m;super(),this.stop=()=>{var y,p;this._animation&&(this._animation.stop(),(y=this.stopTimeline)==null||y.call(this)),(p=this.keyframeResolver)==null||p.cancel()},this.createdAt=Le.now();const h={autoplay:t,delay:s,type:r,repeat:n,repeatDelay:a,repeatType:o,name:f,motionValue:l,element:d,...u},x=(d==null?void 0:d.KeyframeResolver)||sa;this.keyframeResolver=new x(c,(y,p,b)=>this.onKeyframesResolved(y,p,h,!b),f,l,d),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(t,s,r,n){this.keyframeResolver=void 0;const{name:a,type:o,velocity:c,delay:f,isHandoff:l,onUpdate:d}=r;this.resolvedAt=Le.now(),dx(t,a,o,c)||((gt.instantAnimations||!f)&&(d==null||d(Ji(t,r,s))),t[0]=t[t.length-1],r.duration=0,r.repeat=0);const h={startTime:n?this.resolvedAt?this.resolvedAt-this.createdAt>xx?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...r,keyframes:t},x=!l&&hx(h)?new lx({...h,element:h.motionValue.owner.current}):new ta(h);x.finished.then(()=>this.notifyFinished()).catch(Ge),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(t,s){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),Qh()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}const px=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function gx(e){const t=px.exec(e);if(!t)return[,];const[,s,r,n]=t;return[`--${s??r}`,n]}function fc(e,t,s=1){const[r,n]=gx(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const o=a.trim();return _l(o)?parseFloat(o):o}return Yi(n)?fc(n,t,s+1):n}function ra(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const hc=new Set(["width","height","top","left","right","bottom",...cs]),vx={test:e=>e==="auto",parse:e=>e},xc=e=>t=>t.test(e),mc=[ls,K,ut,Ct,ch,lh,vx],io=e=>mc.find(xc(e));function yx(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||Il(e):!0}const bx=new Set(["brightness","contrast","saturate","opacity"]);function wx(e){const[t,s]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=s.match(Gi)||[];if(!r)return e;const n=s.replace(r,"");let a=bx.has(t)?1:0;return r!==s&&(a*=100),t+"("+a+n+")"}const Cx=/\b([a-z-]*)\(.*?\)/gu,mi={...Nt,getAnimatableNone:e=>{const t=e.match(Cx);return t?t.map(wx).join(" "):e}},ao={...ls,transform:Math.round},Ex={rotate:Ct,rotateX:Ct,rotateY:Ct,rotateZ:Ct,scale:ar,scaleX:ar,scaleY:ar,scaleZ:ar,skew:Ct,skewX:Ct,skewY:Ct,distance:K,translateX:K,translateY:K,translateZ:K,x:K,y:K,z:K,perspective:K,transformPerspective:K,opacity:Ts,originX:Ka,originY:Ka,originZ:K},na={borderWidth:K,borderTopWidth:K,borderRightWidth:K,borderBottomWidth:K,borderLeftWidth:K,borderRadius:K,radius:K,borderTopLeftRadius:K,borderTopRightRadius:K,borderBottomRightRadius:K,borderBottomLeftRadius:K,width:K,maxWidth:K,height:K,maxHeight:K,top:K,right:K,bottom:K,left:K,padding:K,paddingTop:K,paddingRight:K,paddingBottom:K,paddingLeft:K,margin:K,marginTop:K,marginRight:K,marginBottom:K,marginLeft:K,backgroundPositionX:K,backgroundPositionY:K,...Ex,zIndex:ao,fillOpacity:Ts,strokeOpacity:Ts,numOctaves:ao},Ax={...na,color:ye,backgroundColor:ye,outlineColor:ye,fill:ye,stroke:ye,borderColor:ye,borderTopColor:ye,borderRightColor:ye,borderBottomColor:ye,borderLeftColor:ye,filter:mi,WebkitFilter:mi},pc=e=>Ax[e];function gc(e,t){let s=pc(e);return s!==mi&&(s=Nt),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const Dx=new Set(["auto","none","0"]);function jx(e,t,s){let r=0,n;for(;r<e.length&&!n;){const a=e[r];typeof a=="string"&&!Dx.has(a)&&_s(a).values.length&&(n=e[r]),r++}if(n&&s)for(const a of t)e[a]=gc(s,n)}class Bx extends sa{constructor(t,s,r,n,a){super(t,s,r,n,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let l=t[f];if(typeof l=="string"&&(l=l.trim(),Yi(l))){const d=fc(l,s.current);d!==void 0&&(t[f]=d),f===t.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!hc.has(r)||t.length!==2)return;const[n,a]=t,o=io(n),c=io(a);if(o!==c)if(to(o)&&to(c))for(let f=0;f<t.length;f++){const l=t[f];typeof l=="string"&&(t[f]=parseFloat(l))}else Vt[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let n=0;n<t.length;n++)(t[n]===null||yx(t[n]))&&r.push(n);r.length&&jx(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Vt[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const n=s[s.length-1];n!==void 0&&t.getValue(r,n).jump(n,!1)}measureEndState(){var c;const{element:t,name:s,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const n=t.getValue(s);n&&n.jump(this.measuredOrigin,!1);const a=r.length-1,o=r[a];r[a]=Vt[s](t.measureViewportBox(),window.getComputedStyle(t.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(c=this.removedTransforms)!=null&&c.length&&this.removedTransforms.forEach(([f,l])=>{t.getValue(f).set(l)}),this.resolveNoneKeyframes()}}function Nx(e,t,s){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const n=(s==null?void 0:s[e])??r.querySelectorAll(e);return n?Array.from(n):[]}return Array.from(e)}const vc=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function yc(e){return Rl(e)&&"offsetHeight"in e}const oo=30,Sx=e=>!isNaN(parseFloat(e));class kx{constructor(t,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,n=!0)=>{var o,c;const a=Le.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const f of this.dependents)f.dirty();n&&((c=this.events.renderRequest)==null||c.notify(this.current))},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=Le.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Sx(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new $i);const r=this.events[t].add(s);return t==="change"?()=>{r(),le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Le.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>oo)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,oo);return Ml(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,s;(t=this.dependents)==null||t.clear(),(s=this.events.destroy)==null||s.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ns(e,t){return new kx(e,t)}const{schedule:ia}=Yl(queueMicrotask,!1),Ze={x:!1,y:!1};function bc(){return Ze.x||Ze.y}function Fx(e){return e==="x"||e==="y"?Ze[e]?null:(Ze[e]=!0,()=>{Ze[e]=!1}):Ze.x||Ze.y?null:(Ze.x=Ze.y=!0,()=>{Ze.x=Ze.y=!1})}function wc(e,t){const s=Nx(e),r=new AbortController,n={passive:!0,...t,signal:r.signal};return[s,n,()=>r.abort()]}function lo(e){return!(e.pointerType==="touch"||bc())}function Px(e,t,s={}){const[r,n,a]=wc(e,s),o=c=>{if(!lo(c))return;const{target:f}=c,l=t(f,c);if(typeof l!="function"||!f)return;const d=u=>{lo(u)&&(l(u),f.removeEventListener("pointerleave",d))};f.addEventListener("pointerleave",d,n)};return r.forEach(c=>{c.addEventListener("pointerenter",o,n)}),a}const Cc=(e,t)=>t?e===t?!0:Cc(e,t.parentElement):!1,aa=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,Tx=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _x(e){return Tx.has(e.tagName)||e.tabIndex!==-1}const ur=new WeakSet;function co(e){return t=>{t.key==="Enter"&&e(t)}}function tn(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const Rx=(e,t)=>{const s=e.currentTarget;if(!s)return;const r=co(()=>{if(ur.has(s))return;tn(s,"down");const n=co(()=>{tn(s,"up")}),a=()=>tn(s,"cancel");s.addEventListener("keyup",n,t),s.addEventListener("blur",a,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function uo(e){return aa(e)&&!bc()}function Ix(e,t,s={}){const[r,n,a]=wc(e,s),o=c=>{const f=c.currentTarget;if(!uo(c))return;ur.add(f);const l=t(f,c),d=(x,m)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",h),ur.has(f)&&ur.delete(f),uo(x)&&typeof l=="function"&&l(x,{success:m})},u=x=>{d(x,f===window||f===document||s.useGlobalTarget||Cc(f,x.target))},h=x=>{d(x,!1)};window.addEventListener("pointerup",u,n),window.addEventListener("pointercancel",h,n)};return r.forEach(c=>{(s.useGlobalTarget?window:c).addEventListener("pointerdown",o,n),yc(c)&&(c.addEventListener("focus",l=>Rx(l,n)),!_x(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),a}function Ec(e){return Rl(e)&&"ownerSVGElement"in e}function Mx(e){return Ec(e)&&e.tagName==="svg"}const Ne=e=>!!(e&&e.getVelocity),Lx=[...mc,ye,Nt],Vx=e=>Lx.find(xc(e)),oa=A.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class Ox extends A.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=s.offsetParent,n=yc(r)&&r.offsetWidth||0,a=this.props.sizeRef.current;a.height=s.offsetHeight||0,a.width=s.offsetWidth||0,a.top=s.offsetTop,a.left=s.offsetLeft,a.right=n-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Ux({children:e,isPresent:t,anchorX:s,root:r}){const n=A.useId(),a=A.useRef(null),o=A.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=A.useContext(oa);return A.useInsertionEffect(()=>{const{width:f,height:l,top:d,left:u,right:h}=o.current;if(t||!a.current||!f||!l)return;const x=s==="left"?`left: ${u}`:`right: ${h}`;a.current.dataset.motionPopId=n;const m=document.createElement("style");c&&(m.nonce=c);const y=r??document.head;return y.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${l}px !important;
            ${x}px !important;
            top: ${d}px !important;
          }
        `),()=>{y.removeChild(m),y.contains(m)&&y.removeChild(m)}},[t]),i.jsx(Ox,{isPresent:t,childRef:a,sizeRef:o,children:A.cloneElement(e,{ref:a})})}const zx=({children:e,initial:t,isPresent:s,onExitComplete:r,custom:n,presenceAffectsLayout:a,mode:o,anchorX:c,root:f})=>{const l=Li(Hx),d=A.useId();let u=!0,h=A.useMemo(()=>(u=!1,{id:d,initial:t,isPresent:s,custom:n,onExitComplete:x=>{l.set(x,!0);for(const m of l.values())if(!m)return;r&&r()},register:x=>(l.set(x,!1),()=>l.delete(x))}),[s,l,r]);return a&&u&&(h={...h}),A.useMemo(()=>{l.forEach((x,m)=>l.set(m,!1))},[s]),A.useEffect(()=>{!s&&!l.size&&r&&r()},[s]),o==="popLayout"&&(e=i.jsx(Ux,{isPresent:s,anchorX:c,root:f,children:e})),i.jsx(Fr.Provider,{value:h,children:e})};function Hx(){return new Map}function Ac(e=!0){const t=A.useContext(Fr);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:n}=t,a=A.useId();A.useEffect(()=>{if(e)return n(a)},[e]);const o=A.useCallback(()=>e&&r&&r(a),[a,r,e]);return!s&&r?[!1,o]:[!0]}const or=e=>e.key||"";function fo(e){const t=[];return A.Children.forEach(e,s=>{A.isValidElement(s)&&t.push(s)}),t}const $x=({children:e,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:n=!0,mode:a="sync",propagate:o=!1,anchorX:c="left",root:f})=>{const[l,d]=Ac(o),u=A.useMemo(()=>fo(e),[e]),h=o&&!l?[]:u.map(or),x=A.useRef(!0),m=A.useRef(u),y=Li(()=>new Map),[p,b]=A.useState(u),[g,v]=A.useState(u);Tl(()=>{x.current=!1,m.current=u;for(let E=0;E<g.length;E++){const D=or(g[E]);h.includes(D)?y.delete(D):y.get(D)!==!0&&y.set(D,!1)}},[g,h.length,h.join("-")]);const w=[];if(u!==p){let E=[...u];for(let D=0;D<g.length;D++){const B=g[D],F=or(B);h.includes(F)||(E.splice(D,0,B),w.push(B))}return a==="wait"&&w.length&&(E=w),v(fo(E)),b(u),null}const{forceRender:C}=A.useContext(Mi);return i.jsx(i.Fragment,{children:g.map(E=>{const D=or(E),B=o&&!l?!1:u===g||h.includes(D),F=()=>{if(y.has(D))y.set(D,!0);else return;let j=!0;y.forEach(N=>{N||(j=!1)}),j&&(C==null||C(),v(m.current),o&&(d==null||d()),r&&r())};return i.jsx(zx,{isPresent:B,initial:!x.current||s?void 0:!1,custom:t,presenceAffectsLayout:n,mode:a,root:f,onExitComplete:B?void 0:F,anchorX:c,children:E},D)})})},Dc=A.createContext({strict:!1}),ho={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},is={};for(const e in ho)is[e]={isEnabled:t=>ho[e].some(s=>!!t[s])};function Wx(e){for(const t in e)is[t]={...is[t],...e[t]}}const qx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function br(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||qx.has(e)}let jc=e=>!br(e);function Kx(e){typeof e=="function"&&(jc=t=>t.startsWith("on")?!br(t):e(t))}try{Kx(require("@emotion/is-prop-valid").default)}catch{}function Yx(e,t,s){const r={};for(const n in e)n==="values"&&typeof e.values=="object"||(jc(n)||s===!0&&br(n)||!t&&!br(n)||e.draggable&&n.startsWith("onDrag"))&&(r[n]=e[n]);return r}const Pr=A.createContext({});function Tr(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Rs(e){return typeof e=="string"||Array.isArray(e)}const la=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ca=["initial",...la];function _r(e){return Tr(e.animate)||ca.some(t=>Rs(e[t]))}function Bc(e){return!!(_r(e)||e.variants)}function Gx(e,t){if(_r(e)){const{initial:s,animate:r}=e;return{initial:s===!1||Rs(s)?s:void 0,animate:Rs(r)?r:void 0}}return e.inherit!==!1?t:{}}function Xx(e){const{initial:t,animate:s}=Gx(e,A.useContext(Pr));return A.useMemo(()=>({initial:t,animate:s}),[xo(t),xo(s)])}function xo(e){return Array.isArray(e)?e.join(" "):e}const Is={};function Qx(e){for(const t in e)Is[t]=e[t],Ki(t)&&(Is[t].isCSSVariable=!0)}function Nc(e,{layout:t,layoutId:s}){return ds.has(e)||e.startsWith("origin")||(t||s!==void 0)&&(!!Is[e]||e==="opacity")}const Zx={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Jx=cs.length;function em(e,t,s){let r="",n=!0;for(let a=0;a<Jx;a++){const o=cs[a],c=e[o];if(c===void 0)continue;let f=!0;if(typeof c=="number"?f=c===(o.startsWith("scale")?1:0):f=parseFloat(c)===0,!f||s){const l=vc(c,na[o]);if(!f){n=!1;const d=Zx[o]||o;r+=`${d}(${l}) `}s&&(t[o]=l)}}return r=r.trim(),s?r=s(t,n?"":r):n&&(r="none"),r}function da(e,t,s){const{style:r,vars:n,transformOrigin:a}=e;let o=!1,c=!1;for(const f in t){const l=t[f];if(ds.has(f)){o=!0;continue}else if(Ki(f)){n[f]=l;continue}else{const d=vc(l,na[f]);f.startsWith("origin")?(c=!0,a[f]=d):r[f]=d}}if(t.transform||(o||s?r.transform=em(t,e.transform,s):r.transform&&(r.transform="none")),c){const{originX:f="50%",originY:l="50%",originZ:d=0}=a;r.transformOrigin=`${f} ${l} ${d}`}}const ua=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Sc(e,t,s){for(const r in t)!Ne(t[r])&&!Nc(r,s)&&(e[r]=t[r])}function tm({transformTemplate:e},t){return A.useMemo(()=>{const s=ua();return da(s,t,e),Object.assign({},s.vars,s.style)},[t])}function sm(e,t){const s=e.style||{},r={};return Sc(r,s,e),Object.assign(r,tm(e,t)),r}function rm(e,t){const s={},r=sm(e,t);return e.drag&&e.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(s.tabIndex=0),s.style=r,s}const nm={offset:"stroke-dashoffset",array:"stroke-dasharray"},im={offset:"strokeDashoffset",array:"strokeDasharray"};function am(e,t,s=1,r=0,n=!0){e.pathLength=1;const a=n?nm:im;e[a.offset]=K.transform(-r);const o=K.transform(t),c=K.transform(s);e[a.array]=`${o} ${c}`}function kc(e,{attrX:t,attrY:s,attrScale:r,pathLength:n,pathSpacing:a=1,pathOffset:o=0,...c},f,l,d){if(da(e,c,l),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:u,style:h}=e;u.transform&&(h.transform=u.transform,delete u.transform),(h.transform||u.transformOrigin)&&(h.transformOrigin=u.transformOrigin??"50% 50%",delete u.transformOrigin),h.transform&&(h.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete u.transformBox),t!==void 0&&(u.x=t),s!==void 0&&(u.y=s),r!==void 0&&(u.scale=r),n!==void 0&&am(u,n,a,o,!1)}const Fc=()=>({...ua(),attrs:{}}),Pc=e=>typeof e=="string"&&e.toLowerCase()==="svg";function om(e,t,s,r){const n=A.useMemo(()=>{const a=Fc();return kc(a,t,Pc(r),e.transformTemplate,e.style),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Sc(a,e.style,e),n.style={...a,...n.style}}return n}const lm=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function fa(e){return typeof e!="string"||e.includes("-")?!1:!!(lm.indexOf(e)>-1||/[A-Z]/u.test(e))}function cm(e,t,s,{latestValues:r},n,a=!1){const c=(fa(e)?om:rm)(t,r,n,e),f=Yx(t,typeof e=="string",a),l=e!==A.Fragment?{...f,...c,ref:s}:{},{children:d}=t,u=A.useMemo(()=>Ne(d)?d.get():d,[d]);return A.createElement(e,{...l,children:u})}function mo(e){const t=[{},{}];return e==null||e.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function ha(e,t,s,r){if(typeof t=="function"){const[n,a]=mo(r);t=t(s!==void 0?s:e.custom,n,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[n,a]=mo(r);t=t(s!==void 0?s:e.custom,n,a)}return t}function fr(e){return Ne(e)?e.get():e}function dm({scrapeMotionValuesFromProps:e,createRenderState:t},s,r,n){return{latestValues:um(s,r,n,e),renderState:t()}}function um(e,t,s,r){const n={},a=r(e,{});for(const h in a)n[h]=fr(a[h]);let{initial:o,animate:c}=e;const f=_r(e),l=Bc(e);t&&l&&!f&&e.inherit!==!1&&(o===void 0&&(o=t.initial),c===void 0&&(c=t.animate));let d=s?s.initial===!1:!1;d=d||o===!1;const u=d?c:o;if(u&&typeof u!="boolean"&&!Tr(u)){const h=Array.isArray(u)?u:[u];for(let x=0;x<h.length;x++){const m=ha(e,h[x]);if(m){const{transitionEnd:y,transition:p,...b}=m;for(const g in b){let v=b[g];if(Array.isArray(v)){const w=d?v.length-1:0;v=v[w]}v!==null&&(n[g]=v)}for(const g in y)n[g]=y[g]}}}return n}const Tc=e=>(t,s)=>{const r=A.useContext(Pr),n=A.useContext(Fr),a=()=>dm(e,t,r,n);return s?a():Li(a)};function xa(e,t,s){var a;const{style:r}=e,n={};for(const o in r)(Ne(r[o])||t.style&&Ne(t.style[o])||Nc(o,e)||((a=s==null?void 0:s.getValue(o))==null?void 0:a.liveStyle)!==void 0)&&(n[o]=r[o]);return n}const fm=Tc({scrapeMotionValuesFromProps:xa,createRenderState:ua});function _c(e,t,s){const r=xa(e,t,s);for(const n in e)if(Ne(e[n])||Ne(t[n])){const a=cs.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[a]=e[n]}return r}const hm=Tc({scrapeMotionValuesFromProps:_c,createRenderState:Fc}),xm=Symbol.for("motionComponentSymbol");function Zt(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function mm(e,t,s){return A.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):Zt(s)&&(s.current=r))},[t])}const ma=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pm="framerAppearId",Rc="data-"+ma(pm),Ic=A.createContext({});function gm(e,t,s,r,n){var y,p;const{visualElement:a}=A.useContext(Pr),o=A.useContext(Dc),c=A.useContext(Fr),f=A.useContext(oa).reducedMotion,l=A.useRef(null);r=r||o.renderer,!l.current&&r&&(l.current=r(e,{visualState:t,parent:a,props:s,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:f}));const d=l.current,u=A.useContext(Ic);d&&!d.projection&&n&&(d.type==="html"||d.type==="svg")&&vm(l.current,s,n,u);const h=A.useRef(!1);A.useInsertionEffect(()=>{d&&h.current&&d.update(s,c)});const x=s[Rc],m=A.useRef(!!x&&!((y=window.MotionHandoffIsComplete)!=null&&y.call(window,x))&&((p=window.MotionHasOptimisedAnimation)==null?void 0:p.call(window,x)));return Tl(()=>{d&&(h.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),m.current&&d.animationState&&d.animationState.animateChanges())}),A.useEffect(()=>{d&&(!m.current&&d.animationState&&d.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)==null||b.call(window,x)}),m.current=!1))}),d}function vm(e,t,s,r){const{layoutId:n,layout:a,drag:o,dragConstraints:c,layoutScroll:f,layoutRoot:l,layoutCrossfade:d}=t;e.projection=new s(e.latestValues,t["data-framer-portal-id"]?void 0:Mc(e.parent)),e.projection.setOptions({layoutId:n,layout:a,alwaysMeasureLayout:!!o||c&&Zt(c),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,crossfade:d,layoutScroll:f,layoutRoot:l})}function Mc(e){if(e)return e.options.allowProjection!==!1?e.projection:Mc(e.parent)}function sn(e,{forwardMotionProps:t=!1}={},s,r){s&&Wx(s);const n=fa(e)?hm:fm;function a(c,f){let l;const d={...A.useContext(oa),...c,layoutId:ym(c)},{isStatic:u}=d,h=Xx(c),x=n(c,u);if(!u&&Vi){bm();const m=wm(d);l=m.MeasureLayout,h.visualElement=gm(e,x,d,r,m.ProjectionNode)}return i.jsxs(Pr.Provider,{value:h,children:[l&&h.visualElement?i.jsx(l,{visualElement:h.visualElement,...d}):null,cm(e,c,mm(x,h.visualElement,f),x,u,t)]})}a.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const o=A.forwardRef(a);return o[xm]=e,o}function ym({layoutId:e}){const t=A.useContext(Mi).id;return t&&e!==void 0?t+"-"+e:e}function bm(e,t){A.useContext(Dc).strict}function wm(e){const{drag:t,layout:s}=is;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(e)||s!=null&&s.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function Cm(e,t){if(typeof Proxy>"u")return sn;const s=new Map,r=(a,o)=>sn(a,o,e,t),n=(a,o)=>r(a,o);return new Proxy(n,{get:(a,o)=>o==="create"?r:(s.has(o)||s.set(o,sn(o,void 0,e,t)),s.get(o))})}function Lc({top:e,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:e,max:r}}}function Em({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Am(e,t){if(!t)return e;const s=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function rn(e){return e===void 0||e===1}function pi({scale:e,scaleX:t,scaleY:s}){return!rn(e)||!rn(t)||!rn(s)}function _t(e){return pi(e)||Vc(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Vc(e){return po(e.x)||po(e.y)}function po(e){return e&&e!=="0%"}function wr(e,t,s){const r=e-s,n=t*r;return s+n}function go(e,t,s,r,n){return n!==void 0&&(e=wr(e,n,r)),wr(e,s,r)+t}function gi(e,t=0,s=1,r,n){e.min=go(e.min,t,s,r,n),e.max=go(e.max,t,s,r,n)}function Oc(e,{x:t,y:s}){gi(e.x,t.translate,t.scale,t.originPoint),gi(e.y,s.translate,s.scale,s.originPoint)}const vo=.999999999999,yo=1.0000000000001;function Dm(e,t,s,r=!1){const n=s.length;if(!n)return;t.x=t.y=1;let a,o;for(let c=0;c<n;c++){a=s[c],o=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&es(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Oc(e,o)),r&&_t(a.latestValues)&&es(e,a.latestValues))}t.x<yo&&t.x>vo&&(t.x=1),t.y<yo&&t.y>vo&&(t.y=1)}function Jt(e,t){e.min=e.min+t,e.max=e.max+t}function bo(e,t,s,r,n=.5){const a=ce(e.min,e.max,n);gi(e,t,s,a,r)}function es(e,t){bo(e.x,t.x,t.scaleX,t.scale,t.originX),bo(e.y,t.y,t.scaleY,t.scale,t.originY)}function Uc(e,t){return Lc(Am(e.getBoundingClientRect(),t))}function jm(e,t,s){const r=Uc(e,s),{scroll:n}=t;return n&&(Jt(r.x,n.offset.x),Jt(r.y,n.offset.y)),r}const wo=()=>({translate:0,scale:1,origin:0,originPoint:0}),ts=()=>({x:wo(),y:wo()}),Co=()=>({min:0,max:0}),xe=()=>({x:Co(),y:Co()}),vi={current:null},zc={current:!1};function Bm(){if(zc.current=!0,!!Vi)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>vi.current=e.matches;e.addEventListener("change",t),t()}else vi.current=!1}const Nm=new WeakMap;function Sm(e,t,s){for(const r in t){const n=t[r],a=s[r];if(Ne(n))e.addValue(r,n);else if(Ne(a))e.addValue(r,ns(n,{owner:e}));else if(a!==n)if(e.hasValue(r)){const o=e.getValue(r);o.liveStyle===!0?o.jump(n):o.hasAnimated||o.set(n)}else{const o=e.getStaticValue(r);e.addValue(r,ns(o!==void 0?o:n,{owner:e}))}}for(const r in s)t[r]===void 0&&e.removeValue(r);return t}const Eo=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class km{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:n,blockInitialAnimation:a,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sa,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const h=Le.now();this.renderScheduledAt<h&&(this.renderScheduledAt=h,le.render(this.render,!1,!0))};const{latestValues:f,renderState:l}=o;this.latestValues=f,this.baseTarget={...f},this.initialValues=s.initial?{...f}:{},this.renderState=l,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=n,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=_r(s),this.isVariantNode=Bc(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:d,...u}=this.scrapeMotionValuesFromProps(s,{},this);for(const h in u){const x=u[h];f[h]!==void 0&&Ne(x)&&x.set(f[h],!1)}}mount(t){this.current=t,Nm.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),zc.current||Bm(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vi.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Bt(this.notifyUpdate),Bt(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ds.has(t);r&&this.onBindTransform&&this.onBindTransform();const n=s.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&le.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=s.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{n(),a(),o&&o(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in is){const s=is[t];if(!s)continue;const{isEnabled:r,Feature:n}=s;if(!this.features[t]&&n&&r(this.props)&&(this.features[t]=new n(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<Eo.length;r++){const n=Eo[r];this.propEventSubscriptions[n]&&(this.propEventSubscriptions[n](),delete this.propEventSubscriptions[n]);const a="on"+n,o=t[a];o&&(this.propEventSubscriptions[n]=this.on(n,o))}this.prevMotionValues=Sm(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=ns(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(_l(r)||Il(r))?r=parseFloat(r):!Vx(r)&&Nt.test(s)&&(r=gc(t,s)),this.setBaseTarget(t,Ne(r)?r.get():r)),Ne(r)?r.get():r}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var a;const{initial:s}=this.props;let r;if(typeof s=="string"||typeof s=="object"){const o=ha(this.props,s,(a=this.presenceContext)==null?void 0:a.custom);o&&(r=o[t])}if(s&&r!==void 0)return r;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!Ne(n)?n:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new $i),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}scheduleRenderMicrotask(){ia.render(this.render)}}class Hc extends km{constructor(){super(...arguments),this.KeyframeResolver=Bx}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ne(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function $c(e,{style:t,vars:s},r,n){const a=e.style;let o;for(o in t)a[o]=t[o];n==null||n.applyProjectionStyles(a,r);for(o in s)a.setProperty(o,s[o])}function Fm(e){return window.getComputedStyle(e)}class Pm extends Hc{constructor(){super(...arguments),this.type="html",this.renderInstance=$c}readValueFromInstance(t,s){var r;if(ds.has(s))return(r=this.projection)!=null&&r.isProjecting?di(s):qh(t,s);{const n=Fm(t),a=(Ki(s)?n.getPropertyValue(s):n[s])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Uc(t,s)}build(t,s,r){da(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return xa(t,s,r)}}const Wc=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Tm(e,t,s,r){$c(e,t,void 0,r);for(const n in t.attrs)e.setAttribute(Wc.has(n)?n:ma(n),t.attrs[n])}class _m extends Hc{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=xe}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(ds.has(s)){const r=pc(s);return r&&r.default||0}return s=Wc.has(s)?s:ma(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return _c(t,s,r)}build(t,s,r){kc(t,s,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,s,r,n){Tm(t,s,r,n)}mount(t){this.isSVGTag=Pc(t.tagName),super.mount(t)}}const Rm=(e,t)=>fa(e)?new _m(t):new Pm(t,{allowProjection:e!==A.Fragment});function Ms(e,t,s){const r=e.getProps();return ha(r,t,s!==void 0?s:r.custom,e)}const yi=e=>Array.isArray(e);function Im(e,t,s){e.hasValue(t)?e.getValue(t).set(s):e.addValue(t,ns(s))}function Mm(e){return yi(e)?e[e.length-1]||0:e}function Lm(e,t){const s=Ms(e,t);let{transitionEnd:r={},transition:n={},...a}=s||{};a={...a,...r};for(const o in a){const c=Mm(a[o]);Im(e,o,c)}}function Vm(e){return!!(Ne(e)&&e.add)}function bi(e,t){const s=e.getValue("willChange");if(Vm(s))return s.add(t);if(!s&&gt.WillChange){const r=new gt.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function qc(e){return e.props[Rc]}const Om=e=>e!==null;function Um(e,{repeat:t,repeatType:s="loop"},r){const n=e.filter(Om),a=t&&s!=="loop"&&t%2===1?0:n.length-1;return n[a]}const zm={type:"spring",stiffness:500,damping:25,restSpeed:10},Hm=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),$m={type:"keyframes",duration:.8},Wm={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qm=(e,{keyframes:t})=>t.length>2?$m:ds.has(e)?e.startsWith("scale")?Hm(t[1]):zm:Wm;function Km({when:e,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:n,repeat:a,repeatType:o,repeatDelay:c,from:f,elapsed:l,...d}){return!!Object.keys(d).length}const pa=(e,t,s,r={},n,a)=>o=>{const c=ra(r,e)||{},f=c.delay||r.delay||0;let{elapsed:l=0}=r;l=l-ct(f);const d={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-l,onUpdate:h=>{t.set(h),c.onUpdate&&c.onUpdate(h)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:e,motionValue:t,element:a?void 0:n};Km(c)||Object.assign(d,qm(e,d)),d.duration&&(d.duration=ct(d.duration)),d.repeatDelay&&(d.repeatDelay=ct(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let u=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(u=!0)),(gt.instantAnimations||gt.skipAnimations)&&(u=!0,d.duration=0,d.delay=0),d.allowFlatten=!c.type&&!c.ease,u&&!a&&t.get()!==void 0){const h=Um(d.keyframes,c);if(h!==void 0){le.update(()=>{d.onUpdate(h),d.onComplete()});return}}return c.isSync?new ta(d):new mx(d)};function Ym({protectedKeys:e,needsAnimating:t},s){const r=e.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function Kc(e,t,{delay:s=0,transitionOverride:r,type:n}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:o,...c}=t;r&&(a=r);const f=[],l=n&&e.animationState&&e.animationState.getState()[n];for(const d in c){const u=e.getValue(d,e.latestValues[d]??null),h=c[d];if(h===void 0||l&&Ym(l,d))continue;const x={delay:s,...ra(a||{},d)},m=u.get();if(m!==void 0&&!u.isAnimating&&!Array.isArray(h)&&h===m&&!x.velocity)continue;let y=!1;if(window.MotionHandoffAnimation){const b=qc(e);if(b){const g=window.MotionHandoffAnimation(b,d,le);g!==null&&(x.startTime=g,y=!0)}}bi(e,d),u.start(pa(d,u,h,e.shouldReduceMotion&&hc.has(d)?{type:!1}:x,e,y));const p=u.animation;p&&f.push(p)}return o&&Promise.all(f).then(()=>{le.update(()=>{o&&Lm(e,o)})}),f}function wi(e,t,s={}){var f;const r=Ms(e,t,s.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:n=e.getDefaultTransition()||{}}=r||{};s.transitionOverride&&(n=s.transitionOverride);const a=r?()=>Promise.all(Kc(e,r,s)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(l=0)=>{const{delayChildren:d=0,staggerChildren:u,staggerDirection:h}=n;return Gm(e,t,l,d,u,h,s)}:()=>Promise.resolve(),{when:c}=n;if(c){const[l,d]=c==="beforeChildren"?[a,o]:[o,a];return l().then(()=>d())}else return Promise.all([a(),o(s.delay)])}function Gm(e,t,s=0,r=0,n=0,a=1,o){const c=[],f=e.variantChildren.size,l=(f-1)*n,d=typeof r=="function",u=d?h=>r(h,f):a===1?(h=0)=>h*n:(h=0)=>l-h*n;return Array.from(e.variantChildren).sort(Xm).forEach((h,x)=>{h.notify("AnimationStart",t),c.push(wi(h,t,{...o,delay:s+(d?0:r)+u(x)}).then(()=>h.notify("AnimationComplete",t)))}),Promise.all(c)}function Xm(e,t){return e.sortNodePosition(t)}function Qm(e,t,s={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const n=t.map(a=>wi(e,a,s));r=Promise.all(n)}else if(typeof t=="string")r=wi(e,t,s);else{const n=typeof t=="function"?Ms(e,t,s.custom):t;r=Promise.all(Kc(e,n,s))}return r.then(()=>{e.notify("AnimationComplete",t)})}function Yc(e,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==e.length)return!1;for(let r=0;r<s;r++)if(t[r]!==e[r])return!1;return!0}const Zm=ca.length;function Gc(e){if(!e)return;if(!e.isControllingVariants){const s=e.parent?Gc(e.parent)||{}:{};return e.props.initial!==void 0&&(s.initial=e.props.initial),s}const t={};for(let s=0;s<Zm;s++){const r=ca[s],n=e.props[r];(Rs(n)||n===!1)&&(t[r]=n)}return t}const Jm=[...la].reverse(),ep=la.length;function tp(e){return t=>Promise.all(t.map(({animation:s,options:r})=>Qm(e,s,r)))}function sp(e){let t=tp(e),s=Ao(),r=!0;const n=f=>(l,d)=>{var h;const u=Ms(e,d,f==="exit"?(h=e.presenceContext)==null?void 0:h.custom:void 0);if(u){const{transition:x,transitionEnd:m,...y}=u;l={...l,...y,...m}}return l};function a(f){t=f(e)}function o(f){const{props:l}=e,d=Gc(e.parent)||{},u=[],h=new Set;let x={},m=1/0;for(let p=0;p<ep;p++){const b=Jm[p],g=s[b],v=l[b]!==void 0?l[b]:d[b],w=Rs(v),C=b===f?g.isActive:null;C===!1&&(m=p);let E=v===d[b]&&v!==l[b]&&w;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),g.protectedKeys={...x},!g.isActive&&C===null||!v&&!g.prevProp||Tr(v)||typeof v=="boolean")continue;const D=rp(g.prevProp,v);let B=D||b===f&&g.isActive&&!E&&w||p>m&&w,F=!1;const j=Array.isArray(v)?v:[v];let N=j.reduce(n(b),{});C===!1&&(N={});const{prevResolvedValues:P={}}=g,T={...P,...N},H=z=>{B=!0,h.has(z)&&(F=!0,h.delete(z)),g.needsAnimating[z]=!0;const M=e.getValue(z);M&&(M.liveStyle=!1)};for(const z in T){const M=N[z],k=P[z];if(x.hasOwnProperty(z))continue;let W=!1;yi(M)&&yi(k)?W=!Yc(M,k):W=M!==k,W?M!=null?H(z):h.add(z):M!==void 0&&h.has(z)?H(z):g.protectedKeys[z]=!0}g.prevProp=v,g.prevResolvedValues=N,g.isActive&&(x={...x,...N}),r&&e.blockInitialAnimation&&(B=!1),B&&(!(E&&D)||F)&&u.push(...j.map(z=>({animation:z,options:{type:b}})))}if(h.size){const p={};if(typeof l.initial!="boolean"){const b=Ms(e,Array.isArray(l.initial)?l.initial[0]:l.initial);b&&b.transition&&(p.transition=b.transition)}h.forEach(b=>{const g=e.getBaseTarget(b),v=e.getValue(b);v&&(v.liveStyle=!0),p[b]=g??null}),u.push({animation:p})}let y=!!u.length;return r&&(l.initial===!1||l.initial===l.animate)&&!e.manuallyAnimateOnMount&&(y=!1),r=!1,y?t(u):Promise.resolve()}function c(f,l){var u;if(s[f].isActive===l)return Promise.resolve();(u=e.variantChildren)==null||u.forEach(h=>{var x;return(x=h.animationState)==null?void 0:x.setActive(f,l)}),s[f].isActive=l;const d=o(f);for(const h in s)s[h].protectedKeys={};return d}return{animateChanges:o,setActive:c,setAnimateFunction:a,getState:()=>s,reset:()=>{s=Ao(),r=!0}}}function rp(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Yc(t,e):!1}function Tt(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Ao(){return{animate:Tt(!0),whileInView:Tt(),whileHover:Tt(),whileTap:Tt(),whileDrag:Tt(),whileFocus:Tt(),exit:Tt()}}class St{constructor(t){this.isMounted=!1,this.node=t}update(){}}class np extends St{constructor(t){super(t),t.animationState||(t.animationState=sp(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Tr(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let ip=0;class ap extends St{constructor(){super(...arguments),this.id=ip++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const n=this.node.animationState.setActive("exit",!t);s&&!t&&n.then(()=>{s(this.id)})}mount(){const{register:t,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const op={animation:{Feature:np},exit:{Feature:ap}};function Ls(e,t,s,r={passive:!0}){return e.addEventListener(t,s,r),()=>e.removeEventListener(t,s)}function Xs(e){return{point:{x:e.pageX,y:e.pageY}}}const lp=e=>t=>aa(t)&&e(t,Xs(t));function Es(e,t,s,r){return Ls(e,t,lp(s),r)}const Xc=1e-4,cp=1-Xc,dp=1+Xc,Qc=.01,up=0-Qc,fp=0+Qc;function Te(e){return e.max-e.min}function hp(e,t,s){return Math.abs(e-t)<=s}function Do(e,t,s,r=.5){e.origin=r,e.originPoint=ce(t.min,t.max,e.origin),e.scale=Te(s)/Te(t),e.translate=ce(s.min,s.max,e.origin)-e.originPoint,(e.scale>=cp&&e.scale<=dp||isNaN(e.scale))&&(e.scale=1),(e.translate>=up&&e.translate<=fp||isNaN(e.translate))&&(e.translate=0)}function As(e,t,s,r){Do(e.x,t.x,s.x,r?r.originX:void 0),Do(e.y,t.y,s.y,r?r.originY:void 0)}function jo(e,t,s){e.min=s.min+t.min,e.max=e.min+Te(t)}function xp(e,t,s){jo(e.x,t.x,s.x),jo(e.y,t.y,s.y)}function Bo(e,t,s){e.min=t.min-s.min,e.max=e.min+Te(t)}function Ds(e,t,s){Bo(e.x,t.x,s.x),Bo(e.y,t.y,s.y)}function We(e){return[e("x"),e("y")]}const Zc=({current:e})=>e?e.ownerDocument.defaultView:null,No=(e,t)=>Math.abs(e-t);function mp(e,t){const s=No(e.x,t.x),r=No(e.y,t.y);return Math.sqrt(s**2+r**2)}class Jc{constructor(t,s,{transformPagePoint:r,contextWindow:n=window,dragSnapToOrigin:a=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=an(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,m=mp(h.offset,{x:0,y:0})>=this.distanceThreshold;if(!x&&!m)return;const{point:y}=h,{timestamp:p}=Be;this.history.push({...y,timestamp:p});const{onStart:b,onMove:g}=this.handlers;x||(b&&b(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,h)},this.handlePointerMove=(h,x)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=nn(x,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(h,x)=>{this.end();const{onEnd:m,onSessionEnd:y,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=an(h.type==="pointercancel"?this.lastMoveEventInfo:nn(x,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,b),y&&y(h,b)},!aa(t))return;this.dragSnapToOrigin=a,this.handlers=s,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=n||window;const c=Xs(t),f=nn(c,this.transformPagePoint),{point:l}=f,{timestamp:d}=Be;this.history=[{...l,timestamp:d}];const{onSessionStart:u}=s;u&&u(t,an(f,this.history)),this.removeListeners=Ks(Es(this.contextWindow,"pointermove",this.handlePointerMove),Es(this.contextWindow,"pointerup",this.handlePointerUp),Es(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Bt(this.updatePoint)}}function nn(e,t){return t?{point:t(e.point)}:e}function So(e,t){return{x:e.x-t.x,y:e.y-t.y}}function an({point:e},t){return{point:e,delta:So(e,ed(t)),offset:So(e,pp(t)),velocity:gp(t,.1)}}function pp(e){return e[0]}function ed(e){return e[e.length-1]}function gp(e,t){if(e.length<2)return{x:0,y:0};let s=e.length-1,r=null;const n=ed(e);for(;s>=0&&(r=e[s],!(n.timestamp-r.timestamp>ct(t)));)s--;if(!r)return{x:0,y:0};const a=dt(n.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const o={x:(n.x-r.x)/a,y:(n.y-r.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vp(e,{min:t,max:s},r){return t!==void 0&&e<t?e=r?ce(t,e,r.min):Math.max(e,t):s!==void 0&&e>s&&(e=r?ce(s,e,r.max):Math.min(e,s)),e}function ko(e,t,s){return{min:t!==void 0?e.min+t:void 0,max:s!==void 0?e.max+s-(e.max-e.min):void 0}}function yp(e,{top:t,left:s,bottom:r,right:n}){return{x:ko(e.x,s,n),y:ko(e.y,t,r)}}function Fo(e,t){let s=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([s,r]=[r,s]),{min:s,max:r}}function bp(e,t){return{x:Fo(e.x,t.x),y:Fo(e.y,t.y)}}function wp(e,t){let s=.5;const r=Te(e),n=Te(t);return n>r?s=Ps(t.min,t.max-r,e.min):r>n&&(s=Ps(e.min,e.max-n,t.min)),pt(0,1,s)}function Cp(e,t){const s={};return t.min!==void 0&&(s.min=t.min-e.min),t.max!==void 0&&(s.max=t.max-e.min),s}const Ci=.35;function Ep(e=Ci){return e===!1?e=0:e===!0&&(e=Ci),{x:Po(e,"left","right"),y:Po(e,"top","bottom")}}function Po(e,t,s){return{min:To(e,t),max:To(e,s)}}function To(e,t){return typeof e=="number"?e:e[t]||0}const Ap=new WeakMap;class Dp{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xe(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:s=!1,distanceThreshold:r}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const a=u=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Xs(u).point)},o=(u,h)=>{const{drag:x,dragPropagation:m,onDragStart:y}=this.getProps();if(x&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Fx(x),!this.openDragLock))return;this.latestPointerEvent=u,this.latestPanInfo=h,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),We(b=>{let g=this.getAxisMotionValue(b).get()||0;if(ut.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const w=v.layout.layoutBox[b];w&&(g=Te(w)*(parseFloat(g)/100))}}this.originPoint[b]=g}),y&&le.postRender(()=>y(u,h)),bi(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},c=(u,h)=>{this.latestPointerEvent=u,this.latestPanInfo=h;const{dragPropagation:x,dragDirectionLock:m,onDirectionLock:y,onDrag:p}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:b}=h;if(m&&this.currentDirection===null){this.currentDirection=jp(b),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,b),this.updateAxis("y",h.point,b),this.visualElement.render(),p&&p(u,h)},f=(u,h)=>{this.latestPointerEvent=u,this.latestPanInfo=h,this.stop(u,h),this.latestPointerEvent=null,this.latestPanInfo=null},l=()=>We(u=>{var h;return this.getAnimationState(u)==="paused"&&((h=this.getAxisMotionValue(u).animation)==null?void 0:h.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Jc(t,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:f,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:r,contextWindow:Zc(this.visualElement)})}stop(t,s){const r=t||this.latestPointerEvent,n=s||this.latestPanInfo,a=this.isDragging;if(this.cancel(),!a||!n||!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&le.postRender(()=>c(r,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:n}=this.getProps();if(!r||!lr(t,n,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(o=vp(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var a;const{dragConstraints:t,dragElastic:s}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(a=this.visualElement.projection)==null?void 0:a.layout,n=this.constraints;t&&Zt(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=yp(r.layoutBox,t):this.constraints=!1,this.elastic=Ep(s),n!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&We(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Cp(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Zt(t))return!1;const r=t.current,{projection:n}=this.visualElement;if(!n||!n.layout)return!1;const a=jm(r,n.root,this.visualElement.getTransformPagePoint());let o=bp(n.layout.layoutBox,a);if(s){const c=s(Em(o));this.hasMutatedConstraints=!!c,c&&(o=Lc(c))}return o}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:n,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),f=this.constraints||{},l=We(d=>{if(!lr(d,s,this.currentDirection))return;let u=f&&f[d]||{};o&&(u={min:0,max:0});const h=n?200:1e6,x=n?40:1e7,m={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...a,...u};return this.startAxisValueAnimation(d,m)});return Promise.all(l).then(c)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return bi(this.visualElement,t),r.start(pa(t,r,0,s,this.visualElement,!1))}stopAnimation(){We(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){We(t=>{var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)==null?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),n=r[s];return n||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){We(s=>{const{drag:r}=this.getProps();if(!lr(s,r,this.currentDirection))return;const{projection:n}=this.visualElement,a=this.getAxisMotionValue(s);if(n&&n.layout){const{min:o,max:c}=n.layout.layoutBox[s];a.set(t[s]-ce(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Zt(s)||!r||!this.constraints)return;this.stopAnimation();const n={x:0,y:0};We(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const f=c.get();n[o]=wp({min:f,max:f},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),We(o=>{if(!lr(o,t,null))return;const c=this.getAxisMotionValue(o),{min:f,max:l}=this.constraints[o];c.set(ce(f,l,n[o]))})}addListeners(){if(!this.visualElement.current)return;Ap.set(this.visualElement,this);const t=this.visualElement.current,s=Es(t,"pointerdown",f=>{const{drag:l,dragListener:d=!0}=this.getProps();l&&d&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Zt(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:n}=this.visualElement,a=n.addEventListener("measure",r);n&&!n.layout&&(n.root&&n.root.updateScroll(),n.updateLayout()),le.read(r);const o=Ls(window,"resize",()=>this.scalePositionWithinConstraints()),c=n.addEventListener("didUpdate",({delta:f,hasLayoutChanged:l})=>{this.isDragging&&l&&(We(d=>{const u=this.getAxisMotionValue(d);u&&(this.originPoint[d]+=f[d].translate,u.set(u.get()+f[d].translate))}),this.visualElement.render())});return()=>{o(),s(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:n=!1,dragConstraints:a=!1,dragElastic:o=Ci,dragMomentum:c=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:n,dragConstraints:a,dragElastic:o,dragMomentum:c}}}function lr(e,t,s){return(t===!0||t===e)&&(s===null||s===e)}function jp(e,t=10){let s=null;return Math.abs(e.y)>t?s="y":Math.abs(e.x)>t&&(s="x"),s}class Bp extends St{constructor(t){super(t),this.removeGroupControls=Ge,this.removeListeners=Ge,this.controls=new Dp(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ge}unmount(){this.removeGroupControls(),this.removeListeners()}}const _o=e=>(t,s)=>{e&&le.postRender(()=>e(t,s))};class Np extends St{constructor(){super(...arguments),this.removePointerDownListener=Ge}onPointerDown(t){this.session=new Jc(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Zc(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:n}=this.node.getProps();return{onSessionStart:_o(t),onStart:_o(s),onMove:r,onEnd:(a,o)=>{delete this.session,n&&le.postRender(()=>n(a,o))}}}mount(){this.removePointerDownListener=Es(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hr={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Ro(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const xs={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(K.test(e))e=parseFloat(e);else return e;const s=Ro(e,t.target.x),r=Ro(e,t.target.y);return`${s}% ${r}%`}},Sp={correct:(e,{treeScale:t,projectionDelta:s})=>{const r=e,n=Nt.parse(e);if(n.length>5)return r;const a=Nt.createTransformer(e),o=typeof n[0]!="number"?1:0,c=s.x.scale*t.x,f=s.y.scale*t.y;n[0+o]/=c,n[1+o]/=f;const l=ce(c,f,.5);return typeof n[2+o]=="number"&&(n[2+o]/=l),typeof n[3+o]=="number"&&(n[3+o]/=l),a(n)}};let Io=!1;class kp extends A.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:n}=this.props,{projection:a}=t;Qx(Fp),a&&(s.group&&s.group.add(a),r&&r.register&&n&&r.register(a),Io&&a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),hr.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:n,isPresent:a}=this.props,{projection:o}=r;return o&&(o.isPresent=a,Io=!0,n||t.layoutDependency!==s||s===void 0||t.isPresent!==a?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||le.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ia.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:n}=t;n&&(n.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(n),r&&r.deregister&&r.deregister(n))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function td(e){const[t,s]=Ac(),r=A.useContext(Mi);return i.jsx(kp,{...e,layoutGroup:r,switchLayoutGroup:A.useContext(Ic),isPresent:t,safeToRemove:s})}const Fp={borderRadius:{...xs,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:xs,borderTopRightRadius:xs,borderBottomLeftRadius:xs,borderBottomRightRadius:xs,boxShadow:Sp};function Pp(e,t,s){const r=Ne(e)?e:ns(e);return r.start(pa("",r,t,s)),r.animation}const Tp=(e,t)=>e.depth-t.depth;class _p{constructor(){this.children=[],this.isDirty=!1}add(t){Oi(this.children,t),this.isDirty=!0}remove(t){Ui(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Tp),this.isDirty=!1,this.children.forEach(t)}}function Rp(e,t){const s=Le.now(),r=({timestamp:n})=>{const a=n-s;a>=t&&(Bt(r),e(a-t))};return le.setup(r,!0),()=>Bt(r)}const sd=["TopLeft","TopRight","BottomLeft","BottomRight"],Ip=sd.length,Mo=e=>typeof e=="string"?parseFloat(e):e,Lo=e=>typeof e=="number"||K.test(e);function Mp(e,t,s,r,n,a){n?(e.opacity=ce(0,s.opacity??1,Lp(r)),e.opacityExit=ce(t.opacity??1,0,Vp(r))):a&&(e.opacity=ce(t.opacity??1,s.opacity??1,r));for(let o=0;o<Ip;o++){const c=`border${sd[o]}Radius`;let f=Vo(t,c),l=Vo(s,c);if(f===void 0&&l===void 0)continue;f||(f=0),l||(l=0),f===0||l===0||Lo(f)===Lo(l)?(e[c]=Math.max(ce(Mo(f),Mo(l),r),0),(ut.test(l)||ut.test(f))&&(e[c]+="%")):e[c]=l}(t.rotate||s.rotate)&&(e.rotate=ce(t.rotate||0,s.rotate||0,r))}function Vo(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Lp=rd(0,.5,$l),Vp=rd(.5,.95,Ge);function rd(e,t,s){return r=>r<e?0:r>t?1:s(Ps(e,t,r))}function Oo(e,t){e.min=t.min,e.max=t.max}function $e(e,t){Oo(e.x,t.x),Oo(e.y,t.y)}function Uo(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function zo(e,t,s,r,n){return e-=t,e=wr(e,1/s,r),n!==void 0&&(e=wr(e,1/n,r)),e}function Op(e,t=0,s=1,r=.5,n,a=e,o=e){if(ut.test(t)&&(t=parseFloat(t),t=ce(o.min,o.max,t/100)-o.min),typeof t!="number")return;let c=ce(a.min,a.max,r);e===a&&(c-=t),e.min=zo(e.min,t,s,c,n),e.max=zo(e.max,t,s,c,n)}function Ho(e,t,[s,r,n],a,o){Op(e,t[s],t[r],t[n],t.scale,a,o)}const Up=["x","scaleX","originX"],zp=["y","scaleY","originY"];function $o(e,t,s,r){Ho(e.x,t,Up,s?s.x:void 0,r?r.x:void 0),Ho(e.y,t,zp,s?s.y:void 0,r?r.y:void 0)}function Wo(e){return e.translate===0&&e.scale===1}function nd(e){return Wo(e.x)&&Wo(e.y)}function qo(e,t){return e.min===t.min&&e.max===t.max}function Hp(e,t){return qo(e.x,t.x)&&qo(e.y,t.y)}function Ko(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function id(e,t){return Ko(e.x,t.x)&&Ko(e.y,t.y)}function Yo(e){return Te(e.x)/Te(e.y)}function Go(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class $p{constructor(){this.members=[]}add(t){Oi(this.members,t),t.scheduleRender()}remove(t){if(Ui(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(n=>t===n);if(s===0)return!1;let r;for(let n=s;n>=0;n--){const a=this.members[n];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:n}=t.options;n===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Wp(e,t,s){let r="";const n=e.x.translate/t.x,a=e.y.translate/t.y,o=(s==null?void 0:s.z)||0;if((n||a||o)&&(r=`translate3d(${n}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:l,rotate:d,rotateX:u,rotateY:h,skewX:x,skewY:m}=s;l&&(r=`perspective(${l}px) ${r}`),d&&(r+=`rotate(${d}deg) `),u&&(r+=`rotateX(${u}deg) `),h&&(r+=`rotateY(${h}deg) `),x&&(r+=`skewX(${x}deg) `),m&&(r+=`skewY(${m}deg) `)}const c=e.x.scale*t.x,f=e.y.scale*t.y;return(c!==1||f!==1)&&(r+=`scale(${c}, ${f})`),r||"none"}const on=["","X","Y","Z"],qp=1e3;let Kp=0;function ln(e,t,s,r){const{latestValues:n}=t;n[e]&&(s[e]=n[e],t.setStaticValue(e,0),r&&(r[e]=0))}function ad(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const s=qc(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:n,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(s,"transform",le,!(n||a))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&ad(r)}function od({attachResizeListener:e,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:n}){return class{constructor(o={},c=t==null?void 0:t()){this.id=Kp++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Xp),this.nodes.forEach(eg),this.nodes.forEach(tg),this.nodes.forEach(Qp)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new _p)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new $i),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const f=this.eventHandlers.get(o);f&&f.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Ec(o)&&!Mx(o),this.instance=o;const{layoutId:c,layout:f,visualElement:l}=this.options;if(l&&!l.current&&l.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||c)&&(this.isLayoutDirty=!0),e){let d,u=0;const h=()=>this.root.updateBlockedByResize=!1;le.read(()=>{u=window.innerWidth}),e(o,()=>{const x=window.innerWidth;x!==u&&(u=x,this.root.updateBlockedByResize=!0,d&&d(),d=Rp(h,250),hr.hasAnimatedSinceResize&&(hr.hasAnimatedSinceResize=!1,this.nodes.forEach(Zo)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&l&&(c||f)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:u,hasRelativeLayoutChanged:h,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||l.getDefaultTransition()||ag,{onLayoutAnimationStart:y,onLayoutAnimationComplete:p}=l.getProps(),b=!this.targetLayout||!id(this.targetLayout,x),g=!u&&h;if(this.options.layoutRoot||this.resumeFrom||g||u&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const v={...ra(m,"layout"),onPlay:y,onComplete:p};(l.shouldReduceMotion||this.options.layoutRoot)&&(v.delay=0,v.type=!1),this.startAnimation(v),this.setAnimationOrigin(d,g)}else u||Zo(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Bt(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(sg),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&ad(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const u=this.path[d];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Xo);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Qo);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Jp),this.nodes.forEach(Yp),this.nodes.forEach(Gp)):this.nodes.forEach(Qo),this.clearAllSnapshots();const c=Le.now();Be.delta=pt(0,1e3/60,c-Be.timestamp),Be.timestamp=c,Be.isProcessing=!0,Xr.update.process(Be),Xr.preRender.process(Be),Xr.render.process(Be),Be.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ia.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Zp),this.sharedNodes.forEach(rg)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,le.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Te(this.snapshot.measuredBox.x)&&!Te(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:f,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!n)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!nd(this.projectionDelta),f=this.getTransformTemplate(),l=f?f(this.latestValues,""):void 0,d=l!==this.prevTransformTemplateValue;o&&this.instance&&(c||_t(this.latestValues)||d)&&(n(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let f=this.removeElementScroll(c);return o&&(f=this.removeTransform(f)),og(f),{animationId:this.root.animationId,measuredBox:c,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:o}=this.options;if(!o)return xe();const c=o.measureViewportBox();if(!(((l=this.scroll)==null?void 0:l.wasRoot)||this.path.some(lg))){const{scroll:d}=this.root;d&&(Jt(c.x,d.offset.x),Jt(c.y,d.offset.y))}return c}removeElementScroll(o){var f;const c=xe();if($e(c,o),(f=this.scroll)!=null&&f.wasRoot)return c;for(let l=0;l<this.path.length;l++){const d=this.path[l],{scroll:u,options:h}=d;d!==this.root&&u&&h.layoutScroll&&(u.wasRoot&&$e(c,o),Jt(c.x,u.offset.x),Jt(c.y,u.offset.y))}return c}applyTransform(o,c=!1){const f=xe();$e(f,o);for(let l=0;l<this.path.length;l++){const d=this.path[l];!c&&d.options.layoutScroll&&d.scroll&&d!==d.root&&es(f,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),_t(d.latestValues)&&es(f,d.latestValues)}return _t(this.latestValues)&&es(f,this.latestValues),f}removeTransform(o){const c=xe();$e(c,o);for(let f=0;f<this.path.length;f++){const l=this.path[f];if(!l.instance||!_t(l.latestValues))continue;pi(l.latestValues)&&l.updateSnapshot();const d=xe(),u=l.measurePageBox();$e(d,u),$o(c,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,d)}return _t(this.latestValues)&&$o(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Be.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var h;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==c;if(!(o||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(h=this.parent)!=null&&h.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:u}=this.options;if(!(!this.layout||!(d||u))){if(this.resolvedRelativeTargetAt=Be.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xe(),this.relativeTargetOrigin=xe(),Ds(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),$e(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=xe(),this.targetWithTransforms=xe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xp(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$e(this.target,this.layout.layoutBox),Oc(this.target,this.targetDelta)):$e(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xe(),this.relativeTargetOrigin=xe(),Ds(this.relativeTargetOrigin,this.target,x.target),$e(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||pi(this.parent.latestValues)||Vc(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let f=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(f=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Be.timestamp&&(f=!1),f)return;const{layout:l,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(l||d))return;$e(this.layoutCorrected,this.layout.layoutBox);const u=this.treeScale.x,h=this.treeScale.y;Dm(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=xe());const{target:x}=o;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Uo(this.prevProjectionDelta.x,this.projectionDelta.x),Uo(this.prevProjectionDelta.y,this.projectionDelta.y)),As(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==u||this.treeScale.y!==h||!Go(this.projectionDelta.x,this.prevProjectionDelta.x)||!Go(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var c;if((c=this.options.visualElement)==null||c.scheduleRender(),o){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ts(),this.projectionDelta=ts(),this.projectionDeltaWithTransform=ts()}setAnimationOrigin(o,c=!1){const f=this.snapshot,l=f?f.latestValues:{},d={...this.latestValues},u=ts();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const h=xe(),x=f?f.source:void 0,m=this.layout?this.layout.source:void 0,y=x!==m,p=this.getStack(),b=!p||p.members.length<=1,g=!!(y&&!b&&this.options.crossfade===!0&&!this.path.some(ig));this.animationProgress=0;let v;this.mixTargetDelta=w=>{const C=w/1e3;Jo(u.x,o.x,C),Jo(u.y,o.y,C),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ds(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ng(this.relativeTarget,this.relativeTargetOrigin,h,C),v&&Hp(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=xe()),$e(v,this.relativeTarget)),y&&(this.animationValues=d,Mp(d,l,this.latestValues,C,g,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var c,f,l;this.notifyListeners("animationStart"),(c=this.currentAnimation)==null||c.stop(),(l=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||l.stop(),this.pendingAnimation&&(Bt(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{hr.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ns(0)),this.currentAnimation=Pp(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),o.onUpdate&&o.onUpdate(d)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qp),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:f,layout:l,latestValues:d}=o;if(!(!c||!f||!l)){if(this!==o&&this.layout&&l&&ld(this.options.animationType,this.layout.layoutBox,l.layoutBox)){f=this.target||xe();const u=Te(this.layout.layoutBox.x);f.x.min=o.target.x.min,f.x.max=f.x.min+u;const h=Te(this.layout.layoutBox.y);f.y.min=o.target.y.min,f.y.max=f.y.min+h}$e(c,f),es(c,d),As(this.projectionDeltaWithTransform,this.layoutCorrected,c,d)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new $p),this.sharedNodes.get(o).add(c);const l=c.options.initialPromotionConfig;c.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var c;const{layoutId:o}=this.options;return o?((c=this.getStack())==null?void 0:c.lead)||this:this}getPrevLead(){var c;const{layoutId:o}=this.options;return o?(c=this.getStack())==null?void 0:c.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:f}={}){const l=this.getStack();l&&l.promote(this,f),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:f}=o;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(c=!0),!c)return;const l={};f.z&&ln("z",o,l,this.animationValues);for(let d=0;d<on.length;d++)ln(`rotate${on[d]}`,o,l,this.animationValues),ln(`skew${on[d]}`,o,l,this.animationValues);o.render();for(const d in l)o.setStaticValue(d,l[d]),this.animationValues&&(this.animationValues[d]=l[d]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=fr(c==null?void 0:c.pointerEvents)||"",o.transform=f?f(this.latestValues,""):"none";return}const l=this.getLead();if(!this.projectionDelta||!this.layout||!l.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=fr(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!_t(this.latestValues)&&(o.transform=f?f({},""):"none",this.hasProjected=!1);return}o.visibility="";const d=l.animationValues||l.latestValues;this.applyTransformsToTarget();let u=Wp(this.projectionDeltaWithTransform,this.treeScale,d);f&&(u=f(d,u)),o.transform=u;const{x:h,y:x}=this.projectionDelta;o.transformOrigin=`${h.origin*100}% ${x.origin*100}% 0`,l.animationValues?o.opacity=l===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:o.opacity=l===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const m in Is){if(d[m]===void 0)continue;const{correct:y,applyTo:p,isCSSVariable:b}=Is[m],g=u==="none"?d[m]:y(d[m],l);if(p){const v=p.length;for(let w=0;w<v;w++)o[p[w]]=g}else b?this.options.visualElement.renderState.vars[m]=g:o[m]=g}this.options.layoutId&&(o.pointerEvents=l===this?fr(c==null?void 0:c.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var c;return(c=o.currentAnimation)==null?void 0:c.stop()}),this.root.nodes.forEach(Xo),this.root.sharedNodes.clear()}}}function Yp(e){e.updateLayout()}function Gp(e){var s;const t=((s=e.resumeFrom)==null?void 0:s.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=e.layout,{animationType:a}=e.options,o=t.source!==e.layout.source;a==="size"?We(u=>{const h=o?t.measuredBox[u]:t.layoutBox[u],x=Te(h);h.min=r[u].min,h.max=h.min+x}):ld(a,t.layoutBox,r)&&We(u=>{const h=o?t.measuredBox[u]:t.layoutBox[u],x=Te(r[u]);h.max=h.min+x,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[u].max=e.relativeTarget[u].min+x)});const c=ts();As(c,r,t.layoutBox);const f=ts();o?As(f,e.applyTransform(n,!0),t.measuredBox):As(f,r,t.layoutBox);const l=!nd(c);let d=!1;if(!e.resumeFrom){const u=e.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:x}=u;if(h&&x){const m=xe();Ds(m,t.layoutBox,h.layoutBox);const y=xe();Ds(y,r,x.layoutBox),id(m,y)||(d=!0),u.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=m,e.relativeParent=u)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:c,hasLayoutChanged:l,hasRelativeLayoutChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Xp(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Qp(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Zp(e){e.clearSnapshot()}function Xo(e){e.clearMeasurements()}function Qo(e){e.isLayoutDirty=!1}function Jp(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Zo(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function eg(e){e.resolveTargetDelta()}function tg(e){e.calcProjection()}function sg(e){e.resetSkewAndRotation()}function rg(e){e.removeLeadSnapshot()}function Jo(e,t,s){e.translate=ce(t.translate,0,s),e.scale=ce(t.scale,1,s),e.origin=t.origin,e.originPoint=t.originPoint}function e0(e,t,s,r){e.min=ce(t.min,s.min,r),e.max=ce(t.max,s.max,r)}function ng(e,t,s,r){e0(e.x,t.x,s.x,r),e0(e.y,t.y,s.y,r)}function ig(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const ag={duration:.45,ease:[.4,0,.1,1]},t0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),s0=t0("applewebkit/")&&!t0("chrome/")?Math.round:Ge;function r0(e){e.min=s0(e.min),e.max=s0(e.max)}function og(e){r0(e.x),r0(e.y)}function ld(e,t,s){return e==="position"||e==="preserve-aspect"&&!hp(Yo(t),Yo(s),.2)}function lg(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const cg=od({attachResizeListener:(e,t)=>Ls(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),cn={current:void 0},cd=od({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!cn.current){const e=new cg({});e.mount(window),e.setOptions({layoutScroll:!0}),cn.current=e}return cn.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),dg={pan:{Feature:Np},drag:{Feature:Bp,ProjectionNode:cd,MeasureLayout:td}};function n0(e,t,s){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",s==="Start");const n="onHover"+s,a=r[n];a&&le.postRender(()=>a(t,Xs(t)))}class ug extends St{mount(){const{current:t}=this.node;t&&(this.unmount=Px(t,(s,r)=>(n0(this.node,r,"Start"),n=>n0(this.node,n,"End"))))}unmount(){}}class fg extends St{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ks(Ls(this.node.current,"focus",()=>this.onFocus()),Ls(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function i0(e,t,s){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",s==="Start");const n="onTap"+(s==="End"?"":s),a=r[n];a&&le.postRender(()=>a(t,Xs(t)))}class hg extends St{mount(){const{current:t}=this.node;t&&(this.unmount=Ix(t,(s,r)=>(i0(this.node,r,"Start"),(n,{success:a})=>i0(this.node,n,a?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ei=new WeakMap,dn=new WeakMap,xg=e=>{const t=Ei.get(e.target);t&&t(e)},mg=e=>{e.forEach(xg)};function pg({root:e,...t}){const s=e||document;dn.has(s)||dn.set(s,{});const r=dn.get(s),n=JSON.stringify(t);return r[n]||(r[n]=new IntersectionObserver(mg,{root:e,...t})),r[n]}function gg(e,t,s){const r=pg(t);return Ei.set(e,s),r.observe(e),()=>{Ei.delete(e),r.unobserve(e)}}const vg={some:0,all:1};class yg extends St{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:n="some",once:a}=t,o={root:s?s.current:void 0,rootMargin:r,threshold:typeof n=="number"?n:vg[n]},c=f=>{const{isIntersecting:l}=f;if(this.isInView===l||(this.isInView=l,a&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:d,onViewportLeave:u}=this.node.getProps(),h=l?d:u;h&&h(f)};return gg(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(bg(t,s))&&this.startObserver()}unmount(){}}function bg({viewport:e={}},{viewport:t={}}={}){return s=>e[s]!==t[s]}const wg={inView:{Feature:yg},tap:{Feature:hg},focus:{Feature:fg},hover:{Feature:ug}},Cg={layout:{ProjectionNode:cd,MeasureLayout:td}},Eg={...op,...wg,...dg,...Cg},ms=Cm(Eg,Rm);var ga=Zs(),X=e=>Qs(e,ga),va=Zs();X.write=e=>Qs(e,va);var Rr=Zs();X.onStart=e=>Qs(e,Rr);var ya=Zs();X.onFrame=e=>Qs(e,ya);var ba=Zs();X.onFinish=e=>Qs(e,ba);var ss=[];X.setTimeout=(e,t)=>{const s=X.now()+t,r=()=>{const a=ss.findIndex(o=>o.cancel==r);~a&&ss.splice(a,1),Dt-=~a?1:0},n={time:s,handler:e,cancel:r};return ss.splice(dd(s),0,n),Dt+=1,ud(),n};var dd=e=>~(~ss.findIndex(t=>t.time>e)||~ss.length);X.cancel=e=>{Rr.delete(e),ya.delete(e),ba.delete(e),ga.delete(e),va.delete(e)};X.sync=e=>{Ai=!0,X.batchedUpdates(e),Ai=!1};X.throttle=e=>{let t;function s(){try{e(...t)}finally{t=null}}function r(...n){t=n,X.onStart(s)}return r.handler=e,r.cancel=()=>{Rr.delete(s),t=null},r};var wa=typeof window<"u"?window.requestAnimationFrame:()=>{};X.use=e=>wa=e;X.now=typeof performance<"u"?()=>performance.now():Date.now;X.batchedUpdates=e=>e();X.catch=console.error;X.frameLoop="always";X.advance=()=>{X.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):hd()};var At=-1,Dt=0,Ai=!1;function Qs(e,t){Ai?(t.delete(e),e(0)):(t.add(e),ud())}function ud(){At<0&&(At=0,X.frameLoop!=="demand"&&wa(fd))}function Ag(){At=-1}function fd(){~At&&(wa(fd),X.batchedUpdates(hd))}function hd(){const e=At;At=X.now();const t=dd(At);if(t&&(xd(ss.splice(0,t),s=>s.handler()),Dt-=t),!Dt){Ag();return}Rr.flush(),ga.flush(e?Math.min(64,At-e):16.667),ya.flush(),va.flush(),ba.flush()}function Zs(){let e=new Set,t=e;return{add(s){Dt+=t==e&&!e.has(s)?1:0,e.add(s)},delete(s){return Dt-=t==e&&e.has(s)?1:0,e.delete(s)},flush(s){t.size&&(e=new Set,Dt-=t.size,xd(t,r=>r(s)&&e.add(r)),Dt+=e.size,t=e)}}}function xd(e,t){e.forEach(s=>{try{t(s)}catch(r){X.catch(r)}})}var Dg=Object.defineProperty,jg=(e,t)=>{for(var s in t)Dg(e,s,{get:t[s],enumerable:!0})},tt={};jg(tt,{assign:()=>Ng,colors:()=>jt,createStringInterpolator:()=>Ea,skipAnimation:()=>pd,to:()=>md,willAdvance:()=>Aa});function Di(){}var Bg=(e,t,s)=>Object.defineProperty(e,t,{value:s,writable:!0,configurable:!0}),O={arr:Array.isArray,obj:e=>!!e&&e.constructor.name==="Object",fun:e=>typeof e=="function",str:e=>typeof e=="string",num:e=>typeof e=="number",und:e=>e===void 0};function mt(e,t){if(O.arr(e)){if(!O.arr(t)||e.length!==t.length)return!1;for(let s=0;s<e.length;s++)if(e[s]!==t[s])return!1;return!0}return e===t}var J=(e,t)=>e.forEach(t);function ft(e,t,s){if(O.arr(e)){for(let r=0;r<e.length;r++)t.call(s,e[r],`${r}`);return}for(const r in e)e.hasOwnProperty(r)&&t.call(s,e[r],r)}var Oe=e=>O.und(e)?[]:O.arr(e)?e:[e];function js(e,t){if(e.size){const s=Array.from(e);e.clear(),J(s,t)}}var bs=(e,...t)=>js(e,s=>s(...t)),Ca=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Ea,md,jt=null,pd=!1,Aa=Di,Ng=e=>{e.to&&(md=e.to),e.now&&(X.now=e.now),e.colors!==void 0&&(jt=e.colors),e.skipAnimation!=null&&(pd=e.skipAnimation),e.createStringInterpolator&&(Ea=e.createStringInterpolator),e.requestAnimationFrame&&X.use(e.requestAnimationFrame),e.batchedUpdates&&(X.batchedUpdates=e.batchedUpdates),e.willAdvance&&(Aa=e.willAdvance),e.frameLoop&&(X.frameLoop=e.frameLoop)},Bs=new Set,Ye=[],un=[],Cr=0,Ir={get idle(){return!Bs.size&&!Ye.length},start(e){Cr>e.priority?(Bs.add(e),X.onStart(Sg)):(gd(e),X(ji))},advance:ji,sort(e){if(Cr)X.onFrame(()=>Ir.sort(e));else{const t=Ye.indexOf(e);~t&&(Ye.splice(t,1),vd(e))}},clear(){Ye=[],Bs.clear()}};function Sg(){Bs.forEach(gd),Bs.clear(),X(ji)}function gd(e){Ye.includes(e)||vd(e)}function vd(e){Ye.splice(kg(Ye,t=>t.priority>e.priority),0,e)}function ji(e){const t=un;for(let s=0;s<Ye.length;s++){const r=Ye[s];Cr=r.priority,r.idle||(Aa(r),r.advance(e),r.idle||t.push(r))}return Cr=0,un=Ye,un.length=0,Ye=t,Ye.length>0}function kg(e,t){const s=e.findIndex(t);return s<0?e.length:s}var Fg={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},et="[-+]?\\d*\\.?\\d+",Er=et+"%";function Mr(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}var Pg=new RegExp("rgb"+Mr(et,et,et)),Tg=new RegExp("rgba"+Mr(et,et,et,et)),_g=new RegExp("hsl"+Mr(et,Er,Er)),Rg=new RegExp("hsla"+Mr(et,Er,Er,et)),Ig=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Mg=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Lg=/^#([0-9a-fA-F]{6})$/,Vg=/^#([0-9a-fA-F]{8})$/;function Og(e){let t;return typeof e=="number"?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=Lg.exec(e))?parseInt(t[1]+"ff",16)>>>0:jt&&jt[e]!==void 0?jt[e]:(t=Pg.exec(e))?(Yt(t[1])<<24|Yt(t[2])<<16|Yt(t[3])<<8|255)>>>0:(t=Tg.exec(e))?(Yt(t[1])<<24|Yt(t[2])<<16|Yt(t[3])<<8|l0(t[4]))>>>0:(t=Ig.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Vg.exec(e))?parseInt(t[1],16)>>>0:(t=Mg.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=_g.exec(e))?(a0(o0(t[1]),cr(t[2]),cr(t[3]))|255)>>>0:(t=Rg.exec(e))?(a0(o0(t[1]),cr(t[2]),cr(t[3]))|l0(t[4]))>>>0:null}function fn(e,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?e+(t-e)*6*s:s<1/2?t:s<2/3?e+(t-e)*(2/3-s)*6:e}function a0(e,t,s){const r=s<.5?s*(1+t):s+t-s*t,n=2*s-r,a=fn(n,r,e+1/3),o=fn(n,r,e),c=fn(n,r,e-1/3);return Math.round(a*255)<<24|Math.round(o*255)<<16|Math.round(c*255)<<8}function Yt(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function o0(e){return(parseFloat(e)%360+360)%360/360}function l0(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(t*255)}function cr(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}function c0(e){let t=Og(e);if(t===null)return e;t=t||0;const s=(t&4278190080)>>>24,r=(t&16711680)>>>16,n=(t&65280)>>>8,a=(t&255)/255;return`rgba(${s}, ${r}, ${n}, ${a})`}var Vs=(e,t,s)=>{if(O.fun(e))return e;if(O.arr(e))return Vs({range:e,output:t,extrapolate:s});if(O.str(e.output[0]))return Ea(e);const r=e,n=r.output,a=r.range||[0,1],o=r.extrapolateLeft||r.extrapolate||"extend",c=r.extrapolateRight||r.extrapolate||"extend",f=r.easing||(l=>l);return l=>{const d=zg(l,a);return Ug(l,a[d],a[d+1],n[d],n[d+1],f,o,c,r.map)}};function Ug(e,t,s,r,n,a,o,c,f){let l=f?f(e):e;if(l<t){if(o==="identity")return l;o==="clamp"&&(l=t)}if(l>s){if(c==="identity")return l;c==="clamp"&&(l=s)}return r===n?r:t===s?e<=t?r:n:(t===-1/0?l=-l:s===1/0?l=l-t:l=(l-t)/(s-t),l=a(l),r===-1/0?l=-l:n===1/0?l=l+r:l=l*(n-r)+r,l)}function zg(e,t){for(var s=1;s<t.length-1&&!(t[s]>=e);++s);return s-1}var Hg={linear:e=>e},Os=Symbol.for("FluidValue.get"),as=Symbol.for("FluidValue.observers"),qe=e=>!!(e&&e[Os]),Me=e=>e&&e[Os]?e[Os]():e,d0=e=>e[as]||null;function $g(e,t){e.eventObserved?e.eventObserved(t):e(t)}function Us(e,t){const s=e[as];s&&s.forEach(r=>{$g(r,t)})}var yd=class{constructor(e){if(!e&&!(e=this.get))throw Error("Unknown getter");Wg(this,e)}},Wg=(e,t)=>bd(e,Os,t);function us(e,t){if(e[Os]){let s=e[as];s||bd(e,as,s=new Set),s.has(t)||(s.add(t),e.observerAdded&&e.observerAdded(s.size,t))}return t}function zs(e,t){const s=e[as];if(s&&s.has(t)){const r=s.size-1;r?s.delete(t):e[as]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var bd=(e,t,s)=>Object.defineProperty(e,t,{value:s,writable:!0,configurable:!0}),xr=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,qg=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,u0=new RegExp(`(${xr.source})(%|[a-z]+)`,"i"),Kg=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Lr=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,wd=e=>{const[t,s]=Yg(e);if(!t||Ca())return e;const r=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(r)return r.trim();if(s&&s.startsWith("--")){const n=window.getComputedStyle(document.documentElement).getPropertyValue(s);return n||e}else{if(s&&Lr.test(s))return wd(s);if(s)return s}return e},Yg=e=>{const t=Lr.exec(e);if(!t)return[,];const[,s,r]=t;return[s,r]},hn,Gg=(e,t,s,r,n)=>`rgba(${Math.round(t)}, ${Math.round(s)}, ${Math.round(r)}, ${n})`,Cd=e=>{hn||(hn=jt?new RegExp(`(${Object.keys(jt).join("|")})(?!\\w)`,"g"):/^\b$/);const t=e.output.map(a=>Me(a).replace(Lr,wd).replace(qg,c0).replace(hn,c0)),s=t.map(a=>a.match(xr).map(Number)),n=s[0].map((a,o)=>s.map(c=>{if(!(o in c))throw Error('The arity of each "output" value must be equal');return c[o]})).map(a=>Vs({...e,output:a}));return a=>{var f;const o=!u0.test(t[0])&&((f=t.find(l=>u0.test(l)))==null?void 0:f.replace(xr,""));let c=0;return t[0].replace(xr,()=>`${n[c++](a)}${o||""}`).replace(Kg,Gg)}},Da="react-spring: ",Ed=e=>{const t=e;let s=!1;if(typeof t!="function")throw new TypeError(`${Da}once requires a function parameter`);return(...r)=>{s||(t(...r),s=!0)}},Xg=Ed(console.warn);function Qg(){Xg(`${Da}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var Zg=Ed(console.warn);function Jg(){Zg(`${Da}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Vr(e){return O.str(e)&&(e[0]=="#"||/\d/.test(e)||!Ca()&&Lr.test(e)||e in(jt||{}))}var ja=Ca()?A.useEffect:A.useLayoutEffect,e1=()=>{const e=A.useRef(!1);return ja(()=>(e.current=!0,()=>{e.current=!1}),[]),e};function Ad(){const e=A.useState()[1],t=e1();return()=>{t.current&&e(Math.random())}}var Dd=e=>A.useEffect(e,t1),t1=[];function f0(e){const t=A.useRef(void 0);return A.useEffect(()=>{t.current=e}),t.current}var Hs=Symbol.for("Animated:node"),s1=e=>!!e&&e[Hs]===e,lt=e=>e&&e[Hs],Ba=(e,t)=>Bg(e,Hs,t),Or=e=>e&&e[Hs]&&e[Hs].getPayload(),jd=class{constructor(){Ba(this,this)}getPayload(){return this.payload||[]}},Ur=class Bd extends jd{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,O.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new Bd(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,s){return O.num(t)&&(this.lastPosition=t,s&&(t=Math.round(t/s)*s,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,O.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},Ar=class Nd extends Ur{constructor(t){super(0),this._string=null,this._toString=Vs({output:[t,t]})}static create(t){return new Nd(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(O.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=Vs({output:[this.getValue(),t]})),this._value=0,super.reset()}},Dr={dependencies:null},zr=class extends jd{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const t={};return ft(this.source,(s,r)=>{s1(s)?t[r]=s.getValue(e):qe(s)?t[r]=Me(s):e||(t[r]=s)}),t}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&J(this.payload,e=>e.reset())}_makePayload(e){if(e){const t=new Set;return ft(e,this._addToPayload,t),Array.from(t)}}_addToPayload(e){Dr.dependencies&&qe(e)&&Dr.dependencies.add(e);const t=Or(e);t&&J(t,s=>this.add(s))}},r1=class Sd extends zr{constructor(t){super(t)}static create(t){return new Sd(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const s=this.getPayload();return t.length==s.length?s.map((r,n)=>r.setValue(t[n])).some(Boolean):(super.setValue(t.map(n1)),!0)}};function n1(e){return(Vr(e)?Ar:Ur).create(e)}function Bi(e){const t=lt(e);return t?t.constructor:O.arr(e)?r1:Vr(e)?Ar:Ur}var h0=(e,t)=>{const s=!O.fun(e)||e.prototype&&e.prototype.isReactComponent;return A.forwardRef((r,n)=>{const a=A.useRef(null),o=s&&A.useCallback(m=>{a.current=o1(n,m)},[n]),[c,f]=a1(r,t),l=Ad(),d=()=>{const m=a.current;if(s&&!m)return;(m?t.applyAnimatedValues(m,c.getValue(!0)):!1)===!1&&l()},u=new i1(d,f),h=A.useRef(void 0);ja(()=>(h.current=u,J(f,m=>us(m,u)),()=>{h.current&&(J(h.current.deps,m=>zs(m,h.current)),X.cancel(h.current.update))})),A.useEffect(d,[]),Dd(()=>()=>{const m=h.current;J(m.deps,y=>zs(y,m))});const x=t.getComponentProps(c.getValue());return A.createElement(e,{...x,ref:o})})},i1=class{constructor(e,t){this.update=e,this.deps=t}eventObserved(e){e.type=="change"&&X.write(this.update)}};function a1(e,t){const s=new Set;return Dr.dependencies=s,e.style&&(e={...e,style:t.createAnimatedStyle(e.style)}),e=new zr(e),Dr.dependencies=null,[e,s]}function o1(e,t){return e&&(O.fun(e)?e(t):e.current=t),t}var x0=Symbol.for("AnimatedComponent"),l1=(e,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:s=n=>new zr(n),getComponentProps:r=n=>n}={})=>{const n={applyAnimatedValues:t,createAnimatedStyle:s,getComponentProps:r},a=o=>{const c=m0(o)||"Anonymous";return O.str(o)?o=a[o]||(a[o]=h0(o,n)):o=o[x0]||(o[x0]=h0(o,n)),o.displayName=`Animated(${c})`,o};return ft(e,(o,c)=>{O.arr(e)&&(c=m0(o)),a[c]=a(o)}),{animated:a}},m0=e=>O.str(e)?e:e&&O.str(e.displayName)?e.displayName:O.fun(e)&&e.name||null;function Rt(e,...t){return O.fun(e)?e(...t):e}var Ns=(e,t)=>e===!0||!!(t&&e&&(O.fun(e)?e(t):Oe(e).includes(t))),kd=(e,t)=>O.obj(e)?t&&e[t]:e,Fd=(e,t)=>e.default===!0?e[t]:e.default?e.default[t]:void 0,c1=e=>e,Na=(e,t=c1)=>{let s=d1;e.default&&e.default!==!0&&(e=e.default,s=Object.keys(e));const r={};for(const n of s){const a=t(e[n],n);O.und(a)||(r[n]=a)}return r},d1=["config","onProps","onStart","onChange","onPause","onResume","onRest"],u1={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function f1(e){const t={};let s=0;if(ft(e,(r,n)=>{u1[n]||(t[n]=r,s++)}),s)return t}function Pd(e){const t=f1(e);if(t){const s={to:t};return ft(e,(r,n)=>n in t||(s[n]=r)),s}return{...e}}function $s(e){return e=Me(e),O.arr(e)?e.map($s):Vr(e)?tt.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function h1(e){for(const t in e)return!0;return!1}function Ni(e){return O.fun(e)||O.arr(e)&&O.obj(e[0])}function x1(e,t){var s;(s=e.ref)==null||s.delete(e),t==null||t.delete(e)}function m1(e,t){var s;t&&e.ref!==t&&((s=e.ref)==null||s.delete(e),t.add(e),e.ref=t)}var p1={default:{tension:170,friction:26}},Si={...p1.default,mass:1,damping:1,easing:Hg.linear,clamp:!1},g1=class{constructor(){this.velocity=0,Object.assign(this,Si)}};function v1(e,t,s){s&&(s={...s},p0(s,t),t={...s,...t}),p0(e,t),Object.assign(e,t);for(const o in Si)e[o]==null&&(e[o]=Si[o]);let{frequency:r,damping:n}=e;const{mass:a}=e;return O.und(r)||(r<.01&&(r=.01),n<0&&(n=0),e.tension=Math.pow(2*Math.PI/r,2)*a,e.friction=4*Math.PI*n*a/r),e}function p0(e,t){if(!O.und(t.decay))e.duration=void 0;else{const s=!O.und(t.tension)||!O.und(t.friction);(s||!O.und(t.frequency)||!O.und(t.damping)||!O.und(t.mass))&&(e.duration=void 0,e.decay=void 0),s&&(e.frequency=void 0)}}var g0=[],y1=class{constructor(){this.changed=!1,this.values=g0,this.toValues=null,this.fromValues=g0,this.config=new g1,this.immediate=!1}};function Td(e,{key:t,props:s,defaultProps:r,state:n,actions:a}){return new Promise((o,c)=>{let f,l,d=Ns(s.cancel??(r==null?void 0:r.cancel),t);if(d)x();else{O.und(s.pause)||(n.paused=Ns(s.pause,t));let m=r==null?void 0:r.pause;m!==!0&&(m=n.paused||Ns(m,t)),f=Rt(s.delay||0,t),m?(n.resumeQueue.add(h),a.pause()):(a.resume(),h())}function u(){n.resumeQueue.add(h),n.timeouts.delete(l),l.cancel(),f=l.time-X.now()}function h(){f>0&&!tt.skipAnimation?(n.delayed=!0,l=X.setTimeout(x,f),n.pauseQueue.add(u),n.timeouts.add(l)):x()}function x(){n.delayed&&(n.delayed=!1),n.pauseQueue.delete(u),n.timeouts.delete(l),e<=(n.cancelId||0)&&(d=!0);try{a.start({...s,callId:e,cancel:d},o)}catch(m){c(m)}}})}var Sa=(e,t)=>t.length==1?t[0]:t.some(s=>s.cancelled)?rs(e.get()):t.every(s=>s.noop)?_d(e.get()):Je(e.get(),t.every(s=>s.finished)),_d=e=>({value:e,noop:!0,finished:!0,cancelled:!1}),Je=(e,t,s=!1)=>({value:e,finished:t,cancelled:s}),rs=e=>({value:e,cancelled:!0,finished:!1});function Rd(e,t,s,r){const{callId:n,parentId:a,onRest:o}=t,{asyncTo:c,promise:f}=s;return!a&&e===c&&!t.reset?f:s.promise=(async()=>{s.asyncId=n,s.asyncTo=e;const l=Na(t,(p,b)=>b==="onRest"?void 0:p);let d,u;const h=new Promise((p,b)=>(d=p,u=b)),x=p=>{const b=n<=(s.cancelId||0)&&rs(r)||n!==s.asyncId&&Je(r,!1);if(b)throw p.result=b,u(p),p},m=(p,b)=>{const g=new v0,v=new y0;return(async()=>{if(tt.skipAnimation)throw Ws(s),v.result=Je(r,!1),u(v),v;x(g);const w=O.obj(p)?{...p}:{...b,to:p};w.parentId=n,ft(l,(E,D)=>{O.und(w[D])&&(w[D]=E)});const C=await r.start(w);return x(g),s.paused&&await new Promise(E=>{s.resumeQueue.add(E)}),C})()};let y;if(tt.skipAnimation)return Ws(s),Je(r,!1);try{let p;O.arr(e)?p=(async b=>{for(const g of b)await m(g)})(e):p=Promise.resolve(e(m,r.stop.bind(r))),await Promise.all([p.then(d),h]),y=Je(r.get(),!0,!1)}catch(p){if(p instanceof v0)y=p.result;else if(p instanceof y0)y=p.result;else throw p}finally{n==s.asyncId&&(s.asyncId=a,s.asyncTo=a?c:void 0,s.promise=a?f:void 0)}return O.fun(o)&&X.batchedUpdates(()=>{o(y,r,r.item)}),y})()}function Ws(e,t){js(e.timeouts,s=>s.cancel()),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var v0=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},y0=class extends Error{constructor(){super("SkipAnimationSignal")}},ki=e=>e instanceof ka,b1=1,ka=class extends yd{constructor(){super(...arguments),this.id=b1++,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=lt(this);return e&&e.getValue()}to(...e){return tt.to(this,e)}interpolate(...e){return Qg(),tt.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,t=!1){Us(this,{type:"change",parent:this,value:e,idle:t})}_onPriorityChange(e){this.idle||Ir.sort(this),Us(this,{type:"priority",parent:this,priority:e})}},Ut=Symbol.for("SpringPhase"),Id=1,Fi=2,Pi=4,xn=e=>(e[Ut]&Id)>0,wt=e=>(e[Ut]&Fi)>0,ps=e=>(e[Ut]&Pi)>0,b0=(e,t)=>t?e[Ut]|=Fi|Id:e[Ut]&=~Fi,w0=(e,t)=>t?e[Ut]|=Pi:e[Ut]&=~Pi,w1=class extends ka{constructor(e,t){if(super(),this.animation=new y1,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!O.und(e)||!O.und(t)){const s=O.obj(e)?{...e}:{...t,from:e};O.und(s.default)&&(s.default=!0),this.start(s)}}get idle(){return!(wt(this)||this._state.asyncTo)||ps(this)}get goal(){return Me(this.animation.to)}get velocity(){const e=lt(this);return e instanceof Ur?e.lastVelocity||0:e.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return xn(this)}get isAnimating(){return wt(this)}get isPaused(){return ps(this)}get isDelayed(){return this._state.delayed}advance(e){let t=!0,s=!1;const r=this.animation;let{toValues:n}=r;const{config:a}=r,o=Or(r.to);!o&&qe(r.to)&&(n=Oe(Me(r.to))),r.values.forEach((l,d)=>{if(l.done)return;const u=l.constructor==Ar?1:o?o[d].lastPosition:n[d];let h=r.immediate,x=u;if(!h){if(x=l.lastPosition,a.tension<=0){l.done=!0;return}let m=l.elapsedTime+=e;const y=r.fromValues[d],p=l.v0!=null?l.v0:l.v0=O.arr(a.velocity)?a.velocity[d]:a.velocity;let b;const g=a.precision||(y==u?.005:Math.min(1,Math.abs(u-y)*.001));if(O.und(a.duration))if(a.decay){const v=a.decay===!0?.998:a.decay,w=Math.exp(-(1-v)*m);x=y+p/(1-v)*(1-w),h=Math.abs(l.lastPosition-x)<=g,b=p*w}else{b=l.lastVelocity==null?p:l.lastVelocity;const v=a.restVelocity||g/10,w=a.clamp?0:a.bounce,C=!O.und(w),E=y==u?l.v0>0:y<u;let D,B=!1;const F=1,j=Math.ceil(e/F);for(let N=0;N<j&&(D=Math.abs(b)>v,!(!D&&(h=Math.abs(u-x)<=g,h)));++N){C&&(B=x==u||x>u==E,B&&(b=-b*w,x=u));const P=-a.tension*1e-6*(x-u),T=-a.friction*.001*b,H=(P+T)/a.mass;b=b+H*F,x=x+b*F}}else{let v=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,l.durationProgress>0&&(l.elapsedTime=a.duration*l.durationProgress,m=l.elapsedTime+=e)),v=(a.progress||0)+m/this._memoizedDuration,v=v>1?1:v<0?0:v,l.durationProgress=v),x=y+a.easing(v)*(u-y),b=(x-l.lastPosition)/e,h=v==1}l.lastVelocity=b,Number.isNaN(x)&&(console.warn("Got NaN while animating:",this),h=!0)}o&&!o[d].done&&(h=!1),h?l.done=!0:t=!1,l.setValue(x,a.round)&&(s=!0)});const c=lt(this),f=c.getValue();if(t){const l=Me(r.to);(f!==l||s)&&!a.decay?(c.setValue(l),this._onChange(l)):s&&a.decay&&this._onChange(f),this._stop()}else s&&this._onChange(f)}set(e){return X.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(wt(this)){const{to:e,config:t}=this.animation;X.batchedUpdates(()=>{this._onStart(),t.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,t){let s;return O.und(e)?(s=this.queue||[],this.queue=[]):s=[O.obj(e)?e:{...t,to:e}],Promise.all(s.map(r=>this._update(r))).then(r=>Sa(this,r))}stop(e){const{to:t}=this.animation;return this._focus(this.get()),Ws(this._state,e&&this._lastCallId),X.batchedUpdates(()=>this._stop(t,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const t=this.key||"";let{to:s,from:r}=e;s=O.obj(s)?s[t]:s,(s==null||Ni(s))&&(s=void 0),r=O.obj(r)?r[t]:r,r==null&&(r=void 0);const n={to:s,from:r};return xn(this)||(e.reverse&&([s,r]=[r,s]),r=Me(r),O.und(r)?lt(this)||this._set(s):this._set(r)),n}_update({...e},t){const{key:s,defaultProps:r}=this;e.default&&Object.assign(r,Na(e,(o,c)=>/^on/.test(c)?kd(o,s):o)),E0(this,e,"onProps"),vs(this,"onProps",e,this);const n=this._prepareNode(e);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return Td(++this._lastCallId,{key:s,props:e,defaultProps:r,state:a,actions:{pause:()=>{ps(this)||(w0(this,!0),bs(a.pauseQueue),vs(this,"onPause",Je(this,gs(this,this.animation.to)),this))},resume:()=>{ps(this)&&(w0(this,!1),wt(this)&&this._resume(),bs(a.resumeQueue),vs(this,"onResume",Je(this,gs(this,this.animation.to)),this))},start:this._merge.bind(this,n)}}).then(o=>{if(e.loop&&o.finished&&!(t&&o.noop)){const c=Md(e);if(c)return this._update(c,!0)}return o})}_merge(e,t,s){if(t.cancel)return this.stop(!0),s(rs(this));const r=!O.und(e.to),n=!O.und(e.from);if(r||n)if(t.callId>this._lastToId)this._lastToId=t.callId;else return s(rs(this));const{key:a,defaultProps:o,animation:c}=this,{to:f,from:l}=c;let{to:d=f,from:u=l}=e;n&&!r&&(!t.default||O.und(d))&&(d=u),t.reverse&&([d,u]=[u,d]);const h=!mt(u,l);h&&(c.from=u),u=Me(u);const x=!mt(d,f);x&&this._focus(d);const m=Ni(t.to),{config:y}=c,{decay:p,velocity:b}=y;(r||n)&&(y.velocity=0),t.config&&!m&&v1(y,Rt(t.config,a),t.config!==o.config?Rt(o.config,a):void 0);let g=lt(this);if(!g||O.und(d))return s(Je(this,!0));const v=O.und(t.reset)?n&&!t.default:!O.und(u)&&Ns(t.reset,a),w=v?u:this.get(),C=$s(d),E=O.num(C)||O.arr(C)||Vr(C),D=!m&&(!E||Ns(o.immediate||t.immediate,a));if(x){const N=Bi(d);if(N!==g.constructor)if(D)g=this._set(C);else throw Error(`Cannot animate between ${g.constructor.name} and ${N.name}, as the "to" prop suggests`)}const B=g.constructor;let F=qe(d),j=!1;if(!F){const N=v||!xn(this)&&h;(x||N)&&(j=mt($s(w),C),F=!j),(!mt(c.immediate,D)&&!D||!mt(y.decay,p)||!mt(y.velocity,b))&&(F=!0)}if(j&&wt(this)&&(c.changed&&!v?F=!0:F||this._stop(f)),!m&&((F||qe(f))&&(c.values=g.getPayload(),c.toValues=qe(d)?null:B==Ar?[1]:Oe(C)),c.immediate!=D&&(c.immediate=D,!D&&!v&&this._set(f)),F)){const{onRest:N}=c;J(E1,T=>E0(this,t,T));const P=Je(this,gs(this,f));bs(this._pendingCalls,P),this._pendingCalls.add(s),c.changed&&X.batchedUpdates(()=>{var T;c.changed=!v,N==null||N(P,this),v?Rt(o.onRest,P):(T=c.onStart)==null||T.call(c,P,this)})}v&&this._set(w),m?s(Rd(t.to,t,this._state,this)):F?this._start():wt(this)&&!x?this._pendingCalls.add(s):s(_d(w))}_focus(e){const t=this.animation;e!==t.to&&(d0(this)&&this._detach(),t.to=e,d0(this)&&this._attach())}_attach(){let e=0;const{to:t}=this.animation;qe(t)&&(us(t,this),ki(t)&&(e=t.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;qe(e)&&zs(e,this)}_set(e,t=!0){const s=Me(e);if(!O.und(s)){const r=lt(this);if(!r||!mt(s,r.getValue())){const n=Bi(s);!r||r.constructor!=n?Ba(this,n.create(s)):r.setValue(s),r&&X.batchedUpdates(()=>{this._onChange(s,t)})}}return lt(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,vs(this,"onStart",Je(this,gs(this,e.to)),this))}_onChange(e,t){t||(this._onStart(),Rt(this.animation.onChange,e,this)),Rt(this.defaultProps.onChange,e,this),super._onChange(e,t)}_start(){const e=this.animation;lt(this).reset(Me(e.to)),e.immediate||(e.fromValues=e.values.map(t=>t.lastPosition)),wt(this)||(b0(this,!0),ps(this)||this._resume())}_resume(){tt.skipAnimation?this.finish():Ir.start(this)}_stop(e,t){if(wt(this)){b0(this,!1);const s=this.animation;J(s.values,n=>{n.done=!0}),s.toValues&&(s.onChange=s.onPause=s.onResume=void 0),Us(this,{type:"idle",parent:this});const r=t?rs(this.get()):Je(this.get(),gs(this,e??s.to));bs(this._pendingCalls,r),s.changed&&(s.changed=!1,vs(this,"onRest",r,this))}}};function gs(e,t){const s=$s(t),r=$s(e.get());return mt(r,s)}function Md(e,t=e.loop,s=e.to){const r=Rt(t);if(r){const n=r!==!0&&Pd(r),a=(n||e).reverse,o=!n||n.reset;return qs({...e,loop:t,default:!1,pause:void 0,to:!a||Ni(s)?s:void 0,from:o?e.from:void 0,reset:o,...n})}}function qs(e){const{to:t,from:s}=e=Pd(e),r=new Set;return O.obj(t)&&C0(t,r),O.obj(s)&&C0(s,r),e.keys=r.size?Array.from(r):null,e}function C1(e){const t=qs(e);return O.und(t.default)&&(t.default=Na(t)),t}function C0(e,t){ft(e,(s,r)=>s!=null&&t.add(r))}var E1=["onStart","onRest","onChange","onPause","onResume"];function E0(e,t,s){e.animation[s]=t[s]!==Fd(t,s)?kd(t[s],e.key):void 0}function vs(e,t,...s){var r,n,a,o;(n=(r=e.animation)[t])==null||n.call(r,...s),(o=(a=e.defaultProps)[t])==null||o.call(a,...s)}var A1=["onStart","onChange","onRest"],D1=1,j1=class{constructor(t,s){this.id=D1++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),s&&(this._flush=s),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((s,r)=>t[r]=s.get()),t}set(t){for(const s in t){const r=t[s];O.und(r)||this.springs[s].set(r)}}update(t){return t&&this.queue.push(qs(t)),this}start(t){let{queue:s}=this;return t?s=Oe(t).map(qs):this.queue=[],this._flush?this._flush(this,s):(zd(this,s),Ti(this,s))}stop(t,s){if(t!==!!t&&(s=t),s){const r=this.springs;J(Oe(s),n=>r[n].stop(!!t))}else Ws(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(O.und(t))this.start({pause:!0});else{const s=this.springs;J(Oe(t),r=>s[r].pause())}return this}resume(t){if(O.und(t))this.start({pause:!1});else{const s=this.springs;J(Oe(t),r=>s[r].resume())}return this}each(t){ft(this.springs,t)}_onFrame(){const{onStart:t,onChange:s,onRest:r}=this._events,n=this._active.size>0,a=this._changed.size>0;(n&&!this._started||a&&!this._started)&&(this._started=!0,js(t,([f,l])=>{l.value=this.get(),f(l,this,this._item)}));const o=!n&&this._started,c=a||o&&r.size?this.get():null;a&&s.size&&js(s,([f,l])=>{l.value=c,f(l,this,this._item)}),o&&(this._started=!1,js(r,([f,l])=>{l.value=c,f(l,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;X.onFrame(this._onFrame)}};function Ti(e,t){return Promise.all(t.map(s=>Ld(e,s))).then(s=>Sa(e,s))}async function Ld(e,t,s){const{keys:r,to:n,from:a,loop:o,onRest:c,onResolve:f}=t,l=O.obj(t.default)&&t.default;o&&(t.loop=!1),n===!1&&(t.to=null),a===!1&&(t.from=null);const d=O.arr(n)||O.fun(n)?n:void 0;d?(t.to=void 0,t.onRest=void 0,l&&(l.onRest=void 0)):J(A1,y=>{const p=t[y];if(O.fun(p)){const b=e._events[y];t[y]=({finished:g,cancelled:v})=>{const w=b.get(p);w?(g||(w.finished=!1),v&&(w.cancelled=!0)):b.set(p,{value:null,finished:g||!1,cancelled:v||!1})},l&&(l[y]=t[y])}});const u=e._state;t.pause===!u.paused?(u.paused=t.pause,bs(t.pause?u.pauseQueue:u.resumeQueue)):u.paused&&(t.pause=!0);const h=(r||Object.keys(e.springs)).map(y=>e.springs[y].start(t)),x=t.cancel===!0||Fd(t,"cancel")===!0;(d||x&&u.asyncId)&&h.push(Td(++e._lastAsyncId,{props:t,state:u,actions:{pause:Di,resume:Di,start(y,p){x?(Ws(u,e._lastAsyncId),p(rs(e))):(y.onRest=c,p(Rd(d,y,u,e)))}}})),u.paused&&await new Promise(y=>{u.resumeQueue.add(y)});const m=Sa(e,await Promise.all(h));if(o&&m.finished&&!(s&&m.noop)){const y=Md(t,o,n);if(y)return zd(e,[y]),Ld(e,y,!0)}return f&&X.batchedUpdates(()=>f(m,e,e.item)),m}function A0(e,t){const s={...e.springs};return t&&J(Oe(t),r=>{O.und(r.keys)&&(r=qs(r)),O.obj(r.to)||(r={...r,to:void 0}),Ud(s,r,n=>Od(n))}),Vd(e,s),s}function Vd(e,t){ft(t,(s,r)=>{e.springs[r]||(e.springs[r]=s,us(s,e))})}function Od(e,t){const s=new w1;return s.key=e,t&&us(s,t),s}function Ud(e,t,s){t.keys&&J(t.keys,r=>{(e[r]||(e[r]=s(r)))._prepareNode(t)})}function zd(e,t){J(t,s=>{Ud(e.springs,s,r=>Od(r,e))})}var B1=A.createContext({pause:!1,immediate:!1}),N1=()=>{const e=[],t=function(r){Jg();const n=[];return J(e,(a,o)=>{if(O.und(r))n.push(a.start());else{const c=s(r,a,o);c&&n.push(a.start(c))}}),n};t.current=e,t.add=function(r){e.includes(r)||e.push(r)},t.delete=function(r){const n=e.indexOf(r);~n&&e.splice(n,1)},t.pause=function(){return J(e,r=>r.pause(...arguments)),this},t.resume=function(){return J(e,r=>r.resume(...arguments)),this},t.set=function(r){J(e,(n,a)=>{const o=O.fun(r)?r(a,n):r;o&&n.set(o)})},t.start=function(r){const n=[];return J(e,(a,o)=>{if(O.und(r))n.push(a.start());else{const c=this._getProps(r,a,o);c&&n.push(a.start(c))}}),n},t.stop=function(){return J(e,r=>r.stop(...arguments)),this},t.update=function(r){return J(e,(n,a)=>n.update(this._getProps(r,n,a))),this};const s=function(r,n,a){return O.fun(r)?r(a,n):r};return t._getProps=s,t};function S1(e,t,s){const r=O.fun(t)&&t;r&&!s&&(s=[]);const n=A.useMemo(()=>r||arguments.length==3?N1():void 0,[]),a=A.useRef(0),o=Ad(),c=A.useMemo(()=>({ctrls:[],queue:[],flush(b,g){const v=A0(b,g);return a.current>0&&!c.queue.length&&!Object.keys(v).some(C=>!b.springs[C])?Ti(b,g):new Promise(C=>{Vd(b,v),c.queue.push(()=>{C(Ti(b,g))}),o()})}}),[]),f=A.useRef([...c.ctrls]),l=A.useRef([]),d=f0(e)||0;A.useMemo(()=>{J(f.current.slice(e,d),b=>{x1(b,n),b.stop(!0)}),f.current.length=e,u(d,e)},[e]),A.useMemo(()=>{u(0,Math.min(d,e))},s);function u(b,g){for(let v=b;v<g;v++){const w=f.current[v]||(f.current[v]=new j1(null,c.flush)),C=r?r(v,w):t[v];C&&(l.current[v]=C1(C))}}const h=f.current.map((b,g)=>A0(b,l.current[g])),x=A.useContext(B1),m=f0(x),y=x!==m&&h1(x);ja(()=>{a.current++,c.ctrls=f.current;const{queue:b}=c;b.length&&(c.queue=[],J(b,g=>g())),J(f.current,(g,v)=>{n==null||n.add(g),y&&g.start({default:x});const w=l.current[v];w&&(m1(g,w.ref),g.ref?g.queue.push(w):g.start(w))})}),Dd(()=>()=>{J(c.ctrls,b=>b.stop(!0))});const p=h.map(b=>({...b}));return n?[p,n]:p}function k1(e,t){const s=O.fun(e),[[r],n]=S1(1,s?e:[e],s?[]:t);return s||arguments.length==2?[r,n]:r}var F1=class extends ka{constructor(e,t){super(),this.source=e,this.idle=!0,this._active=new Set,this.calc=Vs(...t);const s=this._get(),r=Bi(s);Ba(this,r.create(s))}advance(e){const t=this._get(),s=this.get();mt(t,s)||(lt(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&D0(this._active)&&mn(this)}_get(){const e=O.arr(this.source)?this.source.map(Me):Oe(Me(this.source));return this.calc(...e)}_start(){this.idle&&!D0(this._active)&&(this.idle=!1,J(Or(this),e=>{e.done=!1}),tt.skipAnimation?(X.batchedUpdates(()=>this.advance()),mn(this)):Ir.start(this))}_attach(){let e=1;J(Oe(this.source),t=>{qe(t)&&us(t,this),ki(t)&&(t.idle||this._active.add(t),e=Math.max(e,t.priority+1))}),this.priority=e,this._start()}_detach(){J(Oe(this.source),e=>{qe(e)&&zs(e,this)}),this._active.clear(),mn(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Oe(this.source).reduce((t,s)=>Math.max(t,(ki(s)?s.priority:0)+1),0))}};function P1(e){return e.idle!==!1}function D0(e){return!e.size||Array.from(e).every(P1)}function mn(e){e.idle||(e.idle=!0,J(Or(e),t=>{t.done=!0}),Us(e,{type:"idle",parent:e}))}tt.assign({createStringInterpolator:Cd,to:(e,t)=>new F1(e,t)});var Hd=/^--/;function T1(e,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!Hd.test(e)&&!(Ss.hasOwnProperty(e)&&Ss[e])?t+"px":(""+t).trim()}var j0={};function _1(e,t){if(!e.nodeType||!e.setAttribute)return!1;const s=e.nodeName==="filter"||e.parentNode&&e.parentNode.nodeName==="filter",{className:r,style:n,children:a,scrollTop:o,scrollLeft:c,viewBox:f,...l}=t,d=Object.values(l),u=Object.keys(l).map(h=>s||e.hasAttribute(h)?h:j0[h]||(j0[h]=h.replace(/([A-Z])/g,x=>"-"+x.toLowerCase())));a!==void 0&&(e.textContent=a);for(const h in n)if(n.hasOwnProperty(h)){const x=T1(h,n[h]);Hd.test(h)?e.style.setProperty(h,x):e.style[h]=x}u.forEach((h,x)=>{e.setAttribute(h,d[x])}),r!==void 0&&(e.className=r),o!==void 0&&(e.scrollTop=o),c!==void 0&&(e.scrollLeft=c),f!==void 0&&e.setAttribute("viewBox",f)}var Ss={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},R1=(e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1),I1=["Webkit","Ms","Moz","O"];Ss=Object.keys(Ss).reduce((e,t)=>(I1.forEach(s=>e[R1(s,t)]=e[t]),e),Ss);var M1=/^(matrix|translate|scale|rotate|skew)/,L1=/^(translate)/,V1=/^(rotate|skew)/,pn=(e,t)=>O.num(e)&&e!==0?e+t:e,mr=(e,t)=>O.arr(e)?e.every(s=>mr(s,t)):O.num(e)?e===t:parseFloat(e)===t,O1=class extends zr{constructor({x:e,y:t,z:s,...r}){const n=[],a=[];(e||t||s)&&(n.push([e||0,t||0,s||0]),a.push(o=>[`translate3d(${o.map(c=>pn(c,"px")).join(",")})`,mr(o,0)])),ft(r,(o,c)=>{if(c==="transform")n.push([o||""]),a.push(f=>[f,f===""]);else if(M1.test(c)){if(delete r[c],O.und(o))return;const f=L1.test(c)?"px":V1.test(c)?"deg":"";n.push(Oe(o)),a.push(c==="rotate3d"?([l,d,u,h])=>[`rotate3d(${l},${d},${u},${pn(h,f)})`,mr(h,0)]:l=>[`${c}(${l.map(d=>pn(d,f)).join(",")})`,mr(l,c.startsWith("scale")?1:0)])}}),n.length&&(r.transform=new U1(n,a)),super(r)}},U1=class extends yd{constructor(e,t){super(),this.inputs=e,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let e="",t=!0;return J(this.inputs,(s,r)=>{const n=Me(s[0]),[a,o]=this.transforms[r](O.arr(n)?n:s.map(Me));e+=" "+a,t=t&&o}),t?"none":e}observerAdded(e){e==1&&J(this.inputs,t=>J(t,s=>qe(s)&&us(s,this)))}observerRemoved(e){e==0&&J(this.inputs,t=>J(t,s=>qe(s)&&zs(s,this)))}eventObserved(e){e.type=="change"&&(this._value=null),Us(this,e)}},z1=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];tt.assign({batchedUpdates:vl.unstable_batchedUpdates,createStringInterpolator:Cd,colors:Fg});var H1=l1(z1,{applyAnimatedValues:_1,createAnimatedStyle:e=>new O1(e),getComponentProps:({scrollTop:e,scrollLeft:t,...s})=>s}),$1=H1.animated;function W1(e,t,s){return Math.max(t,Math.min(e,s))}const Se={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function B0(e,t,s){return t===0||Math.abs(t)===1/0?Math.pow(e,s*5):e*t*s/(t+s*e)}function N0(e,t,s,r=.15){return r===0?W1(e,t,s):e<t?-B0(t-e,s-t,r)+t:e>s?+B0(e-s,s-t,r)+s:e}function q1(e,[t,s],[r,n]){const[[a,o],[c,f]]=e;return[N0(t,a,o,r),N0(s,c,f,n)]}function K1(e,t){if(typeof e!="object"||e===null)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var r=s.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y1(e){var t=K1(e,"string");return typeof t=="symbol"?t:String(t)}function Ie(e,t,s){return t=Y1(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function S0(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),s.push.apply(s,r)}return s}function de(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?S0(Object(s),!0).forEach(function(r){Ie(e,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):S0(Object(s)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))})}return e}const $d={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function k0(e){return e?e[0].toUpperCase()+e.slice(1):""}const G1=["enter","leave"];function X1(e=!1,t){return e&&!G1.includes(t)}function Q1(e,t="",s=!1){const r=$d[e],n=r&&r[t]||t;return"on"+k0(e)+k0(n)+(X1(s,n)?"Capture":"")}const Z1=["gotpointercapture","lostpointercapture"];function J1(e){let t=e.substring(2).toLowerCase();const s=!!~t.indexOf("passive");s&&(t=t.replace("passive",""));const r=Z1.includes(t)?"capturecapture":"capture",n=!!~t.indexOf(r);return n&&(t=t.replace("capture","")),{device:t,capture:n,passive:s}}function ev(e,t=""){const s=$d[e],r=s&&s[t]||t;return e+r}function Hr(e){return"touches"in e}function Wd(e){return Hr(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function tv(e){return Array.from(e.touches).filter(t=>{var s,r;return t.target===e.currentTarget||((s=e.currentTarget)===null||s===void 0||(r=s.contains)===null||r===void 0?void 0:r.call(s,t.target))})}function sv(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function qd(e){return Hr(e)?sv(e)[0]:e}function rv(e){return tv(e).map(t=>t.identifier)}function gn(e){const t=qd(e);return Hr(e)?t.identifier:t.pointerId}function F0(e){const t=qd(e);return[t.clientX,t.clientY]}function nv(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:s,altKey:r,metaKey:n,ctrlKey:a}=e;Object.assign(t,{shiftKey:s,altKey:r,metaKey:n,ctrlKey:a})}return t}function jr(e,...t){return typeof e=="function"?e(...t):e}function iv(){}function av(...e){return e.length===0?iv:e.length===1?e[0]:function(){let t;for(const s of e)t=s.apply(this,arguments)||t;return t}}function P0(e,t){return Object.assign({},t,e||{})}const ov=32;class lv{constructor(t,s,r){this.ctrl=t,this.args=s,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:s,ingKey:r,args:n}=this;s[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=n,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const s=this.state,r=this.config;s._active||(this.reset(),this.computeInitial(),s._active=!0,s.target=t.target,s.currentTarget=t.currentTarget,s.lastOffset=r.from?jr(r.from,s):s.offset,s.offset=s.lastOffset,s.startTime=s.timeStamp=t.timeStamp)}computeValues(t){const s=this.state;s._values=t,s.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:s,config:r,shared:n}=this;s.args=this.args;let a=0;if(t&&(s.event=t,r.preventDefault&&t.cancelable&&s.event.preventDefault(),s.type=t.type,n.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,n.locked=!!document.pointerLockElement,Object.assign(n,nv(t)),n.down=n.pressed=n.buttons%2===1||n.touches>0,a=t.timeStamp-s.timeStamp,s.timeStamp=t.timeStamp,s.elapsedTime=s.timeStamp-s.startTime),s._active){const E=s._delta.map(Math.abs);Se.addTo(s._distance,E)}this.axisIntent&&this.axisIntent(t);const[o,c]=s._movement,[f,l]=r.threshold,{_step:d,values:u}=s;if(r.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(o)>=f&&u[0]),d[1]===!1&&(d[1]=Math.abs(c)>=l&&u[1])):(d[0]===!1&&(d[0]=Math.abs(o)>=f&&Math.sign(o)*f),d[1]===!1&&(d[1]=Math.abs(c)>=l&&Math.sign(c)*l)),s.intentional=d[0]!==!1||d[1]!==!1,!s.intentional)return;const h=[0,0];if(r.hasCustomTransform){const[E,D]=u;h[0]=d[0]!==!1?E-d[0]:0,h[1]=d[1]!==!1?D-d[1]:0}else h[0]=d[0]!==!1?o-d[0]:0,h[1]=d[1]!==!1?c-d[1]:0;this.restrictToAxis&&!s._blocked&&this.restrictToAxis(h);const x=s.offset,m=s._active&&!s._blocked||s.active;m&&(s.first=s._active&&!s.active,s.last=!s._active&&s.active,s.active=n[this.ingKey]=s._active,t&&(s.first&&("bounds"in r&&(s._bounds=jr(r.bounds,s)),this.setup&&this.setup()),s.movement=h,this.computeOffset()));const[y,p]=s.offset,[[b,g],[v,w]]=s._bounds;s.overflow=[y<b?-1:y>g?1:0,p<v?-1:p>w?1:0],s._movementBound[0]=s.overflow[0]?s._movementBound[0]===!1?s._movement[0]:s._movementBound[0]:!1,s._movementBound[1]=s.overflow[1]?s._movementBound[1]===!1?s._movement[1]:s._movementBound[1]:!1;const C=s._active?r.rubberband||[0,0]:[0,0];if(s.offset=q1(s._bounds,s.offset,C),s.delta=Se.sub(s.offset,x),this.computeMovement(),m&&(!s.last||a>ov)){s.delta=Se.sub(s.offset,x);const E=s.delta.map(Math.abs);Se.addTo(s.distance,E),s.direction=s.delta.map(Math.sign),s._direction=s._delta.map(Math.sign),!s.first&&a>0&&(s.velocity=[E[0]/a,E[1]/a],s.timeDelta=a)}}emit(){const t=this.state,s=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const n=this.handler(de(de(de({},s),t),{},{[this.aliasKey]:t.values}));n!==void 0&&(t.memo=n)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function cv([e,t],s){const r=Math.abs(e),n=Math.abs(t);if(r>n&&r>s)return"x";if(n>r&&n>s)return"y"}class dv extends lv{constructor(...t){super(...t),Ie(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=Se.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=Se.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const s=this.state,r=this.config;if(!s.axis&&t){const n=typeof r.axisThreshold=="object"?r.axisThreshold[Wd(t)]:r.axisThreshold;s.axis=cv(s._movement,n)}s._blocked=(r.lockDirection||!!r.axis)&&!s.axis||!!r.axis&&r.axis!==s.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const uv=e=>e,T0=.15,Kd={enabled(e=!0){return e},eventOptions(e,t,s){return de(de({},s.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[T0,T0];case!1:return[0,0];default:return Se.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return Se.toVector(e)},transform(e,t,s){const r=e||s.shared.transform;return this.hasCustomTransform=!!r,r||uv},threshold(e){return Se.toVector(e,0)}},fv=0,Js=de(de({},Kd),{},{axis(e,t,{axis:s}){if(this.lockDirection=s==="lock",!this.lockDirection)return s},axisThreshold(e=fv){return e},bounds(e={}){if(typeof e=="function")return a=>Js.bounds(e(a));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:s=1/0,top:r=-1/0,bottom:n=1/0}=e;return[[t,s],[r,n]]}}),_0={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class hv extends dv{constructor(...t){super(...t),Ie(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const s=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),n={left:s.left-r.left+t.offset[0],right:s.right-r.right+t.offset[0],top:s.top-r.top+t.offset[1],bottom:s.bottom-r.bottom+t.offset[1]};t._bounds=Js.bounds(n)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const s=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(s.pointerButtons)?!s.pointerButtons.includes(t.buttons):s.pointerButtons!==-1&&s.pointerButtons!==t.buttons))return;const n=this.ctrl.setEventIds(t);s.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(n&&n.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=gn(t),r._pointerActive=!0,this.computeValues(F0(t)),this.computeInitial(),s.preventScrollAxis&&Wd(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):s.delay>0?(this.setupDelayTrigger(t),s.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const s=this.state;s._active=!0,s._preventScroll=!0,s._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const s=this.state,r=this.config;if(!s._pointerActive)return;const n=gn(t);if(s._pointerId!==void 0&&n!==s._pointerId)return;const a=F0(t);if(document.pointerLockElement===t.target?s._delta=[t.movementX,t.movementY]:(s._delta=Se.sub(a,s._values),this.computeValues(a)),Se.addTo(s._movement,s._delta),this.compute(t),s._delayed&&s.intentional){this.timeoutStore.remove("dragDelay"),s.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!s._preventScroll)if(s.axis)if(s.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){s._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const s=this.state,r=this.config;if(!s._active||!s._pointerActive)return;const n=gn(t);if(s._pointerId!==void 0&&n!==s._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[a,o]=s._distance;if(s.tap=a<=r.tapsThreshold&&o<=r.tapsThreshold,s.tap&&r.filterTaps)s._force=!0;else{const[c,f]=s._delta,[l,d]=s._movement,[u,h]=r.swipe.velocity,[x,m]=r.swipe.distance,y=r.swipe.duration;if(s.elapsedTime<y){const p=Math.abs(c/s.timeDelta),b=Math.abs(f/s.timeDelta);p>u&&Math.abs(l)>x&&(s.swipe[0]=Math.sign(c)),b>h&&Math.abs(d)>m&&(s.swipe[1]=Math.sign(f))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const s=this.config,r=s.device;s.pointerLock&&t.currentTarget.requestPointerLock(),s.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,xv(t);const s=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",s),this.eventStore.add(this.sharedConfig.window,"touch","cancel",s),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const s=_0[t.key];if(s){const r=this.state,n=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=s(this.config.keyboardDisplacement,n),r._keyboardActive=!0,Se.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in _0&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const s=this.config.device;t(s,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(s,"change",this.pointerMove.bind(this)),t(s,"end",this.pointerUp.bind(this)),t(s,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function xv(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const er=typeof window<"u"&&window.document&&window.document.createElement;function Yd(){return er&&"ontouchstart"in window}function mv(){return Yd()||er&&window.navigator.maxTouchPoints>1}function pv(){return er&&"onpointerdown"in window}function gv(){return er&&"exitPointerLock"in window.document}function vv(){try{return"constructor"in GestureEvent}catch{return!1}}const Ke={isBrowser:er,gesture:vv(),touch:Yd(),touchscreen:mv(),pointer:pv(),pointerLock:gv()},yv=250,bv=180,wv=.5,Cv=50,Ev=250,Av=10,R0={mouse:0,touch:0,pen:8},Dv=de(de({},Js),{},{device(e,t,{pointer:{touch:s=!1,lock:r=!1,mouse:n=!1}={}}){return this.pointerLock=r&&Ke.pointerLock,Ke.touch&&s?"touch":this.pointerLock?"mouse":Ke.pointer&&!n?"pointer":Ke.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:s}){if(this.preventScrollDelay=typeof s=="number"?s:s||s===void 0&&e?yv:void 0,!(!Ke.touchscreen||s===!1))return e||(s!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:s=!0,buttons:r=1,keys:n=!0}={}}){return this.pointerButtons=r,this.keys=n,!this.pointerLock&&this.device==="pointer"&&s},threshold(e,t,{filterTaps:s=!1,tapsThreshold:r=3,axis:n=void 0}){const a=Se.toVector(e,s?r:n?1:0);return this.filterTaps=s,this.tapsThreshold=r,a},swipe({velocity:e=wv,distance:t=Cv,duration:s=Ev}={}){return{velocity:this.transform(Se.toVector(e)),distance:this.transform(Se.toVector(t)),duration:s}},delay(e=0){switch(e){case!0:return bv;case!1:return 0;default:return e}},axisThreshold(e){return e?de(de({},R0),e):R0},keyboardDisplacement(e=Av){return e}});de(de({},Kd),{},{device(e,t,{shared:s,pointer:{touch:r=!1}={}}){if(s.target&&!Ke.touch&&Ke.gesture)return"gesture";if(Ke.touch&&r)return"touch";if(Ke.touchscreen){if(Ke.pointer)return"pointer";if(Ke.touch)return"touch"}},bounds(e,t,{scaleBounds:s={},angleBounds:r={}}){const n=o=>{const c=P0(jr(s,o),{min:-1/0,max:1/0});return[c.min,c.max]},a=o=>{const c=P0(jr(r,o),{min:-1/0,max:1/0});return[c.min,c.max]};return typeof s!="function"&&typeof r!="function"?[n(),a()]:o=>[n(o),a(o)]},threshold(e,t,s){return this.lockDirection=s.axis==="lock",Se.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});de(de({},Js),{},{mouseOnly:(e=!0)=>e});de(de({},Js),{},{mouseOnly:(e=!0)=>e});const Gd=new Map,_i=new Map;function jv(e){Gd.set(e.key,e.engine),_i.set(e.key,e.resolver)}const Bv={key:"drag",engine:hv,resolver:Dv};function Nv(e,t){if(e==null)return{};var s={},r=Object.keys(e),n,a;for(a=0;a<r.length;a++)n=r[a],!(t.indexOf(n)>=0)&&(s[n]=e[n]);return s}function Sv(e,t){if(e==null)return{};var s=Nv(e,t),r,n;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}const kv={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=Ke.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},Fv=["target","eventOptions","window","enabled","transform"];function pr(e={},t){const s={};for(const[r,n]of Object.entries(t))switch(typeof n){case"function":s[r]=n.call(s,e[r],r,e);break;case"object":s[r]=pr(e[r],n);break;case"boolean":n&&(s[r]=e[r]);break}return s}function Pv(e,t,s={}){const r=e,{target:n,eventOptions:a,window:o,enabled:c,transform:f}=r,l=Sv(r,Fv);if(s.shared=pr({target:n,eventOptions:a,window:o,enabled:c,transform:f},kv),t){const d=_i.get(t);s[t]=pr(de({shared:s.shared},l),d)}else for(const d in l){const u=_i.get(d);u&&(s[d]=pr(de({shared:s.shared},l[d]),u))}return s}class Xd{constructor(t,s){Ie(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=s}add(t,s,r,n,a){const o=this._listeners,c=ev(s,r),f=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},l=de(de({},f),a);t.addEventListener(c,n,l);const d=()=>{t.removeEventListener(c,n,l),o.delete(d)};return o.add(d),d}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class Tv{constructor(){Ie(this,"_timeouts",new Map)}add(t,s,r=140,...n){this.remove(t),this._timeouts.set(t,window.setTimeout(s,r,...n))}remove(t){const s=this._timeouts.get(t);s&&window.clearTimeout(s)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class _v{constructor(t){Ie(this,"gestures",new Set),Ie(this,"_targetEventStore",new Xd(this)),Ie(this,"gestureEventStores",{}),Ie(this,"gestureTimeoutStores",{}),Ie(this,"handlers",{}),Ie(this,"config",{}),Ie(this,"pointerIds",new Set),Ie(this,"touchIds",new Set),Ie(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),Rv(this,t)}setEventIds(t){if(Hr(t))return this.touchIds=new Set(rv(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,s){this.handlers=t,this.nativeHandlers=s}applyConfig(t,s){this.config=Pv(t,s,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const s=this.config.shared,r={};let n;if(!(s.target&&(n=s.target(),!n))){if(s.enabled){for(const o of this.gestures){const c=this.config[o],f=I0(r,c.eventOptions,!!n);if(c.enabled){const l=Gd.get(o);new l(this,t,o).bind(f)}}const a=I0(r,s.eventOptions,!!n);for(const o in this.nativeHandlers)a(o,"",c=>this.nativeHandlers[o](de(de({},this.state.shared),{},{event:c,args:t})),void 0,!0)}for(const a in r)r[a]=av(...r[a]);if(!n)return r;for(const a in r){const{device:o,capture:c,passive:f}=J1(a);this._targetEventStore.add(n,o,"",r[a],{capture:c,passive:f})}}}}function Gt(e,t){e.gestures.add(t),e.gestureEventStores[t]=new Xd(e,t),e.gestureTimeoutStores[t]=new Tv}function Rv(e,t){t.drag&&Gt(e,"drag"),t.wheel&&Gt(e,"wheel"),t.scroll&&Gt(e,"scroll"),t.move&&Gt(e,"move"),t.pinch&&Gt(e,"pinch"),t.hover&&Gt(e,"hover")}const I0=(e,t,s)=>(r,n,a,o={},c=!1)=>{var f,l;const d=(f=o.capture)!==null&&f!==void 0?f:t.capture,u=(l=o.passive)!==null&&l!==void 0?l:t.passive;let h=c?r:Q1(r,n,d);s&&u&&(h+="Passive"),e[h]=e[h]||[],e[h].push(a)};function Iv(e,t={},s,r){const n=U.useMemo(()=>new _v(e),[]);if(n.applyHandlers(e,r),n.applyConfig(t,s),U.useEffect(n.effect.bind(n)),U.useEffect(()=>n.clean.bind(n),[]),t.target===void 0)return n.bind.bind(n)}function Mv(e,t){return jv(Bv),Iv({drag:e},t||{},"drag")}const Lv=nu("pk_test_51I4w7tH6yOvhR5k1FrjaRKUcGG3LLzcuTx1LOWJj6bprUylHErpYHXsSRFxfdepAxz3KDbPLp2cDjpP54AWdc9qG00C8jcO2o4");function Vv({isOpen:e,onClose:t,onComplete:s,deviceUuid:r,userId:n}){return e?i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-[90vh] overflow-y-auto",children:[i.jsx("h2",{className:"text-xl font-bold mb-4",children:"Set Up Payment Method"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Add a payment method to start tipping. Your payment information is securely stored."}),i.jsx(iu,{stripe:Lv,children:i.jsx(Ov,{deviceUuid:r,userId:n,onComplete:s,onClose:t})})]})}):null}function Ov({deviceUuid:e,userId:t,onComplete:s,onClose:r}){var x,m,y;const n=au(),a=ou(),[o,c]=A.useState(!1),[f,l]=A.useState(null),[d,u]=A.useState(null);A.useEffect(()=>{if(n){const p=n.paymentRequest({country:"US",currency:"usd",total:{label:"Tipply Tip",amount:100},requestPayerName:!0,requestPayerEmail:!0});p.canMakePayment().then(b=>{console.log("Payment Request canMakePayment result:",b),b&&(u(p),console.log("Payment Request is available:",b.applePay?"Apple Pay":"Google Pay"))}),p.on("paymentmethod",async b=>{console.log("Payment Request paymentmethod event:",b);try{c(!0),l(null);const g=await fetch("/api/stripe/setup-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deviceUuid:e,userId:t})});if(!g.ok){b.complete("fail"),l("Failed to create setup intent"),c(!1);return}const v=await g.json(),{error:w}=await n.confirmCardSetup(v.clientSecret,{payment_method:b.paymentMethod.id});w?(console.error("Payment Request setup error:",w),b.complete("fail"),l(w.message||"Payment setup failed")):(console.log("Payment Request setup successful"),b.complete("success"),ot.success("Payment method added successfully!"),s())}catch(g){console.error("Payment Request error:",g),b.complete("fail"),l("Payment setup failed")}finally{c(!1)}}),p.on("cancel",()=>{console.log("Payment Request cancelled")})}},[n,e,t,s]);const h=async p=>{if(p.preventDefault(),!(!n||!a)){c(!0),l(null);try{const b=await fetch("/api/stripe/setup-intent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deviceUuid:e,userId:t})});if(!b.ok){const C=await b.text();console.error("Setup intent error:",C),l(`Server error: ${b.status} - ${C}`),c(!1);return}const g=await b.json();if(console.log("Setup intent response:",g),!g.clientSecret){l("Failed to get setup intent - no client secret"),c(!1);return}const v=a.getElement(Ta);if(!v){l("Card input not found"),c(!1);return}console.log("Confirming card setup with client secret:",g.clientSecret);const w=await n.confirmCardSetup(g.clientSecret,{payment_method:{card:v}});console.log("Card setup result:",w),w.error?l(w.error.message||"Card error"):(console.log("Payment method setup successful:",w.setupIntent),ot.success("Payment method added successfully!"),s())}catch(b){console.error("Card submission error:",b),l(`Network error: ${b instanceof Error?b.message:"Unknown error"}`)}finally{c(!1)}}};return i.jsxs("div",{className:"space-y-4",children:[d?i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"mb-2",children:i.jsx("button",{onClick:()=>d.show(),disabled:!((x=d.canMakePayment())!=null&&x.applePay)||o,className:"w-full bg-black text-white py-3 px-4 rounded-lg hover:bg-gray-800 transition-colors disabled:opacity-50",children:(m=d.canMakePayment())!=null&&m.applePay?"Pay with Apple Pay":"Pay with Google Pay"})}),i.jsxs("div",{className:"text-center text-xs text-gray-500",children:[(y=d.canMakePayment())!=null&&y.applePay?"Apple Pay":"Google Pay"," supported"]})]}):i.jsx("div",{className:"text-center text-sm text-gray-500 mb-4",children:"Apple Pay / Google Pay not available"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-white px-2 text-gray-500",children:"Or add a card"})})]}),i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsx("div",{className:"border rounded-lg p-3",children:i.jsx(Ta,{options:{style:{base:{fontSize:"16px",color:"#424770","::placeholder":{color:"#aab7c4"}},invalid:{color:"#9e2146"}}}})}),f&&i.jsx("div",{className:"text-red-500 text-sm bg-red-50 p-3 rounded-lg",children:f}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{type:"submit",disabled:o||!n,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:o?"Processing...":"Add Payment Method"}),i.jsx("button",{type:"button",onClick:r,disabled:o,className:"bg-gray-200 text-gray-800 py-2 px-4 rounded-lg hover:bg-gray-300 transition-colors disabled:opacity-50",children:"Cancel"})]})]})]})}const Uv=()=>{const{deviceId:e}=$u(),[t,s]=A.useState(1),[r,n]=A.useState(0),[a,o]=A.useState(!1),[c,f]=A.useState(null),[l,d]=A.useState(!1),[u,h]=A.useState(!1),[x,m]=A.useState(!1),[y,p]=A.useState(""),[b,g]=A.useState(!0),[v,w]=A.useState(!1),C=A.useRef(null),E=[1,5,10,20,50,100],D=E.indexOf(t);A.useEffect(()=>{const L=localStorage.getItem("tipply_user_id");if(L)p(L);else{const z=`user_${Date.now()}_${Math.random().toString(36).substring(2,15)}`;localStorage.setItem("tipply_user_id",z),p(z)}},[]),A.useEffect(()=>{y&&B()},[y]),A.useEffect(()=>{c&&y&&F()},[c,y]);const B=async()=>{try{o(!0),console.log("Fetching device info for device ID:",e);const L=await fetch(`http://localhost:5000/api/devices/${e}`);if(L.ok){const z=await L.json();if(console.log("Device info received:",z),f(z),!z.stripeAccountId){ot.error("This device is not set up for receiving tips yet");return}}else{console.error("Failed to fetch device info"),ot.error("Device not found");return}}catch(L){console.error("Error fetching device info:",L),ot.error("Error loading device information");return}finally{o(!1)}},F=async()=>{try{g(!0),console.log("Checking payment methods for user:",y);const L=await fetch("http://localhost:5000/api/stripe/check-payment-methods",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({deviceUuid:(c==null?void 0:c.uuid)||"",userId:y})});if(L.ok){const z=await L.json();console.log("Payment methods check result:",z),z.hasPaymentMethods?(console.log("User has payment methods, no setup needed"),h(!0)):(console.log("No payment methods found, showing setup modal"),d(!0))}else console.error("Failed to check payment methods"),d(!0)}catch(L){console.error("Error checking payment methods:",L),d(!0)}finally{g(!1)}},j=()=>{h(!0),d(!1),ot.success("Payment method setup complete!")},[N]=k1(()=>({x:0,y:0,scale:1,rotate:0,config:{mass:1,tension:300,friction:30}})),P=Mv(({offset:[L,z],direction:[M,k],velocity:[W,S],cancel:_,canceled:R,distance:I,active:Z,last:q})=>{if(console.log("Gesture detected:",{ox:L,oy:z,xDir:M,yDir:k,velocity:[W,S],distance:I,active:Z,last:q}),!(R||!q)){if(Math.abs(L)>80){if(console.log("Horizontal swipe detected:",M>0?"right":"left"),M>0){const ie=(D+1)%E.length;s(E[ie])}else{const ie=D===0?E.length-1:D-1;s(E[ie])}_()}k<0&&Math.abs(z)>80&&(console.log("Swipe up detected - submitting tip"),T(),_())}},{filterTaps:!0,threshold:5,preventDefault:!0,from:()=>[0,0]}),T=async()=>{if(!c||!u){ot.error("Please set up payment method first");return}m(!0),n(L=>L+t);try{const L=await fe.submitTip({deviceId:c.uuid,userId:y,amount:t,effect:H(t),duration:3e3});L.data?(console.log("Tip stored successfully:",L.data),ot.success(`$${t} tip recorded!`),w(!0),setTimeout(()=>{w(!1)},3e3)):(console.error("Failed to store tip:",L.error),ot.error(L.error||"Failed to record tip"))}catch(L){console.error("Error storing tip:",L),ot.error("Error recording tip")}setTimeout(()=>{m(!1)},2e3)},H=L=>L>=50?"rainbow":L>=20?"pulse":L>=10?"flash":"glow",$=L=>{const z={1:"/images/1dollar.png",5:"/images/5dollars.png",10:"/images/10dollars.png",20:"/images/20dollars.png",50:"/images/50dollars.png",100:"/images/100dollars.png"};return z[L]||z[1]};return a||b?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading..."})]})}):c?i.jsxs("div",{className:"relative w-full h-screen overflow-hidden bg-gradient-to-br from-green-50 to-blue-50",children:[i.jsx("div",{className:"absolute top-0 left-0 right-0 z-10 p-4 bg-white/30 backdrop-blur-sm",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("h1",{className:"text-xl font-bold mb-1 text-white drop-shadow-lg",children:[" Tip ",c.ownerFirstName," ",c.ownerLastName]}),i.jsx("p",{className:"text-sm text-gray-800 font-medium drop-shadow-lg",children:"Swipe to change amount  Swipe up to tip"})]})}),i.jsx(Vv,{isOpen:l,onClose:()=>d(!1),onComplete:j,deviceUuid:(c==null?void 0:c.uuid)||"",userId:y}),i.jsx("div",{className:"absolute inset-0 w-full h-full",children:i.jsx($1.div,{ref:C,...P(),style:{...N,width:"100%",height:"100%",cursor:"grab",userSelect:"none",WebkitUserSelect:"none",touchAction:"none",position:"relative",zIndex:5},className:"relative w-full h-full touch-manipulation",onTouchStart:()=>console.log("Touch start detected"),onTouchMove:()=>console.log("Touch move detected"),onTouchEnd:()=>console.log("Touch end detected"),children:i.jsx($x,{children:i.jsxs(ms.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},transition:{duration:.3},className:"relative w-full h-full",children:[i.jsx(ms.img,{src:$(t),alt:`$${t} bill`,className:"w-full h-full object-cover",draggable:!1,initial:{y:0,scale:1,opacity:1,rotate:0},animate:{y:x?-2e3:0,scale:x?.6:1,opacity:x?0:1,rotate:x?720:0,x:x?Math.random()*200-100:0},transition:{duration:x?1.5:.3,ease:x?"easeInOut":"easeOut"}},`${t}-${x?"flying":"static"}`),x&&i.jsx(ms.img,{src:$(t),alt:`$${t} bill`,className:"absolute inset-0 w-full h-full object-cover",draggable:!1,initial:{y:2e3,scale:.5,opacity:0,rotate:-180},animate:{y:0,scale:1,opacity:1,rotate:0},transition:{duration:1.5,ease:"easeOut",delay:.8}})]},t)})})}),i.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 z-10",children:i.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-full px-6 py-3 shadow-lg",children:i.jsxs("span",{className:"text-2xl font-bold text-green-600",children:["$",t]})})}),i.jsx("div",{className:"absolute top-20 right-4 z-10",children:i.jsx(ms.div,{className:"bg-green-500/90 backdrop-blur-sm rounded-lg px-4 py-2 shadow-lg",animate:r>0?{scale:[1,1.1,1]}:{},transition:{duration:.5},children:i.jsxs("span",{className:"text-white text-sm font-medium",children:["Total: $",r]})})}),v&&i.jsx("div",{className:"absolute inset-0 pointer-events-none z-20",children:[...Array(8)].map((L,z)=>i.jsx(ms.div,{className:"absolute text-2xl",initial:{x:Math.random()*window.innerWidth,y:window.innerHeight+50,opacity:1,scale:0},animate:{y:-100,opacity:[1,1,0],scale:[0,1,.8],rotate:[0,360]},transition:{duration:2,delay:z*.1,ease:"easeOut"},onAnimationComplete:()=>{z===7&&w(!1)},children:z%2===0?"":""},z))}),i.jsx("div",{className:"absolute bottom-20 left-1/2 transform -translate-x-1/2 z-10",children:i.jsx("div",{className:"bg-black/50 backdrop-blur-sm rounded-lg px-4 py-2",children:i.jsx("span",{className:"text-white text-sm",children:" Swipe to change   Swipe to tip"})})}),i.jsx("div",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10",children:i.jsx("div",{className:"bg-blue-500/50 backdrop-blur-sm rounded-full p-2",children:i.jsx("span",{className:"text-white text-xs",children:""})})}),i.jsx("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10",children:i.jsx("div",{className:"bg-blue-500/50 backdrop-blur-sm rounded-full p-2",children:i.jsx("span",{className:"text-white text-xs",children:""})})}),i.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-10",children:i.jsx("div",{className:"bg-green-500/50 backdrop-blur-sm rounded-full p-2",children:i.jsx("span",{className:"text-white text-xs",children:""})})})]}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center",children:i.jsx("div",{className:"text-center",children:i.jsx("p",{className:"text-red-600",children:"Device not found"})})})},zv=()=>{const[e]=Pl(),t=st(),[s,r]=A.useState("loading");return A.useEffect(()=>{const n=e.get("setup_intent"),a=e.get("setup_intent_client_secret");r(n&&a?"success":"error")},[e]),i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"max-w-md mx-auto text-center",children:[s==="loading"&&i.jsxs("div",{children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Processing payment setup..."})]}),s==="success"&&i.jsxs("div",{children:[i.jsx("div",{className:"text-green-600 text-6xl mb-4",children:""}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Method Added!"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Your payment method has been successfully added and you can now make tips."}),i.jsx("button",{onClick:()=>t("/dashboard"),className:"btn-primary",children:"Continue"})]}),s==="error"&&i.jsxs("div",{children:[i.jsx("div",{className:"text-red-600 text-6xl mb-4",children:""}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Setup Failed"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"There was an issue setting up your payment method. Please try again."}),i.jsx("button",{onClick:()=>t("/dashboard"),className:"btn-secondary",children:"Go Back"})]})]})})},Hv=()=>{const[e]=Pl(),t=st();A.useEffect(()=>{console.log("KYC Return - All search params:",Object.fromEntries(e.entries()));const r=e.get("account_id"),n=e.get("error"),a=e.get("state"),o=e.get("code");let c="unknown",f="";n?(console.log("KYC Return - Error detected:",n),c="failed",f="KYC verification failed. Please try again or contact support."):r||o||a?(console.log("KYC Return - Success indicators found:",{accountId:r,code:o,state:a}),c="success",f="KYC verification completed successfully! Your Stripe account is now enabled."):(console.log("KYC Return - No clear indicators, assuming success"),c="success",f="KYC verification completed successfully! Your Stripe account is now enabled.");const l={status:c,message:f,timestamp:new Date().toISOString()};sessionStorage.setItem("kyc_result",JSON.stringify(l)),localStorage.setItem("kyc_result",JSON.stringify(l)),console.log("KYC result stored:",l),s()},[e]);const s=async()=>{var r;try{const n=sessionStorage.getItem("onboarding_email"),a=sessionStorage.getItem("onboarding_password");if(!n||!a){console.error("No onboarding credentials found"),t("/dashboard");return}console.log("Attempting auto-login with email:",n);const o=await fe.login({email:n,password:a});if(o.error){console.error("Auto-login failed:",o.error),t("/dashboard");return}(r=o.data)!=null&&r.accessToken?(localStorage.setItem("token",o.data.accessToken),o.data.refreshToken&&localStorage.setItem("refreshToken",o.data.refreshToken),sessionStorage.removeItem("onboarding_email"),sessionStorage.removeItem("onboarding_password"),console.log("Auto-login successful, navigating to dashboard"),t("/dashboard")):(console.error("No access token received"),t("/dashboard"))}catch(n){console.error("Auto-login error:",n),t("/dashboard")}};return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"max-w-md mx-auto text-center",children:i.jsxs("div",{children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Processing KYC verification and logging you in..."}),i.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Redirecting to dashboard..."})]})})})},$v=()=>{const e=st(),[t,s]=A.useState(""),[r,n]=A.useState(!0);A.useEffect(()=>{a()},[]);const a=async()=>{try{const o=await fetch("/api/stripe/status");if(o.ok){const c=await o.json();s(c.status||"Unknown")}else s("Error")}catch{s("Error")}finally{n(!1)}};return r?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Checking Stripe status..."})]})}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"max-w-md mx-auto text-center",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Stripe Status"}),i.jsx("div",{className:"card",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`text-4xl mb-4 ${t==="active"?"text-green-600":"text-red-600"}`,children:t==="active"?"":""}),i.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-2",children:t==="active"?"Stripe is Active":"Stripe is Inactive"}),i.jsx("p",{className:"text-gray-600",children:t==="active"?"Your Stripe account is properly configured and ready to process payments.":"There is an issue with your Stripe configuration. Please check your settings."})]})}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{onClick:()=>e("/dashboard"),className:"btn-primary",children:"Back to Dashboard"})})]})})};var Qd={exports:{}};function Wv(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var vn={exports:{}};const qv={},Kv=Object.freeze(Object.defineProperty({__proto__:null,default:qv},Symbol.toStringTag,{value:"Module"})),Yv=su(Kv);var M0;function ee(){return M0||(M0=1,function(e,t){(function(s,r){e.exports=r()})(Q,function(){var s=s||function(r,n){var a;if(typeof window<"u"&&window.crypto&&(a=window.crypto),typeof self<"u"&&self.crypto&&(a=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(a=globalThis.crypto),!a&&typeof window<"u"&&window.msCrypto&&(a=window.msCrypto),!a&&typeof Q<"u"&&Q.crypto&&(a=Q.crypto),!a&&typeof Wv=="function")try{a=Yv}catch{}var o=function(){if(a){if(typeof a.getRandomValues=="function")try{return a.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof a.randomBytes=="function")try{return a.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},c=Object.create||function(){function g(){}return function(v){var w;return g.prototype=v,w=new g,g.prototype=null,w}}(),f={},l=f.lib={},d=l.Base=function(){return{extend:function(g){var v=c(this);return g&&v.mixIn(g),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var v in g)g.hasOwnProperty(v)&&(this[v]=g[v]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),u=l.WordArray=d.extend({init:function(g,v){g=this.words=g||[],v!=n?this.sigBytes=v:this.sigBytes=g.length*4},toString:function(g){return(g||x).stringify(this)},concat:function(g){var v=this.words,w=g.words,C=this.sigBytes,E=g.sigBytes;if(this.clamp(),C%4)for(var D=0;D<E;D++){var B=w[D>>>2]>>>24-D%4*8&255;v[C+D>>>2]|=B<<24-(C+D)%4*8}else for(var F=0;F<E;F+=4)v[C+F>>>2]=w[F>>>2];return this.sigBytes+=E,this},clamp:function(){var g=this.words,v=this.sigBytes;g[v>>>2]&=4294967295<<32-v%4*8,g.length=r.ceil(v/4)},clone:function(){var g=d.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var v=[],w=0;w<g;w+=4)v.push(o());return new u.init(v,g)}}),h=f.enc={},x=h.Hex={stringify:function(g){for(var v=g.words,w=g.sigBytes,C=[],E=0;E<w;E++){var D=v[E>>>2]>>>24-E%4*8&255;C.push((D>>>4).toString(16)),C.push((D&15).toString(16))}return C.join("")},parse:function(g){for(var v=g.length,w=[],C=0;C<v;C+=2)w[C>>>3]|=parseInt(g.substr(C,2),16)<<24-C%8*4;return new u.init(w,v/2)}},m=h.Latin1={stringify:function(g){for(var v=g.words,w=g.sigBytes,C=[],E=0;E<w;E++){var D=v[E>>>2]>>>24-E%4*8&255;C.push(String.fromCharCode(D))}return C.join("")},parse:function(g){for(var v=g.length,w=[],C=0;C<v;C++)w[C>>>2]|=(g.charCodeAt(C)&255)<<24-C%4*8;return new u.init(w,v)}},y=h.Utf8={stringify:function(g){try{return decodeURIComponent(escape(m.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return m.parse(unescape(encodeURIComponent(g)))}},p=l.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new u.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=y.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var v,w=this._data,C=w.words,E=w.sigBytes,D=this.blockSize,B=D*4,F=E/B;g?F=r.ceil(F):F=r.max((F|0)-this._minBufferSize,0);var j=F*D,N=r.min(j*4,E);if(j){for(var P=0;P<j;P+=D)this._doProcessBlock(C,P);v=C.splice(0,j),w.sigBytes-=N}return new u.init(v,N)},clone:function(){var g=d.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0});l.Hasher=p.extend({cfg:d.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){g&&this._append(g);var v=this._doFinalize();return v},blockSize:16,_createHelper:function(g){return function(v,w){return new g.init(w).finalize(v)}},_createHmacHelper:function(g){return function(v,w){return new b.HMAC.init(g,w).finalize(v)}}});var b=f.algo={};return f}(Math);return s})}(vn)),vn.exports}var yn={exports:{}},L0;function $r(){return L0||(L0=1,function(e,t){(function(s,r){e.exports=r(ee())})(Q,function(s){return function(r){var n=s,a=n.lib,o=a.Base,c=a.WordArray,f=n.x64={};f.Word=o.extend({init:function(l,d){this.high=l,this.low=d}}),f.WordArray=o.extend({init:function(l,d){l=this.words=l||[],d!=r?this.sigBytes=d:this.sigBytes=l.length*8},toX32:function(){for(var l=this.words,d=l.length,u=[],h=0;h<d;h++){var x=l[h];u.push(x.high),u.push(x.low)}return c.create(u,this.sigBytes)},clone:function(){for(var l=o.clone.call(this),d=l.words=this.words.slice(0),u=d.length,h=0;h<u;h++)d[h]=d[h].clone();return l}})}(),s})}(yn)),yn.exports}var bn={exports:{}},V0;function Gv(){return V0||(V0=1,function(e,t){(function(s,r){e.exports=r(ee())})(Q,function(s){return function(){if(typeof ArrayBuffer=="function"){var r=s,n=r.lib,a=n.WordArray,o=a.init,c=a.init=function(f){if(f instanceof ArrayBuffer&&(f=new Uint8Array(f)),(f instanceof Int8Array||typeof Uint8ClampedArray<"u"&&f instanceof Uint8ClampedArray||f instanceof Int16Array||f instanceof Uint16Array||f instanceof Int32Array||f instanceof Uint32Array||f instanceof Float32Array||f instanceof Float64Array)&&(f=new Uint8Array(f.buffer,f.byteOffset,f.byteLength)),f instanceof Uint8Array){for(var l=f.byteLength,d=[],u=0;u<l;u++)d[u>>>2]|=f[u]<<24-u%4*8;o.call(this,d,l)}else o.apply(this,arguments)};c.prototype=a}}(),s.lib.WordArray})}(bn)),bn.exports}var wn={exports:{}},O0;function Xv(){return O0||(O0=1,function(e,t){(function(s,r){e.exports=r(ee())})(Q,function(s){return function(){var r=s,n=r.lib,a=n.WordArray,o=r.enc;o.Utf16=o.Utf16BE={stringify:function(f){for(var l=f.words,d=f.sigBytes,u=[],h=0;h<d;h+=2){var x=l[h>>>2]>>>16-h%4*8&65535;u.push(String.fromCharCode(x))}return u.join("")},parse:function(f){for(var l=f.length,d=[],u=0;u<l;u++)d[u>>>1]|=f.charCodeAt(u)<<16-u%2*16;return a.create(d,l*2)}},o.Utf16LE={stringify:function(f){for(var l=f.words,d=f.sigBytes,u=[],h=0;h<d;h+=2){var x=c(l[h>>>2]>>>16-h%4*8&65535);u.push(String.fromCharCode(x))}return u.join("")},parse:function(f){for(var l=f.length,d=[],u=0;u<l;u++)d[u>>>1]|=c(f.charCodeAt(u)<<16-u%2*16);return a.create(d,l*2)}};function c(f){return f<<8&4278255360|f>>>8&16711935}}(),s.enc.Utf16})}(wn)),wn.exports}var Cn={exports:{}},U0;function Ht(){return U0||(U0=1,function(e,t){(function(s,r){e.exports=r(ee())})(Q,function(s){return function(){var r=s,n=r.lib,a=n.WordArray,o=r.enc;o.Base64={stringify:function(f){var l=f.words,d=f.sigBytes,u=this._map;f.clamp();for(var h=[],x=0;x<d;x+=3)for(var m=l[x>>>2]>>>24-x%4*8&255,y=l[x+1>>>2]>>>24-(x+1)%4*8&255,p=l[x+2>>>2]>>>24-(x+2)%4*8&255,b=m<<16|y<<8|p,g=0;g<4&&x+g*.75<d;g++)h.push(u.charAt(b>>>6*(3-g)&63));var v=u.charAt(64);if(v)for(;h.length%4;)h.push(v);return h.join("")},parse:function(f){var l=f.length,d=this._map,u=this._reverseMap;if(!u){u=this._reverseMap=[];for(var h=0;h<d.length;h++)u[d.charCodeAt(h)]=h}var x=d.charAt(64);if(x){var m=f.indexOf(x);m!==-1&&(l=m)}return c(f,l,u)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function c(f,l,d){for(var u=[],h=0,x=0;x<l;x++)if(x%4){var m=d[f.charCodeAt(x-1)]<<x%4*2,y=d[f.charCodeAt(x)]>>>6-x%4*2,p=m|y;u[h>>>2]|=p<<24-h%4*8,h++}return a.create(u,h)}}(),s.enc.Base64})}(Cn)),Cn.exports}var En={exports:{}},z0;function Qv(){return z0||(z0=1,function(e,t){(function(s,r){e.exports=r(ee())})(Q,function(s){return function(){var r=s,n=r.lib,a=n.WordArray,o=r.enc;o.Base64url={stringify:function(f,l){l===void 0&&(l=!0);var d=f.words,u=f.sigBytes,h=l?this._safe_map:this._map;f.clamp();for(var x=[],m=0;m<u;m+=3)for(var y=d[m>>>2]>>>24-m%4*8&255,p=d[m+1>>>2]>>>24-(m+1)%4*8&255,b=d[m+2>>>2]>>>24-(m+2)%4*8&255,g=y<<16|p<<8|b,v=0;v<4&&m+v*.75<u;v++)x.push(h.charAt(g>>>6*(3-v)&63));var w=h.charAt(64);if(w)for(;x.length%4;)x.push(w);return x.join("")},parse:function(f,l){l===void 0&&(l=!0);var d=f.length,u=l?this._safe_map:this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var x=0;x<u.length;x++)h[u.charCodeAt(x)]=x}var m=u.charAt(64);if(m){var y=f.indexOf(m);y!==-1&&(d=y)}return c(f,d,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function c(f,l,d){for(var u=[],h=0,x=0;x<l;x++)if(x%4){var m=d[f.charCodeAt(x-1)]<<x%4*2,y=d[f.charCodeAt(x)]>>>6-x%4*2,p=m|y;u[h>>>2]|=p<<24-h%4*8,h++}return a.create(u,h)}}(),s.enc.Base64url})}(En)),En.exports}var An={exports:{}},H0;function $t(){return H0||(H0=1,function(e,t){(function(s,r){e.exports=r(ee())})(Q,function(s){return function(r){var n=s,a=n.lib,o=a.WordArray,c=a.Hasher,f=n.algo,l=[];(function(){for(var y=0;y<64;y++)l[y]=r.abs(r.sin(y+1))*4294967296|0})();var d=f.MD5=c.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(y,p){for(var b=0;b<16;b++){var g=p+b,v=y[g];y[g]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360}var w=this._hash.words,C=y[p+0],E=y[p+1],D=y[p+2],B=y[p+3],F=y[p+4],j=y[p+5],N=y[p+6],P=y[p+7],T=y[p+8],H=y[p+9],$=y[p+10],L=y[p+11],z=y[p+12],M=y[p+13],k=y[p+14],W=y[p+15],S=w[0],_=w[1],R=w[2],I=w[3];S=u(S,_,R,I,C,7,l[0]),I=u(I,S,_,R,E,12,l[1]),R=u(R,I,S,_,D,17,l[2]),_=u(_,R,I,S,B,22,l[3]),S=u(S,_,R,I,F,7,l[4]),I=u(I,S,_,R,j,12,l[5]),R=u(R,I,S,_,N,17,l[6]),_=u(_,R,I,S,P,22,l[7]),S=u(S,_,R,I,T,7,l[8]),I=u(I,S,_,R,H,12,l[9]),R=u(R,I,S,_,$,17,l[10]),_=u(_,R,I,S,L,22,l[11]),S=u(S,_,R,I,z,7,l[12]),I=u(I,S,_,R,M,12,l[13]),R=u(R,I,S,_,k,17,l[14]),_=u(_,R,I,S,W,22,l[15]),S=h(S,_,R,I,E,5,l[16]),I=h(I,S,_,R,N,9,l[17]),R=h(R,I,S,_,L,14,l[18]),_=h(_,R,I,S,C,20,l[19]),S=h(S,_,R,I,j,5,l[20]),I=h(I,S,_,R,$,9,l[21]),R=h(R,I,S,_,W,14,l[22]),_=h(_,R,I,S,F,20,l[23]),S=h(S,_,R,I,H,5,l[24]),I=h(I,S,_,R,k,9,l[25]),R=h(R,I,S,_,B,14,l[26]),_=h(_,R,I,S,T,20,l[27]),S=h(S,_,R,I,M,5,l[28]),I=h(I,S,_,R,D,9,l[29]),R=h(R,I,S,_,P,14,l[30]),_=h(_,R,I,S,z,20,l[31]),S=x(S,_,R,I,j,4,l[32]),I=x(I,S,_,R,T,11,l[33]),R=x(R,I,S,_,L,16,l[34]),_=x(_,R,I,S,k,23,l[35]),S=x(S,_,R,I,E,4,l[36]),I=x(I,S,_,R,F,11,l[37]),R=x(R,I,S,_,P,16,l[38]),_=x(_,R,I,S,$,23,l[39]),S=x(S,_,R,I,M,4,l[40]),I=x(I,S,_,R,C,11,l[41]),R=x(R,I,S,_,B,16,l[42]),_=x(_,R,I,S,N,23,l[43]),S=x(S,_,R,I,H,4,l[44]),I=x(I,S,_,R,z,11,l[45]),R=x(R,I,S,_,W,16,l[46]),_=x(_,R,I,S,D,23,l[47]),S=m(S,_,R,I,C,6,l[48]),I=m(I,S,_,R,P,10,l[49]),R=m(R,I,S,_,k,15,l[50]),_=m(_,R,I,S,j,21,l[51]),S=m(S,_,R,I,z,6,l[52]),I=m(I,S,_,R,B,10,l[53]),R=m(R,I,S,_,$,15,l[54]),_=m(_,R,I,S,E,21,l[55]),S=m(S,_,R,I,T,6,l[56]),I=m(I,S,_,R,W,10,l[57]),R=m(R,I,S,_,N,15,l[58]),_=m(_,R,I,S,M,21,l[59]),S=m(S,_,R,I,F,6,l[60]),I=m(I,S,_,R,L,10,l[61]),R=m(R,I,S,_,D,15,l[62]),_=m(_,R,I,S,H,21,l[63]),w[0]=w[0]+S|0,w[1]=w[1]+_|0,w[2]=w[2]+R|0,w[3]=w[3]+I|0},_doFinalize:function(){var y=this._data,p=y.words,b=this._nDataBytes*8,g=y.sigBytes*8;p[g>>>5]|=128<<24-g%32;var v=r.floor(b/4294967296),w=b;p[(g+64>>>9<<4)+15]=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,p[(g+64>>>9<<4)+14]=(w<<8|w>>>24)&16711935|(w<<24|w>>>8)&4278255360,y.sigBytes=(p.length+1)*4,this._process();for(var C=this._hash,E=C.words,D=0;D<4;D++){var B=E[D];E[D]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360}return C},clone:function(){var y=c.clone.call(this);return y._hash=this._hash.clone(),y}});function u(y,p,b,g,v,w,C){var E=y+(p&b|~p&g)+v+C;return(E<<w|E>>>32-w)+p}function h(y,p,b,g,v,w,C){var E=y+(p&g|b&~g)+v+C;return(E<<w|E>>>32-w)+p}function x(y,p,b,g,v,w,C){var E=y+(p^b^g)+v+C;return(E<<w|E>>>32-w)+p}function m(y,p,b,g,v,w,C){var E=y+(b^(p|~g))+v+C;return(E<<w|E>>>32-w)+p}n.MD5=c._createHelper(d),n.HmacMD5=c._createHmacHelper(d)}(Math),s.MD5})}(An)),An.exports}var Dn={exports:{}},$0;function Zd(){return $0||($0=1,function(e,t){(function(s,r){e.exports=r(ee())})(Q,function(s){return function(){var r=s,n=r.lib,a=n.WordArray,o=n.Hasher,c=r.algo,f=[],l=c.SHA1=o.extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(d,u){for(var h=this._hash.words,x=h[0],m=h[1],y=h[2],p=h[3],b=h[4],g=0;g<80;g++){if(g<16)f[g]=d[u+g]|0;else{var v=f[g-3]^f[g-8]^f[g-14]^f[g-16];f[g]=v<<1|v>>>31}var w=(x<<5|x>>>27)+b+f[g];g<20?w+=(m&y|~m&p)+1518500249:g<40?w+=(m^y^p)+1859775393:g<60?w+=(m&y|m&p|y&p)-1894007588:w+=(m^y^p)-899497514,b=p,p=y,y=m<<30|m>>>2,m=x,x=w}h[0]=h[0]+x|0,h[1]=h[1]+m|0,h[2]=h[2]+y|0,h[3]=h[3]+p|0,h[4]=h[4]+b|0},_doFinalize:function(){var d=this._data,u=d.words,h=this._nDataBytes*8,x=d.sigBytes*8;return u[x>>>5]|=128<<24-x%32,u[(x+64>>>9<<4)+14]=Math.floor(h/4294967296),u[(x+64>>>9<<4)+15]=h,d.sigBytes=u.length*4,this._process(),this._hash},clone:function(){var d=o.clone.call(this);return d._hash=this._hash.clone(),d}});r.SHA1=o._createHelper(l),r.HmacSHA1=o._createHmacHelper(l)}(),s.SHA1})}(Dn)),Dn.exports}var jn={exports:{}},W0;function Fa(){return W0||(W0=1,function(e,t){(function(s,r){e.exports=r(ee())})(Q,function(s){return function(r){var n=s,a=n.lib,o=a.WordArray,c=a.Hasher,f=n.algo,l=[],d=[];(function(){function x(b){for(var g=r.sqrt(b),v=2;v<=g;v++)if(!(b%v))return!1;return!0}function m(b){return(b-(b|0))*4294967296|0}for(var y=2,p=0;p<64;)x(y)&&(p<8&&(l[p]=m(r.pow(y,1/2))),d[p]=m(r.pow(y,1/3)),p++),y++})();var u=[],h=f.SHA256=c.extend({_doReset:function(){this._hash=new o.init(l.slice(0))},_doProcessBlock:function(x,m){for(var y=this._hash.words,p=y[0],b=y[1],g=y[2],v=y[3],w=y[4],C=y[5],E=y[6],D=y[7],B=0;B<64;B++){if(B<16)u[B]=x[m+B]|0;else{var F=u[B-15],j=(F<<25|F>>>7)^(F<<14|F>>>18)^F>>>3,N=u[B-2],P=(N<<15|N>>>17)^(N<<13|N>>>19)^N>>>10;u[B]=j+u[B-7]+P+u[B-16]}var T=w&C^~w&E,H=p&b^p&g^b&g,$=(p<<30|p>>>2)^(p<<19|p>>>13)^(p<<10|p>>>22),L=(w<<26|w>>>6)^(w<<21|w>>>11)^(w<<7|w>>>25),z=D+L+T+d[B]+u[B],M=$+H;D=E,E=C,C=w,w=v+z|0,v=g,g=b,b=p,p=z+M|0}y[0]=y[0]+p|0,y[1]=y[1]+b|0,y[2]=y[2]+g|0,y[3]=y[3]+v|0,y[4]=y[4]+w|0,y[5]=y[5]+C|0,y[6]=y[6]+E|0,y[7]=y[7]+D|0},_doFinalize:function(){var x=this._data,m=x.words,y=this._nDataBytes*8,p=x.sigBytes*8;return m[p>>>5]|=128<<24-p%32,m[(p+64>>>9<<4)+14]=r.floor(y/4294967296),m[(p+64>>>9<<4)+15]=y,x.sigBytes=m.length*4,this._process(),this._hash},clone:function(){var x=c.clone.call(this);return x._hash=this._hash.clone(),x}});n.SHA256=c._createHelper(h),n.HmacSHA256=c._createHmacHelper(h)}(Math),s.SHA256})}(jn)),jn.exports}var Bn={exports:{}},q0;function Zv(){return q0||(q0=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Fa())})(Q,function(s){return function(){var r=s,n=r.lib,a=n.WordArray,o=r.algo,c=o.SHA256,f=o.SHA224=c.extend({_doReset:function(){this._hash=new a.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var l=c._doFinalize.call(this);return l.sigBytes-=4,l}});r.SHA224=c._createHelper(f),r.HmacSHA224=c._createHmacHelper(f)}(),s.SHA224})}(Bn)),Bn.exports}var Nn={exports:{}},K0;function Jd(){return K0||(K0=1,function(e,t){(function(s,r,n){e.exports=r(ee(),$r())})(Q,function(s){return function(){var r=s,n=r.lib,a=n.Hasher,o=r.x64,c=o.Word,f=o.WordArray,l=r.algo;function d(){return c.create.apply(c,arguments)}var u=[d(1116352408,3609767458),d(1899447441,602891725),d(3049323471,3964484399),d(3921009573,2173295548),d(961987163,4081628472),d(1508970993,3053834265),d(2453635748,2937671579),d(2870763221,3664609560),d(3624381080,2734883394),d(310598401,1164996542),d(607225278,1323610764),d(1426881987,3590304994),d(1925078388,4068182383),d(2162078206,991336113),d(2614888103,633803317),d(3248222580,3479774868),d(3835390401,2666613458),d(4022224774,944711139),d(264347078,2341262773),d(604807628,2007800933),d(770255983,1495990901),d(1249150122,1856431235),d(1555081692,3175218132),d(1996064986,2198950837),d(2554220882,3999719339),d(2821834349,766784016),d(2952996808,2566594879),d(3210313671,3203337956),d(3336571891,1034457026),d(3584528711,2466948901),d(113926993,3758326383),d(338241895,168717936),d(666307205,1188179964),d(773529912,1546045734),d(1294757372,1522805485),d(1396182291,2643833823),d(1695183700,2343527390),d(1986661051,1014477480),d(2177026350,1206759142),d(2456956037,344077627),d(2730485921,1290863460),d(2820302411,3158454273),d(3259730800,3505952657),d(3345764771,106217008),d(3516065817,3606008344),d(3600352804,1432725776),d(4094571909,1467031594),d(275423344,851169720),d(430227734,3100823752),d(506948616,1363258195),d(659060556,3750685593),d(883997877,3785050280),d(958139571,3318307427),d(1322822218,3812723403),d(1537002063,2003034995),d(1747873779,3602036899),d(1955562222,1575990012),d(2024104815,1125592928),d(2227730452,2716904306),d(2361852424,442776044),d(2428436474,593698344),d(2756734187,3733110249),d(3204031479,2999351573),d(3329325298,3815920427),d(3391569614,3928383900),d(3515267271,566280711),d(3940187606,3454069534),d(4118630271,4000239992),d(116418474,1914138554),d(174292421,2731055270),d(289380356,3203993006),d(460393269,320620315),d(685471733,587496836),d(852142971,1086792851),d(1017036298,365543100),d(1126000580,2618297676),d(1288033470,3409855158),d(1501505948,4234509866),d(1607167915,987167468),d(1816402316,1246189591)],h=[];(function(){for(var m=0;m<80;m++)h[m]=d()})();var x=l.SHA512=a.extend({_doReset:function(){this._hash=new f.init([new c.init(1779033703,4089235720),new c.init(3144134277,2227873595),new c.init(1013904242,4271175723),new c.init(2773480762,1595750129),new c.init(1359893119,2917565137),new c.init(2600822924,725511199),new c.init(528734635,4215389547),new c.init(1541459225,327033209)])},_doProcessBlock:function(m,y){for(var p=this._hash.words,b=p[0],g=p[1],v=p[2],w=p[3],C=p[4],E=p[5],D=p[6],B=p[7],F=b.high,j=b.low,N=g.high,P=g.low,T=v.high,H=v.low,$=w.high,L=w.low,z=C.high,M=C.low,k=E.high,W=E.low,S=D.high,_=D.low,R=B.high,I=B.low,Z=F,q=j,ie=N,Y=P,Ee=T,Ae=H,Ft=$,Ue=L,De=z,me=M,vt=k,rt=W,ze=S,nt=_,ke=R,He=I,Fe=0;Fe<80;Fe++){var ne,je,yt=h[Fe];if(Fe<16)je=yt.high=m[y+Fe*2]|0,ne=yt.low=m[y+Fe*2+1]|0;else{var Wt=h[Fe-15],ae=Wt.high,Xe=Wt.low,V=(ae>>>1|Xe<<31)^(ae>>>8|Xe<<24)^ae>>>7,se=(Xe>>>1|ae<<31)^(Xe>>>8|ae<<24)^(Xe>>>7|ae<<25),re=h[Fe-2],ue=re.high,te=re.low,bt=(ue>>>19|te<<13)^(ue<<3|te>>>29)^ue>>>6,ht=(te>>>19|ue<<13)^(te<<3|ue>>>29)^(te>>>6|ue<<26),Qe=h[Fe-7],tr=Qe.high,Wr=Qe.low,qt=h[Fe-16],it=qt.high,sr=qt.low;ne=se+Wr,je=V+tr+(ne>>>0<se>>>0?1:0),ne=ne+ht,je=je+bt+(ne>>>0<ht>>>0?1:0),ne=ne+sr,je=je+it+(ne>>>0<sr>>>0?1:0),yt.high=je,yt.low=ne}var qr=De&vt^~De&ze,fs=me&rt^~me&nt,rr=Z&ie^Z&Ee^ie&Ee,G=q&Y^q&Ae^Y&Ae,pe=(Z>>>28|q<<4)^(Z<<30|q>>>2)^(Z<<25|q>>>7),be=(q>>>28|Z<<4)^(q<<30|Z>>>2)^(q<<25|Z>>>7),Pe=(De>>>14|me<<18)^(De>>>18|me<<14)^(De<<23|me>>>9),Kt=(me>>>14|De<<18)^(me>>>18|De<<14)^(me<<23|De>>>9),ge=u[Fe],_e=ge.high,Pt=ge.low,oe=He+Kt,ve=ke+Pe+(oe>>>0<He>>>0?1:0),oe=oe+fs,ve=ve+qr+(oe>>>0<fs>>>0?1:0),oe=oe+Pt,ve=ve+_e+(oe>>>0<Pt>>>0?1:0),oe=oe+ne,ve=ve+je+(oe>>>0<ne>>>0?1:0),hs=be+G,xt=pe+rr+(hs>>>0<be>>>0?1:0);ke=ze,He=nt,ze=vt,nt=rt,vt=De,rt=me,me=Ue+oe|0,De=Ft+ve+(me>>>0<Ue>>>0?1:0)|0,Ft=Ee,Ue=Ae,Ee=ie,Ae=Y,ie=Z,Y=q,q=oe+hs|0,Z=ve+xt+(q>>>0<oe>>>0?1:0)|0}j=b.low=j+q,b.high=F+Z+(j>>>0<q>>>0?1:0),P=g.low=P+Y,g.high=N+ie+(P>>>0<Y>>>0?1:0),H=v.low=H+Ae,v.high=T+Ee+(H>>>0<Ae>>>0?1:0),L=w.low=L+Ue,w.high=$+Ft+(L>>>0<Ue>>>0?1:0),M=C.low=M+me,C.high=z+De+(M>>>0<me>>>0?1:0),W=E.low=W+rt,E.high=k+vt+(W>>>0<rt>>>0?1:0),_=D.low=_+nt,D.high=S+ze+(_>>>0<nt>>>0?1:0),I=B.low=I+He,B.high=R+ke+(I>>>0<He>>>0?1:0)},_doFinalize:function(){var m=this._data,y=m.words,p=this._nDataBytes*8,b=m.sigBytes*8;y[b>>>5]|=128<<24-b%32,y[(b+128>>>10<<5)+30]=Math.floor(p/4294967296),y[(b+128>>>10<<5)+31]=p,m.sigBytes=y.length*4,this._process();var g=this._hash.toX32();return g},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m},blockSize:1024/32});r.SHA512=a._createHelper(x),r.HmacSHA512=a._createHmacHelper(x)}(),s.SHA512})}(Nn)),Nn.exports}var Sn={exports:{}},Y0;function Jv(){return Y0||(Y0=1,function(e,t){(function(s,r,n){e.exports=r(ee(),$r(),Jd())})(Q,function(s){return function(){var r=s,n=r.x64,a=n.Word,o=n.WordArray,c=r.algo,f=c.SHA512,l=c.SHA384=f.extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var d=f._doFinalize.call(this);return d.sigBytes-=16,d}});r.SHA384=f._createHelper(l),r.HmacSHA384=f._createHmacHelper(l)}(),s.SHA384})}(Sn)),Sn.exports}var kn={exports:{}},G0;function ey(){return G0||(G0=1,function(e,t){(function(s,r,n){e.exports=r(ee(),$r())})(Q,function(s){return function(r){var n=s,a=n.lib,o=a.WordArray,c=a.Hasher,f=n.x64,l=f.Word,d=n.algo,u=[],h=[],x=[];(function(){for(var p=1,b=0,g=0;g<24;g++){u[p+5*b]=(g+1)*(g+2)/2%64;var v=b%5,w=(2*p+3*b)%5;p=v,b=w}for(var p=0;p<5;p++)for(var b=0;b<5;b++)h[p+5*b]=b+(2*p+3*b)%5*5;for(var C=1,E=0;E<24;E++){for(var D=0,B=0,F=0;F<7;F++){if(C&1){var j=(1<<F)-1;j<32?B^=1<<j:D^=1<<j-32}C&128?C=C<<1^113:C<<=1}x[E]=l.create(D,B)}})();var m=[];(function(){for(var p=0;p<25;p++)m[p]=l.create()})();var y=d.SHA3=c.extend({cfg:c.cfg.extend({outputLength:512}),_doReset:function(){for(var p=this._state=[],b=0;b<25;b++)p[b]=new l.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(p,b){for(var g=this._state,v=this.blockSize/2,w=0;w<v;w++){var C=p[b+2*w],E=p[b+2*w+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,E=(E<<8|E>>>24)&16711935|(E<<24|E>>>8)&4278255360;var D=g[w];D.high^=E,D.low^=C}for(var B=0;B<24;B++){for(var F=0;F<5;F++){for(var j=0,N=0,P=0;P<5;P++){var D=g[F+5*P];j^=D.high,N^=D.low}var T=m[F];T.high=j,T.low=N}for(var F=0;F<5;F++)for(var H=m[(F+4)%5],$=m[(F+1)%5],L=$.high,z=$.low,j=H.high^(L<<1|z>>>31),N=H.low^(z<<1|L>>>31),P=0;P<5;P++){var D=g[F+5*P];D.high^=j,D.low^=N}for(var M=1;M<25;M++){var j,N,D=g[M],k=D.high,W=D.low,S=u[M];S<32?(j=k<<S|W>>>32-S,N=W<<S|k>>>32-S):(j=W<<S-32|k>>>64-S,N=k<<S-32|W>>>64-S);var _=m[h[M]];_.high=j,_.low=N}var R=m[0],I=g[0];R.high=I.high,R.low=I.low;for(var F=0;F<5;F++)for(var P=0;P<5;P++){var M=F+5*P,D=g[M],Z=m[M],q=m[(F+1)%5+5*P],ie=m[(F+2)%5+5*P];D.high=Z.high^~q.high&ie.high,D.low=Z.low^~q.low&ie.low}var D=g[0],Y=x[B];D.high^=Y.high,D.low^=Y.low}},_doFinalize:function(){var p=this._data,b=p.words;this._nDataBytes*8;var g=p.sigBytes*8,v=this.blockSize*32;b[g>>>5]|=1<<24-g%32,b[(r.ceil((g+1)/v)*v>>>5)-1]|=128,p.sigBytes=b.length*4,this._process();for(var w=this._state,C=this.cfg.outputLength/8,E=C/8,D=[],B=0;B<E;B++){var F=w[B],j=F.high,N=F.low;j=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360,N=(N<<8|N>>>24)&16711935|(N<<24|N>>>8)&4278255360,D.push(N),D.push(j)}return new o.init(D,C)},clone:function(){for(var p=c.clone.call(this),b=p._state=this._state.slice(0),g=0;g<25;g++)b[g]=b[g].clone();return p}});n.SHA3=c._createHelper(y),n.HmacSHA3=c._createHmacHelper(y)}(Math),s.SHA3})}(kn)),kn.exports}var Fn={exports:{}},X0;function ty(){return X0||(X0=1,function(e,t){(function(s,r){e.exports=r(ee())})(Q,function(s){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(r){var n=s,a=n.lib,o=a.WordArray,c=a.Hasher,f=n.algo,l=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),d=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),h=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),x=o.create([0,1518500249,1859775393,2400959708,2840853838]),m=o.create([1352829926,1548603684,1836072691,2053994217,0]),y=f.RIPEMD160=c.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(E,D){for(var B=0;B<16;B++){var F=D+B,j=E[F];E[F]=(j<<8|j>>>24)&16711935|(j<<24|j>>>8)&4278255360}var N=this._hash.words,P=x.words,T=m.words,H=l.words,$=d.words,L=u.words,z=h.words,M,k,W,S,_,R,I,Z,q,ie;R=M=N[0],I=k=N[1],Z=W=N[2],q=S=N[3],ie=_=N[4];for(var Y,B=0;B<80;B+=1)Y=M+E[D+H[B]]|0,B<16?Y+=p(k,W,S)+P[0]:B<32?Y+=b(k,W,S)+P[1]:B<48?Y+=g(k,W,S)+P[2]:B<64?Y+=v(k,W,S)+P[3]:Y+=w(k,W,S)+P[4],Y=Y|0,Y=C(Y,L[B]),Y=Y+_|0,M=_,_=S,S=C(W,10),W=k,k=Y,Y=R+E[D+$[B]]|0,B<16?Y+=w(I,Z,q)+T[0]:B<32?Y+=v(I,Z,q)+T[1]:B<48?Y+=g(I,Z,q)+T[2]:B<64?Y+=b(I,Z,q)+T[3]:Y+=p(I,Z,q)+T[4],Y=Y|0,Y=C(Y,z[B]),Y=Y+ie|0,R=ie,ie=q,q=C(Z,10),Z=I,I=Y;Y=N[1]+W+q|0,N[1]=N[2]+S+ie|0,N[2]=N[3]+_+R|0,N[3]=N[4]+M+I|0,N[4]=N[0]+k+Z|0,N[0]=Y},_doFinalize:function(){var E=this._data,D=E.words,B=this._nDataBytes*8,F=E.sigBytes*8;D[F>>>5]|=128<<24-F%32,D[(F+64>>>9<<4)+14]=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,E.sigBytes=(D.length+1)*4,this._process();for(var j=this._hash,N=j.words,P=0;P<5;P++){var T=N[P];N[P]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360}return j},clone:function(){var E=c.clone.call(this);return E._hash=this._hash.clone(),E}});function p(E,D,B){return E^D^B}function b(E,D,B){return E&D|~E&B}function g(E,D,B){return(E|~D)^B}function v(E,D,B){return E&B|D&~B}function w(E,D,B){return E^(D|~B)}function C(E,D){return E<<D|E>>>32-D}n.RIPEMD160=c._createHelper(y),n.HmacRIPEMD160=c._createHmacHelper(y)}(),s.RIPEMD160})}(Fn)),Fn.exports}var Pn={exports:{}},Q0;function Pa(){return Q0||(Q0=1,function(e,t){(function(s,r){e.exports=r(ee())})(Q,function(s){(function(){var r=s,n=r.lib,a=n.Base,o=r.enc,c=o.Utf8,f=r.algo;f.HMAC=a.extend({init:function(l,d){l=this._hasher=new l.init,typeof d=="string"&&(d=c.parse(d));var u=l.blockSize,h=u*4;d.sigBytes>h&&(d=l.finalize(d)),d.clamp();for(var x=this._oKey=d.clone(),m=this._iKey=d.clone(),y=x.words,p=m.words,b=0;b<u;b++)y[b]^=1549556828,p[b]^=909522486;x.sigBytes=m.sigBytes=h,this.reset()},reset:function(){var l=this._hasher;l.reset(),l.update(this._iKey)},update:function(l){return this._hasher.update(l),this},finalize:function(l){var d=this._hasher,u=d.finalize(l);d.reset();var h=d.finalize(this._oKey.clone().concat(u));return h}})})()})}(Pn)),Pn.exports}var Tn={exports:{}},Z0;function sy(){return Z0||(Z0=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Fa(),Pa())})(Q,function(s){return function(){var r=s,n=r.lib,a=n.Base,o=n.WordArray,c=r.algo,f=c.SHA256,l=c.HMAC,d=c.PBKDF2=a.extend({cfg:a.extend({keySize:128/32,hasher:f,iterations:25e4}),init:function(u){this.cfg=this.cfg.extend(u)},compute:function(u,h){for(var x=this.cfg,m=l.create(x.hasher,u),y=o.create(),p=o.create([1]),b=y.words,g=p.words,v=x.keySize,w=x.iterations;b.length<v;){var C=m.update(h).finalize(p);m.reset();for(var E=C.words,D=E.length,B=C,F=1;F<w;F++){B=m.finalize(B),m.reset();for(var j=B.words,N=0;N<D;N++)E[N]^=j[N]}y.concat(C),g[0]++}return y.sigBytes=v*4,y}});r.PBKDF2=function(u,h,x){return d.create(x).compute(u,h)}}(),s.PBKDF2})}(Tn)),Tn.exports}var _n={exports:{}},J0;function kt(){return J0||(J0=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Zd(),Pa())})(Q,function(s){return function(){var r=s,n=r.lib,a=n.Base,o=n.WordArray,c=r.algo,f=c.MD5,l=c.EvpKDF=a.extend({cfg:a.extend({keySize:128/32,hasher:f,iterations:1}),init:function(d){this.cfg=this.cfg.extend(d)},compute:function(d,u){for(var h,x=this.cfg,m=x.hasher.create(),y=o.create(),p=y.words,b=x.keySize,g=x.iterations;p.length<b;){h&&m.update(h),h=m.update(d).finalize(u),m.reset();for(var v=1;v<g;v++)h=m.finalize(h),m.reset();y.concat(h)}return y.sigBytes=b*4,y}});r.EvpKDF=function(d,u,h){return l.create(h).compute(d,u)}}(),s.EvpKDF})}(_n)),_n.exports}var Rn={exports:{}},el;function Ce(){return el||(el=1,function(e,t){(function(s,r,n){e.exports=r(ee(),kt())})(Q,function(s){s.lib.Cipher||function(r){var n=s,a=n.lib,o=a.Base,c=a.WordArray,f=a.BufferedBlockAlgorithm,l=n.enc;l.Utf8;var d=l.Base64,u=n.algo,h=u.EvpKDF,x=a.Cipher=f.extend({cfg:o.extend(),createEncryptor:function(j,N){return this.create(this._ENC_XFORM_MODE,j,N)},createDecryptor:function(j,N){return this.create(this._DEC_XFORM_MODE,j,N)},init:function(j,N,P){this.cfg=this.cfg.extend(P),this._xformMode=j,this._key=N,this.reset()},reset:function(){f.reset.call(this),this._doReset()},process:function(j){return this._append(j),this._process()},finalize:function(j){j&&this._append(j);var N=this._doFinalize();return N},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function j(N){return typeof N=="string"?F:E}return function(N){return{encrypt:function(P,T,H){return j(T).encrypt(N,P,T,H)},decrypt:function(P,T,H){return j(T).decrypt(N,P,T,H)}}}}()});a.StreamCipher=x.extend({_doFinalize:function(){var j=this._process(!0);return j},blockSize:1});var m=n.mode={},y=a.BlockCipherMode=o.extend({createEncryptor:function(j,N){return this.Encryptor.create(j,N)},createDecryptor:function(j,N){return this.Decryptor.create(j,N)},init:function(j,N){this._cipher=j,this._iv=N}}),p=m.CBC=function(){var j=y.extend();j.Encryptor=j.extend({processBlock:function(P,T){var H=this._cipher,$=H.blockSize;N.call(this,P,T,$),H.encryptBlock(P,T),this._prevBlock=P.slice(T,T+$)}}),j.Decryptor=j.extend({processBlock:function(P,T){var H=this._cipher,$=H.blockSize,L=P.slice(T,T+$);H.decryptBlock(P,T),N.call(this,P,T,$),this._prevBlock=L}});function N(P,T,H){var $,L=this._iv;L?($=L,this._iv=r):$=this._prevBlock;for(var z=0;z<H;z++)P[T+z]^=$[z]}return j}(),b=n.pad={},g=b.Pkcs7={pad:function(j,N){for(var P=N*4,T=P-j.sigBytes%P,H=T<<24|T<<16|T<<8|T,$=[],L=0;L<T;L+=4)$.push(H);var z=c.create($,T);j.concat(z)},unpad:function(j){var N=j.words[j.sigBytes-1>>>2]&255;j.sigBytes-=N}};a.BlockCipher=x.extend({cfg:x.cfg.extend({mode:p,padding:g}),reset:function(){var j;x.reset.call(this);var N=this.cfg,P=N.iv,T=N.mode;this._xformMode==this._ENC_XFORM_MODE?j=T.createEncryptor:(j=T.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==j?this._mode.init(this,P&&P.words):(this._mode=j.call(T,this,P&&P.words),this._mode.__creator=j)},_doProcessBlock:function(j,N){this._mode.processBlock(j,N)},_doFinalize:function(){var j,N=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(N.pad(this._data,this.blockSize),j=this._process(!0)):(j=this._process(!0),N.unpad(j)),j},blockSize:128/32});var v=a.CipherParams=o.extend({init:function(j){this.mixIn(j)},toString:function(j){return(j||this.formatter).stringify(this)}}),w=n.format={},C=w.OpenSSL={stringify:function(j){var N,P=j.ciphertext,T=j.salt;return T?N=c.create([1398893684,1701076831]).concat(T).concat(P):N=P,N.toString(d)},parse:function(j){var N,P=d.parse(j),T=P.words;return T[0]==1398893684&&T[1]==1701076831&&(N=c.create(T.slice(2,4)),T.splice(0,4),P.sigBytes-=16),v.create({ciphertext:P,salt:N})}},E=a.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(j,N,P,T){T=this.cfg.extend(T);var H=j.createEncryptor(P,T),$=H.finalize(N),L=H.cfg;return v.create({ciphertext:$,key:P,iv:L.iv,algorithm:j,mode:L.mode,padding:L.padding,blockSize:j.blockSize,formatter:T.format})},decrypt:function(j,N,P,T){T=this.cfg.extend(T),N=this._parse(N,T.format);var H=j.createDecryptor(P,T).finalize(N.ciphertext);return H},_parse:function(j,N){return typeof j=="string"?N.parse(j,this):j}}),D=n.kdf={},B=D.OpenSSL={execute:function(j,N,P,T,H){if(T||(T=c.random(64/8)),H)var $=h.create({keySize:N+P,hasher:H}).compute(j,T);else var $=h.create({keySize:N+P}).compute(j,T);var L=c.create($.words.slice(N),P*4);return $.sigBytes=N*4,v.create({key:$,iv:L,salt:T})}},F=a.PasswordBasedCipher=E.extend({cfg:E.cfg.extend({kdf:B}),encrypt:function(j,N,P,T){T=this.cfg.extend(T);var H=T.kdf.execute(P,j.keySize,j.ivSize,T.salt,T.hasher);T.iv=H.iv;var $=E.encrypt.call(this,j,N,H.key,T);return $.mixIn(H),$},decrypt:function(j,N,P,T){T=this.cfg.extend(T),N=this._parse(N,T.format);var H=T.kdf.execute(P,j.keySize,j.ivSize,N.salt,T.hasher);T.iv=H.iv;var $=E.decrypt.call(this,j,N,H.key,T);return $}})}()})}(Rn)),Rn.exports}var In={exports:{}},tl;function ry(){return tl||(tl=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ce())})(Q,function(s){return s.mode.CFB=function(){var r=s.lib.BlockCipherMode.extend();r.Encryptor=r.extend({processBlock:function(a,o){var c=this._cipher,f=c.blockSize;n.call(this,a,o,f,c),this._prevBlock=a.slice(o,o+f)}}),r.Decryptor=r.extend({processBlock:function(a,o){var c=this._cipher,f=c.blockSize,l=a.slice(o,o+f);n.call(this,a,o,f,c),this._prevBlock=l}});function n(a,o,c,f){var l,d=this._iv;d?(l=d.slice(0),this._iv=void 0):l=this._prevBlock,f.encryptBlock(l,0);for(var u=0;u<c;u++)a[o+u]^=l[u]}return r}(),s.mode.CFB})}(In)),In.exports}var Mn={exports:{}},sl;function ny(){return sl||(sl=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ce())})(Q,function(s){return s.mode.CTR=function(){var r=s.lib.BlockCipherMode.extend(),n=r.Encryptor=r.extend({processBlock:function(a,o){var c=this._cipher,f=c.blockSize,l=this._iv,d=this._counter;l&&(d=this._counter=l.slice(0),this._iv=void 0);var u=d.slice(0);c.encryptBlock(u,0),d[f-1]=d[f-1]+1|0;for(var h=0;h<f;h++)a[o+h]^=u[h]}});return r.Decryptor=n,r}(),s.mode.CTR})}(Mn)),Mn.exports}var Ln={exports:{}},rl;function iy(){return rl||(rl=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ce())})(Q,function(s){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return s.mode.CTRGladman=function(){var r=s.lib.BlockCipherMode.extend();function n(c){if((c>>24&255)===255){var f=c>>16&255,l=c>>8&255,d=c&255;f===255?(f=0,l===255?(l=0,d===255?d=0:++d):++l):++f,c=0,c+=f<<16,c+=l<<8,c+=d}else c+=1<<24;return c}function a(c){return(c[0]=n(c[0]))===0&&(c[1]=n(c[1])),c}var o=r.Encryptor=r.extend({processBlock:function(c,f){var l=this._cipher,d=l.blockSize,u=this._iv,h=this._counter;u&&(h=this._counter=u.slice(0),this._iv=void 0),a(h);var x=h.slice(0);l.encryptBlock(x,0);for(var m=0;m<d;m++)c[f+m]^=x[m]}});return r.Decryptor=o,r}(),s.mode.CTRGladman})}(Ln)),Ln.exports}var Vn={exports:{}},nl;function ay(){return nl||(nl=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ce())})(Q,function(s){return s.mode.OFB=function(){var r=s.lib.BlockCipherMode.extend(),n=r.Encryptor=r.extend({processBlock:function(a,o){var c=this._cipher,f=c.blockSize,l=this._iv,d=this._keystream;l&&(d=this._keystream=l.slice(0),this._iv=void 0),c.encryptBlock(d,0);for(var u=0;u<f;u++)a[o+u]^=d[u]}});return r.Decryptor=n,r}(),s.mode.OFB})}(Vn)),Vn.exports}var On={exports:{}},il;function oy(){return il||(il=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ce())})(Q,function(s){return s.mode.ECB=function(){var r=s.lib.BlockCipherMode.extend();return r.Encryptor=r.extend({processBlock:function(n,a){this._cipher.encryptBlock(n,a)}}),r.Decryptor=r.extend({processBlock:function(n,a){this._cipher.decryptBlock(n,a)}}),r}(),s.mode.ECB})}(On)),On.exports}var Un={exports:{}},al;function ly(){return al||(al=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ce())})(Q,function(s){return s.pad.AnsiX923={pad:function(r,n){var a=r.sigBytes,o=n*4,c=o-a%o,f=a+c-1;r.clamp(),r.words[f>>>2]|=c<<24-f%4*8,r.sigBytes+=c},unpad:function(r){var n=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=n}},s.pad.Ansix923})}(Un)),Un.exports}var zn={exports:{}},ol;function cy(){return ol||(ol=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ce())})(Q,function(s){return s.pad.Iso10126={pad:function(r,n){var a=n*4,o=a-r.sigBytes%a;r.concat(s.lib.WordArray.random(o-1)).concat(s.lib.WordArray.create([o<<24],1))},unpad:function(r){var n=r.words[r.sigBytes-1>>>2]&255;r.sigBytes-=n}},s.pad.Iso10126})}(zn)),zn.exports}var Hn={exports:{}},ll;function dy(){return ll||(ll=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ce())})(Q,function(s){return s.pad.Iso97971={pad:function(r,n){r.concat(s.lib.WordArray.create([2147483648],1)),s.pad.ZeroPadding.pad(r,n)},unpad:function(r){s.pad.ZeroPadding.unpad(r),r.sigBytes--}},s.pad.Iso97971})}(Hn)),Hn.exports}var $n={exports:{}},cl;function uy(){return cl||(cl=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ce())})(Q,function(s){return s.pad.ZeroPadding={pad:function(r,n){var a=n*4;r.clamp(),r.sigBytes+=a-(r.sigBytes%a||a)},unpad:function(r){for(var n=r.words,a=r.sigBytes-1,a=r.sigBytes-1;a>=0;a--)if(n[a>>>2]>>>24-a%4*8&255){r.sigBytes=a+1;break}}},s.pad.ZeroPadding})}($n)),$n.exports}var Wn={exports:{}},dl;function fy(){return dl||(dl=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ce())})(Q,function(s){return s.pad.NoPadding={pad:function(){},unpad:function(){}},s.pad.NoPadding})}(Wn)),Wn.exports}var qn={exports:{}},ul;function hy(){return ul||(ul=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ce())})(Q,function(s){return function(r){var n=s,a=n.lib,o=a.CipherParams,c=n.enc,f=c.Hex,l=n.format;l.Hex={stringify:function(d){return d.ciphertext.toString(f)},parse:function(d){var u=f.parse(d);return o.create({ciphertext:u})}}}(),s.format.Hex})}(qn)),qn.exports}var Kn={exports:{}},fl;function xy(){return fl||(fl=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ht(),$t(),kt(),Ce())})(Q,function(s){return function(){var r=s,n=r.lib,a=n.BlockCipher,o=r.algo,c=[],f=[],l=[],d=[],u=[],h=[],x=[],m=[],y=[],p=[];(function(){for(var v=[],w=0;w<256;w++)w<128?v[w]=w<<1:v[w]=w<<1^283;for(var C=0,E=0,w=0;w<256;w++){var D=E^E<<1^E<<2^E<<3^E<<4;D=D>>>8^D&255^99,c[C]=D,f[D]=C;var B=v[C],F=v[B],j=v[F],N=v[D]*257^D*16843008;l[C]=N<<24|N>>>8,d[C]=N<<16|N>>>16,u[C]=N<<8|N>>>24,h[C]=N;var N=j*16843009^F*65537^B*257^C*16843008;x[D]=N<<24|N>>>8,m[D]=N<<16|N>>>16,y[D]=N<<8|N>>>24,p[D]=N,C?(C=B^v[v[v[j^B]]],E^=v[v[E]]):C=E=1}})();var b=[0,1,2,4,8,16,32,64,128,27,54],g=o.AES=a.extend({_doReset:function(){var v;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var w=this._keyPriorReset=this._key,C=w.words,E=w.sigBytes/4,D=this._nRounds=E+6,B=(D+1)*4,F=this._keySchedule=[],j=0;j<B;j++)j<E?F[j]=C[j]:(v=F[j-1],j%E?E>6&&j%E==4&&(v=c[v>>>24]<<24|c[v>>>16&255]<<16|c[v>>>8&255]<<8|c[v&255]):(v=v<<8|v>>>24,v=c[v>>>24]<<24|c[v>>>16&255]<<16|c[v>>>8&255]<<8|c[v&255],v^=b[j/E|0]<<24),F[j]=F[j-E]^v);for(var N=this._invKeySchedule=[],P=0;P<B;P++){var j=B-P;if(P%4)var v=F[j];else var v=F[j-4];P<4||j<=4?N[P]=v:N[P]=x[c[v>>>24]]^m[c[v>>>16&255]]^y[c[v>>>8&255]]^p[c[v&255]]}}},encryptBlock:function(v,w){this._doCryptBlock(v,w,this._keySchedule,l,d,u,h,c)},decryptBlock:function(v,w){var C=v[w+1];v[w+1]=v[w+3],v[w+3]=C,this._doCryptBlock(v,w,this._invKeySchedule,x,m,y,p,f);var C=v[w+1];v[w+1]=v[w+3],v[w+3]=C},_doCryptBlock:function(v,w,C,E,D,B,F,j){for(var N=this._nRounds,P=v[w]^C[0],T=v[w+1]^C[1],H=v[w+2]^C[2],$=v[w+3]^C[3],L=4,z=1;z<N;z++){var M=E[P>>>24]^D[T>>>16&255]^B[H>>>8&255]^F[$&255]^C[L++],k=E[T>>>24]^D[H>>>16&255]^B[$>>>8&255]^F[P&255]^C[L++],W=E[H>>>24]^D[$>>>16&255]^B[P>>>8&255]^F[T&255]^C[L++],S=E[$>>>24]^D[P>>>16&255]^B[T>>>8&255]^F[H&255]^C[L++];P=M,T=k,H=W,$=S}var M=(j[P>>>24]<<24|j[T>>>16&255]<<16|j[H>>>8&255]<<8|j[$&255])^C[L++],k=(j[T>>>24]<<24|j[H>>>16&255]<<16|j[$>>>8&255]<<8|j[P&255])^C[L++],W=(j[H>>>24]<<24|j[$>>>16&255]<<16|j[P>>>8&255]<<8|j[T&255])^C[L++],S=(j[$>>>24]<<24|j[P>>>16&255]<<16|j[T>>>8&255]<<8|j[H&255])^C[L++];v[w]=M,v[w+1]=k,v[w+2]=W,v[w+3]=S},keySize:256/32});r.AES=a._createHelper(g)}(),s.AES})}(Kn)),Kn.exports}var Yn={exports:{}},hl;function my(){return hl||(hl=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ht(),$t(),kt(),Ce())})(Q,function(s){return function(){var r=s,n=r.lib,a=n.WordArray,o=n.BlockCipher,c=r.algo,f=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],l=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],d=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],h=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],x=c.DES=o.extend({_doReset:function(){for(var b=this._key,g=b.words,v=[],w=0;w<56;w++){var C=f[w]-1;v[w]=g[C>>>5]>>>31-C%32&1}for(var E=this._subKeys=[],D=0;D<16;D++){for(var B=E[D]=[],F=d[D],w=0;w<24;w++)B[w/6|0]|=v[(l[w]-1+F)%28]<<31-w%6,B[4+(w/6|0)]|=v[28+(l[w+24]-1+F)%28]<<31-w%6;B[0]=B[0]<<1|B[0]>>>31;for(var w=1;w<7;w++)B[w]=B[w]>>>(w-1)*4+3;B[7]=B[7]<<5|B[7]>>>27}for(var j=this._invSubKeys=[],w=0;w<16;w++)j[w]=E[15-w]},encryptBlock:function(b,g){this._doCryptBlock(b,g,this._subKeys)},decryptBlock:function(b,g){this._doCryptBlock(b,g,this._invSubKeys)},_doCryptBlock:function(b,g,v){this._lBlock=b[g],this._rBlock=b[g+1],m.call(this,4,252645135),m.call(this,16,65535),y.call(this,2,858993459),y.call(this,8,16711935),m.call(this,1,1431655765);for(var w=0;w<16;w++){for(var C=v[w],E=this._lBlock,D=this._rBlock,B=0,F=0;F<8;F++)B|=u[F][((D^C[F])&h[F])>>>0];this._lBlock=D,this._rBlock=E^B}var j=this._lBlock;this._lBlock=this._rBlock,this._rBlock=j,m.call(this,1,1431655765),y.call(this,8,16711935),y.call(this,2,858993459),m.call(this,16,65535),m.call(this,4,252645135),b[g]=this._lBlock,b[g+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function m(b,g){var v=(this._lBlock>>>b^this._rBlock)&g;this._rBlock^=v,this._lBlock^=v<<b}function y(b,g){var v=(this._rBlock>>>b^this._lBlock)&g;this._lBlock^=v,this._rBlock^=v<<b}r.DES=o._createHelper(x);var p=c.TripleDES=o.extend({_doReset:function(){var b=this._key,g=b.words;if(g.length!==2&&g.length!==4&&g.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var v=g.slice(0,2),w=g.length<4?g.slice(0,2):g.slice(2,4),C=g.length<6?g.slice(0,2):g.slice(4,6);this._des1=x.createEncryptor(a.create(v)),this._des2=x.createEncryptor(a.create(w)),this._des3=x.createEncryptor(a.create(C))},encryptBlock:function(b,g){this._des1.encryptBlock(b,g),this._des2.decryptBlock(b,g),this._des3.encryptBlock(b,g)},decryptBlock:function(b,g){this._des3.decryptBlock(b,g),this._des2.encryptBlock(b,g),this._des1.decryptBlock(b,g)},keySize:192/32,ivSize:64/32,blockSize:64/32});r.TripleDES=o._createHelper(p)}(),s.TripleDES})}(Yn)),Yn.exports}var Gn={exports:{}},xl;function py(){return xl||(xl=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ht(),$t(),kt(),Ce())})(Q,function(s){return function(){var r=s,n=r.lib,a=n.StreamCipher,o=r.algo,c=o.RC4=a.extend({_doReset:function(){for(var d=this._key,u=d.words,h=d.sigBytes,x=this._S=[],m=0;m<256;m++)x[m]=m;for(var m=0,y=0;m<256;m++){var p=m%h,b=u[p>>>2]>>>24-p%4*8&255;y=(y+x[m]+b)%256;var g=x[m];x[m]=x[y],x[y]=g}this._i=this._j=0},_doProcessBlock:function(d,u){d[u]^=f.call(this)},keySize:256/32,ivSize:0});function f(){for(var d=this._S,u=this._i,h=this._j,x=0,m=0;m<4;m++){u=(u+1)%256,h=(h+d[u])%256;var y=d[u];d[u]=d[h],d[h]=y,x|=d[(d[u]+d[h])%256]<<24-m*8}return this._i=u,this._j=h,x}r.RC4=a._createHelper(c);var l=o.RC4Drop=c.extend({cfg:c.cfg.extend({drop:192}),_doReset:function(){c._doReset.call(this);for(var d=this.cfg.drop;d>0;d--)f.call(this)}});r.RC4Drop=a._createHelper(l)}(),s.RC4})}(Gn)),Gn.exports}var Xn={exports:{}},ml;function gy(){return ml||(ml=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ht(),$t(),kt(),Ce())})(Q,function(s){return function(){var r=s,n=r.lib,a=n.StreamCipher,o=r.algo,c=[],f=[],l=[],d=o.Rabbit=a.extend({_doReset:function(){for(var h=this._key.words,x=this.cfg.iv,m=0;m<4;m++)h[m]=(h[m]<<8|h[m]>>>24)&16711935|(h[m]<<24|h[m]>>>8)&4278255360;var y=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],p=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var m=0;m<4;m++)u.call(this);for(var m=0;m<8;m++)p[m]^=y[m+4&7];if(x){var b=x.words,g=b[0],v=b[1],w=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,C=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,E=w>>>16|C&4294901760,D=C<<16|w&65535;p[0]^=w,p[1]^=E,p[2]^=C,p[3]^=D,p[4]^=w,p[5]^=E,p[6]^=C,p[7]^=D;for(var m=0;m<4;m++)u.call(this)}},_doProcessBlock:function(h,x){var m=this._X;u.call(this),c[0]=m[0]^m[5]>>>16^m[3]<<16,c[1]=m[2]^m[7]>>>16^m[5]<<16,c[2]=m[4]^m[1]>>>16^m[7]<<16,c[3]=m[6]^m[3]>>>16^m[1]<<16;for(var y=0;y<4;y++)c[y]=(c[y]<<8|c[y]>>>24)&16711935|(c[y]<<24|c[y]>>>8)&4278255360,h[x+y]^=c[y]},blockSize:128/32,ivSize:64/32});function u(){for(var h=this._X,x=this._C,m=0;m<8;m++)f[m]=x[m];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<f[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<f[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<f[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<f[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<f[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<f[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<f[6]>>>0?1:0)|0,this._b=x[7]>>>0<f[7]>>>0?1:0;for(var m=0;m<8;m++){var y=h[m]+x[m],p=y&65535,b=y>>>16,g=((p*p>>>17)+p*b>>>15)+b*b,v=((y&4294901760)*y|0)+((y&65535)*y|0);l[m]=g^v}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}r.Rabbit=a._createHelper(d)}(),s.Rabbit})}(Xn)),Xn.exports}var Qn={exports:{}},pl;function vy(){return pl||(pl=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ht(),$t(),kt(),Ce())})(Q,function(s){return function(){var r=s,n=r.lib,a=n.StreamCipher,o=r.algo,c=[],f=[],l=[],d=o.RabbitLegacy=a.extend({_doReset:function(){var h=this._key.words,x=this.cfg.iv,m=this._X=[h[0],h[3]<<16|h[2]>>>16,h[1],h[0]<<16|h[3]>>>16,h[2],h[1]<<16|h[0]>>>16,h[3],h[2]<<16|h[1]>>>16],y=this._C=[h[2]<<16|h[2]>>>16,h[0]&4294901760|h[1]&65535,h[3]<<16|h[3]>>>16,h[1]&4294901760|h[2]&65535,h[0]<<16|h[0]>>>16,h[2]&4294901760|h[3]&65535,h[1]<<16|h[1]>>>16,h[3]&4294901760|h[0]&65535];this._b=0;for(var p=0;p<4;p++)u.call(this);for(var p=0;p<8;p++)y[p]^=m[p+4&7];if(x){var b=x.words,g=b[0],v=b[1],w=(g<<8|g>>>24)&16711935|(g<<24|g>>>8)&4278255360,C=(v<<8|v>>>24)&16711935|(v<<24|v>>>8)&4278255360,E=w>>>16|C&4294901760,D=C<<16|w&65535;y[0]^=w,y[1]^=E,y[2]^=C,y[3]^=D,y[4]^=w,y[5]^=E,y[6]^=C,y[7]^=D;for(var p=0;p<4;p++)u.call(this)}},_doProcessBlock:function(h,x){var m=this._X;u.call(this),c[0]=m[0]^m[5]>>>16^m[3]<<16,c[1]=m[2]^m[7]>>>16^m[5]<<16,c[2]=m[4]^m[1]>>>16^m[7]<<16,c[3]=m[6]^m[3]>>>16^m[1]<<16;for(var y=0;y<4;y++)c[y]=(c[y]<<8|c[y]>>>24)&16711935|(c[y]<<24|c[y]>>>8)&4278255360,h[x+y]^=c[y]},blockSize:128/32,ivSize:64/32});function u(){for(var h=this._X,x=this._C,m=0;m<8;m++)f[m]=x[m];x[0]=x[0]+1295307597+this._b|0,x[1]=x[1]+3545052371+(x[0]>>>0<f[0]>>>0?1:0)|0,x[2]=x[2]+886263092+(x[1]>>>0<f[1]>>>0?1:0)|0,x[3]=x[3]+1295307597+(x[2]>>>0<f[2]>>>0?1:0)|0,x[4]=x[4]+3545052371+(x[3]>>>0<f[3]>>>0?1:0)|0,x[5]=x[5]+886263092+(x[4]>>>0<f[4]>>>0?1:0)|0,x[6]=x[6]+1295307597+(x[5]>>>0<f[5]>>>0?1:0)|0,x[7]=x[7]+3545052371+(x[6]>>>0<f[6]>>>0?1:0)|0,this._b=x[7]>>>0<f[7]>>>0?1:0;for(var m=0;m<8;m++){var y=h[m]+x[m],p=y&65535,b=y>>>16,g=((p*p>>>17)+p*b>>>15)+b*b,v=((y&4294901760)*y|0)+((y&65535)*y|0);l[m]=g^v}h[0]=l[0]+(l[7]<<16|l[7]>>>16)+(l[6]<<16|l[6]>>>16)|0,h[1]=l[1]+(l[0]<<8|l[0]>>>24)+l[7]|0,h[2]=l[2]+(l[1]<<16|l[1]>>>16)+(l[0]<<16|l[0]>>>16)|0,h[3]=l[3]+(l[2]<<8|l[2]>>>24)+l[1]|0,h[4]=l[4]+(l[3]<<16|l[3]>>>16)+(l[2]<<16|l[2]>>>16)|0,h[5]=l[5]+(l[4]<<8|l[4]>>>24)+l[3]|0,h[6]=l[6]+(l[5]<<16|l[5]>>>16)+(l[4]<<16|l[4]>>>16)|0,h[7]=l[7]+(l[6]<<8|l[6]>>>24)+l[5]|0}r.RabbitLegacy=a._createHelper(d)}(),s.RabbitLegacy})}(Qn)),Qn.exports}var Zn={exports:{}},gl;function yy(){return gl||(gl=1,function(e,t){(function(s,r,n){e.exports=r(ee(),Ht(),$t(),kt(),Ce())})(Q,function(s){return function(){var r=s,n=r.lib,a=n.BlockCipher,o=r.algo;const c=16,f=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],l=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var d={pbox:[],sbox:[]};function u(p,b){let g=b>>24&255,v=b>>16&255,w=b>>8&255,C=b&255,E=p.sbox[0][g]+p.sbox[1][v];return E=E^p.sbox[2][w],E=E+p.sbox[3][C],E}function h(p,b,g){let v=b,w=g,C;for(let E=0;E<c;++E)v=v^p.pbox[E],w=u(p,v)^w,C=v,v=w,w=C;return C=v,v=w,w=C,w=w^p.pbox[c],v=v^p.pbox[c+1],{left:v,right:w}}function x(p,b,g){let v=b,w=g,C;for(let E=c+1;E>1;--E)v=v^p.pbox[E],w=u(p,v)^w,C=v,v=w,w=C;return C=v,v=w,w=C,w=w^p.pbox[1],v=v^p.pbox[0],{left:v,right:w}}function m(p,b,g){for(let D=0;D<4;D++){p.sbox[D]=[];for(let B=0;B<256;B++)p.sbox[D][B]=l[D][B]}let v=0;for(let D=0;D<c+2;D++)p.pbox[D]=f[D]^b[v],v++,v>=g&&(v=0);let w=0,C=0,E=0;for(let D=0;D<c+2;D+=2)E=h(p,w,C),w=E.left,C=E.right,p.pbox[D]=w,p.pbox[D+1]=C;for(let D=0;D<4;D++)for(let B=0;B<256;B+=2)E=h(p,w,C),w=E.left,C=E.right,p.sbox[D][B]=w,p.sbox[D][B+1]=C;return!0}var y=o.Blowfish=a.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var p=this._keyPriorReset=this._key,b=p.words,g=p.sigBytes/4;m(d,b,g)}},encryptBlock:function(p,b){var g=h(d,p[b],p[b+1]);p[b]=g.left,p[b+1]=g.right},decryptBlock:function(p,b){var g=x(d,p[b],p[b+1]);p[b]=g.left,p[b+1]=g.right},blockSize:64/32,keySize:128/32,ivSize:64/32});r.Blowfish=a._createHelper(y)}(),s.Blowfish})}(Zn)),Zn.exports}(function(e,t){(function(s,r,n){e.exports=r(ee(),$r(),Gv(),Xv(),Ht(),Qv(),$t(),Zd(),Fa(),Zv(),Jd(),Jv(),ey(),ty(),Pa(),sy(),kt(),Ce(),ry(),ny(),iy(),ay(),oy(),ly(),cy(),dy(),uy(),fy(),hy(),xy(),my(),py(),gy(),vy(),yy())})(Q,function(s){return s})})(Qd);var by=Qd.exports;const Xt=ru(by),wy=async()=>{const e="8216EB35-BB77-49AD-94CA-A7C3520DC464",t="F5cEUty4UwQL2EyW",r=Xt.enc.Utf8.parse("CHqcPp7MN3mTY3nF6TWHdG8dHPVSgJBj"),n=Xt.enc.Utf8.parse(t),o=Xt.AES.encrypt(e,r,{iv:n,mode:Xt.mode.CBC,padding:Xt.pad.Pkcs7}).ciphertext.toString(Xt.enc.Base64);return sessionStorage.setItem("xapikeyNoAccessToken",o),localStorage.setItem("xapikeyNoAccessToken",o),console.log("Generated API key:",o),o},Cy=()=>{var $,L,z;const[e,t]=A.useState({firstName:"",lastName:"",email:"",phone:"",bio:"",stageName:"",password:"",confirmPassword:"",deviceId:"",deviceNickname:""}),[s,r]=A.useState({}),[n,a]=A.useState(!1),[o,c]=A.useState(1),[f,l]=A.useState(!1),d=st();A.useEffect(()=>{(async()=>{try{await wy(),l(!0)}catch(k){console.error("Failed to generate API key:",k)}})()},[]);const u=[{id:1,title:"Personal Info",subtitle:"Tell us about yourself",icon:"",description:"Basic contact information and bio"},{id:2,title:"Create Password",subtitle:"Set up your account security",icon:"",description:"Create a secure password for login (creates your profile)"},{id:3,title:"Device Setup",subtitle:"Register your Tipply device",icon:"",description:"Device ID and nickname"},{id:4,title:"KYC Verification",subtitle:"Identity verification with Stripe",icon:"",description:"Security & compliance"},{id:5,title:"Complete Setup",subtitle:"Finish onboarding",icon:"",description:"Ready to start accepting tips"}],h=M=>{const{name:k,value:W}=M.target;t(S=>({...S,[k]:W})),r(S=>({...S,[k]:""}))},x=()=>e.password.length<6?"Password must be at least 6 characters long":e.password!==e.confirmPassword?"Passwords do not match":null,m=()=>{const M=e.deviceId.trim();return M?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(M)?M.length!==36?"UUID must be exactly 36 characters long":null:"Please enter a valid UUID format (e.g., f47ac10b-58cc-4372-a567-0e02b2c3d47f)":"Device ID is required"},y=async()=>{var k;const M=e.deviceId.trim();if(!M)return{isValid:!1,error:"Device ID is required"};try{const W=await fe.checkDeviceExists(M);if(W.error)return{isValid:!1,error:W.error};if((k=W.data)!=null&&k.exists){const S=W.data.device;return{isValid:!1,error:"Device UUID already exists",details:{ownerName:S.ownerName,ownerEmail:S.ownerEmail,nickname:S.nickname,createdAt:S.createdAt}}}return{isValid:!0,error:null}}catch{return{isValid:!1,error:"Failed to validate device UUID"}}},p=()=>{const M={};return e.firstName.trim()||(M.firstName="First name is required"),e.lastName.trim()||(M.lastName="Last name is required"),e.email.trim()?/\S+@\S+\.\S+/.test(e.email)||(M.email="Please enter a valid email address"):M.email="Email is required",r(M),Object.keys(M).length===0},b=async()=>{if(o<5)if(o===1){if(!p())return;await v(),c(o+1)}else if(o===2){const M=x();if(M){r(k=>({...k,password:M}));return}r(k=>({...k,password:"",confirmPassword:""})),await w(),c(o+1)}else if(o===3){const M=m();if(M){r(k=>({...k,deviceId:M}));return}r(k=>({...k,deviceId:""})),await C(),c(o+1)}else o===4&&await E();else D()},g=()=>{o>1&&(c(o-1),r({}))},v=async()=>{a(!0);try{console.log("Personal info saved for onboarding")}catch(M){console.error("Failed to save personal info:",M)}finally{a(!1)}},w=async()=>{a(!0);try{const M=await fe.createProfileOnboarding({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,password:e.password});if(M.error)throw new Error(M.error);console.log("Profile created and password set successfully for onboarding")}catch(M){console.error("Failed to create profile:",M)}finally{a(!1)}},C=async()=>{a(!0);try{const M=await y();if(!M.isValid){if(r(W=>({...W,deviceId:M.error||"Device validation failed"})),M.details){const W=M.details,S=` Device UUID Already Exists

This device UUID is already registered to:
 Owner: ${W.ownerName}
 Email: ${W.ownerEmail}
 Nickname: ${W.nickname||"No nickname"}
 Registered: ${new Date(W.createdAt).toLocaleDateString()}

Please use a different device UUID or contact support if this is your device.`;alert(S)}return}const k=await fe.registerDeviceOnboarding({deviceUuid:e.deviceId,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,nickname:e.deviceNickname});if(k.error){if(k.error.includes("already exists")){r(W=>({...W,deviceId:"This device is already registered. Please use a different device ID or contact support if this is your device."}));return}throw new Error(k.error)}console.log("Device registered successfully for onboarding")}catch(M){console.error("Failed to register device:",M),r(k=>({...k,deviceId:M instanceof Error?M.message:"Failed to register device. Please try again."}))}finally{a(!1)}},E=async()=>{var M;a(!0);try{sessionStorage.setItem("onboarding_email",e.email),sessionStorage.setItem("onboarding_password",e.password);const k=await fe.createConnectAccount({deviceUuid:e.deviceId,firstName:e.firstName,lastName:e.lastName,email:e.email});if(k.error)throw new Error(k.error);if((M=k.data)!=null&&M.onboardingUrl){window.location.href=k.data.onboardingUrl;return}else throw new Error("No onboarding URL received from Stripe")}catch(k){console.error("Failed to start KYC process:",k),a(!1)}},D=async()=>{a(!0);try{d("/dashboard")}catch(M){console.error("Onboarding failed:",M)}finally{a(!1)}},B=()=>i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Personal Information"}),i.jsx("p",{className:"text-gray-600",children:"Let's start with your basic details and tell us about yourself"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-gray-700",children:"First Name *"}),i.jsx("input",{type:"text",id:"firstName",name:"firstName",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your first name",value:e.firstName,onChange:h}),s.firstName&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.firstName})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"lastName",className:"block text-sm font-semibold text-gray-700",children:"Last Name *"}),i.jsx("input",{type:"text",id:"lastName",name:"lastName",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Enter your last name",value:e.lastName,onChange:h}),s.lastName&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.lastName})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"stageName",className:"block text-sm font-semibold text-gray-700",children:"Stage Name"}),i.jsx("input",{type:"text",id:"stageName",name:"stageName",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Your stage name or artist name",value:e.stageName,onChange:h}),i.jsx("p",{className:"text-sm text-gray-500",children:"This is how you'll appear to your audience"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700",children:"Email Address *"}),i.jsx("input",{type:"email",id:"email",name:"email",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"your.email@example.com",value:e.email,onChange:h}),s.email&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.email})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700",children:"Phone Number"}),i.jsx("input",{type:"tel",id:"phone",name:"phone",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"+1 (555) 123-4567",value:e.phone,onChange:h}),s.phone&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.phone})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"bio",className:"block text-sm font-semibold text-gray-700",children:"Bio"}),i.jsx("textarea",{id:"bio",name:"bio",rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Tell your audience a bit about yourself...",value:e.bio,onChange:h}),s.bio&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.bio}),i.jsx("p",{className:"text-sm text-gray-500",children:"A short description that will appear on your tipping page"})]})]}),F=()=>i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Create Your Password"}),i.jsx("p",{className:"text-gray-600",children:"Set up a secure password to protect your account"})]}),i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Password Requirements"}),i.jsx("p",{className:"text-blue-700 mb-4",children:"Your password will be used to log into your Tipply dashboard and manage your account."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{className:"text-blue-800",children:"At least 6 characters long"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{className:"text-blue-800",children:"Use a combination of letters, numbers, and symbols"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{className:"text-blue-800",children:"Avoid using personal information"})]})]})]})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700",children:"Password *"}),i.jsx("input",{type:"password",id:"password",name:"password",required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${s.password?"border-red-500 focus:ring-red-200":"border-gray-300"}`,placeholder:"Enter your password",value:e.password,onChange:h}),s.password&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.password}),i.jsx("p",{className:"text-sm text-gray-500",children:"Minimum 6 characters"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700",children:"Confirm Password *"}),i.jsx("input",{type:"password",id:"confirmPassword",name:"confirmPassword",required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"Confirm your password",value:e.confirmPassword,onChange:h}),s.confirmPassword&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.confirmPassword})]})]})]}),j=()=>i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Device Registration"}),i.jsx("p",{className:"text-gray-600",children:"Register your Tipply device to start accepting tips"})]}),i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-lg font-semibold text-blue-900 mb-2",children:"Device Setup Instructions"}),i.jsx("p",{className:"text-blue-700 mb-4",children:"You'll need your Tipply device ID to complete this step. This is typically found on the device itself or in the device documentation."}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{className:"text-blue-800",children:"Locate your device ID (usually a UUID)"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{className:"text-blue-800",children:"Give your device a memorable nickname"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{className:"text-blue-800",children:"We'll generate a QR code for your audience"})]})]})]})]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"deviceId",className:"block text-sm font-semibold text-gray-700",children:"Device ID *"}),i.jsx("input",{type:"text",id:"deviceId",name:"deviceId",required:!0,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200 ${s.deviceId?"border-red-500 focus:ring-red-200":"border-gray-300"}`,placeholder:"f47ac10b-58cc-4372-a567-0e02b2c3d47f",value:e.deviceId,onChange:h,onBlur:async()=>{if(e.deviceId.trim()){const M=await y();M.isValid?r(k=>({...k,deviceId:""})):r(k=>({...k,deviceId:M.error||"Device validation failed"}))}}}),s.deviceId&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.deviceId}),i.jsx("p",{className:"text-sm text-gray-500",children:"Enter the UUID from your Tipply device (36 characters, format: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx)"}),e.deviceId&&i.jsxs("div",{className:"mt-2 p-2 bg-gray-100 rounded text-xs",children:[i.jsx("p",{children:i.jsx("strong",{children:"Debug Info:"})}),i.jsxs("p",{children:["Length: ",e.deviceId.length," characters"]}),i.jsxs("p",{children:["UUID: ",e.deviceId]}),i.jsx("p",{children:"Expected format: 8-4-4-4-12 characters with hyphens"}),e.deviceId.length!==36&&i.jsxs("p",{className:"text-red-600",children:[" Your UUID has ",e.deviceId.length," characters, expected 36"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{htmlFor:"deviceNickname",className:"block text-sm font-semibold text-gray-700",children:"Device Nickname"}),i.jsx("input",{type:"text",id:"deviceNickname",name:"deviceNickname",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent transition-all duration-200",placeholder:"e.g., Main Stage, Bar Counter, etc.",value:e.deviceNickname,onChange:h}),s.deviceNickname&&i.jsx("p",{className:"text-red-500 text-xs mt-1",children:s.deviceNickname}),i.jsx("p",{className:"text-sm text-gray-500",children:"A friendly name to help you identify this device"})]})]})]}),N=()=>i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"KYC Verification"}),i.jsx("p",{className:"text-gray-600",children:"Complete identity verification with Stripe to receive payments"})]}),i.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-lg font-semibold text-green-900 mb-2",children:"Stripe Connect KYC Process"}),i.jsx("p",{className:"text-green-700 mb-4",children:"To comply with financial regulations and ensure secure transactions, we need to verify your identity through Stripe Connect. This process is quick, secure, and required to receive payments."}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Government ID verification"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Address verification"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Business verification"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-3 border border-green-200",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Secure payment processing"})]})})]})]})]})}),i.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsxs("p",{className:"text-yellow-800 text-sm",children:[i.jsx("strong",{children:"Note:"})," You'll be redirected to Stripe's secure platform to complete the verification process. After completion, you'll be redirected back to Tipply."]})]})})]}),P=()=>i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-6xl mb-4",children:""}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Setup Complete!"}),i.jsx("p",{className:"text-gray-600",children:"You're all set to start accepting tips"})]}),i.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 border border-purple-200 rounded-xl p-6",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:i.jsx("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"text-lg font-semibold text-purple-900 mb-2",children:"Welcome to Tipply!"}),i.jsx("p",{className:"text-purple-700 mb-4",children:"Your account is now fully set up and ready to accept tips. You can access your dashboard to view analytics, manage your devices, and download QR codes for your audience."}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[i.jsx("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{className:"text-sm font-medium text-purple-800",children:"View your dashboard"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Download QR codes"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Manage devices"})]})}),i.jsx("div",{className:"bg-white rounded-lg p-3 border border-purple-200",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("svg",{className:"w-4 h-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),i.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Track earnings"})]})})]})]})]})})]}),T=()=>{switch(o){case 1:return B();case 2:return F();case 3:return j();case 4:return N();case 5:return P();default:return B()}},H=()=>o<5?u[o]:null;return f?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100",children:i.jsxs("div",{className:"max-w-4xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Welcome to Tipply"}),i.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Let's get you set up to start accepting tips in just a few minutes"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsx("div",{className:"lg:col-span-1",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 sticky top-8",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:"Setup Progress"}),i.jsx("div",{className:"space-y-4",children:u.map(M=>i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`flex-shrink-0 w-10 h-10 rounded-full flex items-center justify-center text-lg font-medium transition-all duration-200 ${M.id<o?"bg-green-100 text-green-600":M.id===o?"bg-primary-100 text-primary-600":"bg-gray-100 text-gray-400"}`,children:M.id<o?"":M.icon}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:`text-sm font-medium ${M.id<=o?"text-gray-900":"text-gray-500"}`,children:M.title}),i.jsx("p",{className:`text-xs ${M.id<=o?"text-gray-600":"text-gray-400"}`,children:M.subtitle})]})]},M.id))}),i.jsxs("div",{className:"mt-6",children:[i.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mb-2",children:[i.jsx("span",{children:"Progress"}),i.jsxs("span",{children:[Math.round(o/5*100),"%"]})]}),i.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:i.jsx("div",{className:"bg-gradient-to-r from-primary-500 to-primary-600 h-2 rounded-full transition-all duration-500",style:{width:`${o/5*100}%`}})})]})]})}),i.jsx("div",{className:"lg:col-span-2",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-8",children:[T(),H()&&i.jsx("div",{className:"mt-8 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"text-2xl",children:($=H())==null?void 0:$.icon}),i.jsxs("div",{children:[i.jsxs("p",{className:"text-sm font-medium text-blue-900",children:["Next: ",(L=H())==null?void 0:L.title]}),i.jsx("p",{className:"text-xs text-blue-700",children:(z=H())==null?void 0:z.description})]})]})}),i.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[i.jsx("button",{type:"button",onClick:g,disabled:o===1,className:"px-6 py-3 text-gray-600 hover:text-gray-800 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200",children:" Back"}),i.jsx("button",{type:"button",onClick:b,disabled:n,className:"px-8 py-3 bg-gradient-to-r from-primary-600 to-primary-700 text-white font-medium rounded-lg hover:from-primary-700 hover:to-primary-800 focus:ring-4 focus:ring-primary-200 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:n?i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),i.jsx("span",{children:"Processing..."})]}):o===5?"Go to Dashboard":o===4?"Start KYC Process":"Continue"})]})]})})]}),i.jsx("div",{className:"mt-8 text-center",children:i.jsx("button",{onClick:()=>d("/login"),className:"text-primary-600 hover:text-primary-700 font-medium transition-colors duration-200",children:" Back to Sign In"})})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Initializing secure connection..."})]})})},Ey=()=>{const e=st();return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"max-w-md mx-auto text-center",children:[i.jsx("div",{className:"text-6xl font-bold text-gray-300 mb-4",children:"404"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Page Not Found"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"The page you're looking for doesn't exist."}),i.jsx("button",{onClick:()=>e("/"),className:"btn-primary",children:"Go Home"})]})})};function Ay(){return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsxs(of,{children:[i.jsx(Ve,{path:"/",element:i.jsx(Wa,{})}),i.jsx(Ve,{path:"/login",element:i.jsx(Wa,{})}),i.jsx(Ve,{path:"/onboarding",element:i.jsx(Cy,{})}),i.jsx(Ve,{path:"/dashboard",element:i.jsx(Of,{})}),i.jsx(Ve,{path:"/profile",element:i.jsx(Uf,{})}),i.jsx(Ve,{path:"/add-device",element:i.jsx(zf,{})}),i.jsx(Ve,{path:"/manage-devices",element:i.jsx(Hf,{})}),i.jsx(Ve,{path:"/tip/:deviceId",element:i.jsx(Uv,{})}),i.jsx(Ve,{path:"/stripe-return",element:i.jsx(zv,{})}),i.jsx(Ve,{path:"/kyc-return",element:i.jsx(Hv,{})}),i.jsx(Ve,{path:"/stripe-status",element:i.jsx($v,{})}),i.jsx(Ve,{path:"*",element:i.jsx(Ey,{})})]}),i.jsx(Lf,{position:"top-center",richColors:!0})]})}Jn.createRoot(document.getElementById("root")).render(i.jsx(U.StrictMode,{children:i.jsx(uf,{children:i.jsx(Ay,{})})}));
